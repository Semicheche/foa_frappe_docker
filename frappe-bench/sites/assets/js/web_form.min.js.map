{"version":3,"file":"web_form.min.js","sources":["../../../apps/frappe/node_modules/moment/moment.js","../../../apps/frappe/frappe/website/js/web_form.js","../../../apps/frappe/frappe/public/js/lib/summernote/summernote.js","../../../apps/frappe/frappe/public/js/lib/datepicker/datepicker.min.js","../../../apps/frappe/frappe/public/js/lib/datepicker/datepicker.en.js"],"sourcesContent":["//! moment.js\n//! version : 2.20.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\nvar hookCallback;\n\nfunction hooks () {\n    return hookCallback.apply(null, arguments);\n}\n\n// This is done to register the method called with moment()\n// without creating circular dependencies.\nfunction setHookCallback (callback) {\n    hookCallback = callback;\n}\n\nfunction isArray(input) {\n    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n}\n\nfunction isObject(input) {\n    // IE8 will treat undefined and null as object if it wasn't for\n    // input != null\n    return input != null && Object.prototype.toString.call(input) === '[object Object]';\n}\n\nfunction isObjectEmpty(obj) {\n    if (Object.getOwnPropertyNames) {\n        return (Object.getOwnPropertyNames(obj).length === 0);\n    } else {\n        var k;\n        for (k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\nfunction isUndefined(input) {\n    return input === void 0;\n}\n\nfunction isNumber(input) {\n    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n}\n\nfunction isDate(input) {\n    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n}\n\nfunction map(arr, fn) {\n    var res = [], i;\n    for (i = 0; i < arr.length; ++i) {\n        res.push(fn(arr[i], i));\n    }\n    return res;\n}\n\nfunction hasOwnProp(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n}\n\nfunction extend(a, b) {\n    for (var i in b) {\n        if (hasOwnProp(b, i)) {\n            a[i] = b[i];\n        }\n    }\n\n    if (hasOwnProp(b, 'toString')) {\n        a.toString = b.toString;\n    }\n\n    if (hasOwnProp(b, 'valueOf')) {\n        a.valueOf = b.valueOf;\n    }\n\n    return a;\n}\n\nfunction createUTC (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, true).utc();\n}\n\nfunction defaultParsingFlags() {\n    // We need to deep clone this object.\n    return {\n        empty           : false,\n        unusedTokens    : [],\n        unusedInput     : [],\n        overflow        : -2,\n        charsLeftOver   : 0,\n        nullInput       : false,\n        invalidMonth    : null,\n        invalidFormat   : false,\n        userInvalidated : false,\n        iso             : false,\n        parsedDateParts : [],\n        meridiem        : null,\n        rfc2822         : false,\n        weekdayMismatch : false\n    };\n}\n\nfunction getParsingFlags(m) {\n    if (m._pf == null) {\n        m._pf = defaultParsingFlags();\n    }\n    return m._pf;\n}\n\nvar some;\nif (Array.prototype.some) {\n    some = Array.prototype.some;\n} else {\n    some = function (fun) {\n        var t = Object(this);\n        var len = t.length >>> 0;\n\n        for (var i = 0; i < len; i++) {\n            if (i in t && fun.call(this, t[i], i, t)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n}\n\nfunction isValid(m) {\n    if (m._isValid == null) {\n        var flags = getParsingFlags(m);\n        var parsedParts = some.call(flags.parsedDateParts, function (i) {\n            return i != null;\n        });\n        var isNowValid = !isNaN(m._d.getTime()) &&\n            flags.overflow < 0 &&\n            !flags.empty &&\n            !flags.invalidMonth &&\n            !flags.invalidWeekday &&\n            !flags.weekdayMismatch &&\n            !flags.nullInput &&\n            !flags.invalidFormat &&\n            !flags.userInvalidated &&\n            (!flags.meridiem || (flags.meridiem && parsedParts));\n\n        if (m._strict) {\n            isNowValid = isNowValid &&\n                flags.charsLeftOver === 0 &&\n                flags.unusedTokens.length === 0 &&\n                flags.bigHour === undefined;\n        }\n\n        if (Object.isFrozen == null || !Object.isFrozen(m)) {\n            m._isValid = isNowValid;\n        }\n        else {\n            return isNowValid;\n        }\n    }\n    return m._isValid;\n}\n\nfunction createInvalid (flags) {\n    var m = createUTC(NaN);\n    if (flags != null) {\n        extend(getParsingFlags(m), flags);\n    }\n    else {\n        getParsingFlags(m).userInvalidated = true;\n    }\n\n    return m;\n}\n\n// Plugins that add properties should also add the key here (null value),\n// so we can properly clone ourselves.\nvar momentProperties = hooks.momentProperties = [];\n\nfunction copyConfig(to, from) {\n    var i, prop, val;\n\n    if (!isUndefined(from._isAMomentObject)) {\n        to._isAMomentObject = from._isAMomentObject;\n    }\n    if (!isUndefined(from._i)) {\n        to._i = from._i;\n    }\n    if (!isUndefined(from._f)) {\n        to._f = from._f;\n    }\n    if (!isUndefined(from._l)) {\n        to._l = from._l;\n    }\n    if (!isUndefined(from._strict)) {\n        to._strict = from._strict;\n    }\n    if (!isUndefined(from._tzm)) {\n        to._tzm = from._tzm;\n    }\n    if (!isUndefined(from._isUTC)) {\n        to._isUTC = from._isUTC;\n    }\n    if (!isUndefined(from._offset)) {\n        to._offset = from._offset;\n    }\n    if (!isUndefined(from._pf)) {\n        to._pf = getParsingFlags(from);\n    }\n    if (!isUndefined(from._locale)) {\n        to._locale = from._locale;\n    }\n\n    if (momentProperties.length > 0) {\n        for (i = 0; i < momentProperties.length; i++) {\n            prop = momentProperties[i];\n            val = from[prop];\n            if (!isUndefined(val)) {\n                to[prop] = val;\n            }\n        }\n    }\n\n    return to;\n}\n\nvar updateInProgress = false;\n\n// Moment prototype object\nfunction Moment(config) {\n    copyConfig(this, config);\n    this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n    if (!this.isValid()) {\n        this._d = new Date(NaN);\n    }\n    // Prevent infinite loop in case updateOffset creates new moment\n    // objects.\n    if (updateInProgress === false) {\n        updateInProgress = true;\n        hooks.updateOffset(this);\n        updateInProgress = false;\n    }\n}\n\nfunction isMoment (obj) {\n    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n}\n\nfunction absFloor (number) {\n    if (number < 0) {\n        // -0 -> 0\n        return Math.ceil(number) || 0;\n    } else {\n        return Math.floor(number);\n    }\n}\n\nfunction toInt(argumentForCoercion) {\n    var coercedNumber = +argumentForCoercion,\n        value = 0;\n\n    if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n        value = absFloor(coercedNumber);\n    }\n\n    return value;\n}\n\n// compare two arrays, return the number of differences\nfunction compareArrays(array1, array2, dontConvert) {\n    var len = Math.min(array1.length, array2.length),\n        lengthDiff = Math.abs(array1.length - array2.length),\n        diffs = 0,\n        i;\n    for (i = 0; i < len; i++) {\n        if ((dontConvert && array1[i] !== array2[i]) ||\n            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n            diffs++;\n        }\n    }\n    return diffs + lengthDiff;\n}\n\nfunction warn(msg) {\n    if (hooks.suppressDeprecationWarnings === false &&\n            (typeof console !==  'undefined') && console.warn) {\n        console.warn('Deprecation warning: ' + msg);\n    }\n}\n\nfunction deprecate(msg, fn) {\n    var firstTime = true;\n\n    return extend(function () {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(null, msg);\n        }\n        if (firstTime) {\n            var args = [];\n            var arg;\n            for (var i = 0; i < arguments.length; i++) {\n                arg = '';\n                if (typeof arguments[i] === 'object') {\n                    arg += '\\n[' + i + '] ';\n                    for (var key in arguments[0]) {\n                        arg += key + ': ' + arguments[0][key] + ', ';\n                    }\n                    arg = arg.slice(0, -2); // Remove trailing comma and space\n                } else {\n                    arg = arguments[i];\n                }\n                args.push(arg);\n            }\n            warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n            firstTime = false;\n        }\n        return fn.apply(this, arguments);\n    }, fn);\n}\n\nvar deprecations = {};\n\nfunction deprecateSimple(name, msg) {\n    if (hooks.deprecationHandler != null) {\n        hooks.deprecationHandler(name, msg);\n    }\n    if (!deprecations[name]) {\n        warn(msg);\n        deprecations[name] = true;\n    }\n}\n\nhooks.suppressDeprecationWarnings = false;\nhooks.deprecationHandler = null;\n\nfunction isFunction(input) {\n    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n}\n\nfunction set (config) {\n    var prop, i;\n    for (i in config) {\n        prop = config[i];\n        if (isFunction(prop)) {\n            this[i] = prop;\n        } else {\n            this['_' + i] = prop;\n        }\n    }\n    this._config = config;\n    // Lenient ordinal parsing accepts just a number in addition to\n    // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    this._dayOfMonthOrdinalParseLenient = new RegExp(\n        (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n            '|' + (/\\d{1,2}/).source);\n}\n\nfunction mergeConfigs(parentConfig, childConfig) {\n    var res = extend({}, parentConfig), prop;\n    for (prop in childConfig) {\n        if (hasOwnProp(childConfig, prop)) {\n            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                res[prop] = {};\n                extend(res[prop], parentConfig[prop]);\n                extend(res[prop], childConfig[prop]);\n            } else if (childConfig[prop] != null) {\n                res[prop] = childConfig[prop];\n            } else {\n                delete res[prop];\n            }\n        }\n    }\n    for (prop in parentConfig) {\n        if (hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])) {\n            // make sure changes to properties don't modify parent config\n            res[prop] = extend({}, res[prop]);\n        }\n    }\n    return res;\n}\n\nfunction Locale(config) {\n    if (config != null) {\n        this.set(config);\n    }\n}\n\nvar keys;\n\nif (Object.keys) {\n    keys = Object.keys;\n} else {\n    keys = function (obj) {\n        var i, res = [];\n        for (i in obj) {\n            if (hasOwnProp(obj, i)) {\n                res.push(i);\n            }\n        }\n        return res;\n    };\n}\n\nvar defaultCalendar = {\n    sameDay : '[Today at] LT',\n    nextDay : '[Tomorrow at] LT',\n    nextWeek : 'dddd [at] LT',\n    lastDay : '[Yesterday at] LT',\n    lastWeek : '[Last] dddd [at] LT',\n    sameElse : 'L'\n};\n\nfunction calendar (key, mom, now) {\n    var output = this._calendar[key] || this._calendar['sameElse'];\n    return isFunction(output) ? output.call(mom, now) : output;\n}\n\nvar defaultLongDateFormat = {\n    LTS  : 'h:mm:ss A',\n    LT   : 'h:mm A',\n    L    : 'MM/DD/YYYY',\n    LL   : 'MMMM D, YYYY',\n    LLL  : 'MMMM D, YYYY h:mm A',\n    LLLL : 'dddd, MMMM D, YYYY h:mm A'\n};\n\nfunction longDateFormat (key) {\n    var format = this._longDateFormat[key],\n        formatUpper = this._longDateFormat[key.toUpperCase()];\n\n    if (format || !formatUpper) {\n        return format;\n    }\n\n    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n        return val.slice(1);\n    });\n\n    return this._longDateFormat[key];\n}\n\nvar defaultInvalidDate = 'Invalid date';\n\nfunction invalidDate () {\n    return this._invalidDate;\n}\n\nvar defaultOrdinal = '%d';\nvar defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\nfunction ordinal (number) {\n    return this._ordinal.replace('%d', number);\n}\n\nvar defaultRelativeTime = {\n    future : 'in %s',\n    past   : '%s ago',\n    s  : 'a few seconds',\n    ss : '%d seconds',\n    m  : 'a minute',\n    mm : '%d minutes',\n    h  : 'an hour',\n    hh : '%d hours',\n    d  : 'a day',\n    dd : '%d days',\n    M  : 'a month',\n    MM : '%d months',\n    y  : 'a year',\n    yy : '%d years'\n};\n\nfunction relativeTime (number, withoutSuffix, string, isFuture) {\n    var output = this._relativeTime[string];\n    return (isFunction(output)) ?\n        output(number, withoutSuffix, string, isFuture) :\n        output.replace(/%d/i, number);\n}\n\nfunction pastFuture (diff, output) {\n    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n    return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n}\n\nvar aliases = {};\n\nfunction addUnitAlias (unit, shorthand) {\n    var lowerCase = unit.toLowerCase();\n    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n}\n\nfunction normalizeUnits(units) {\n    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n}\n\nfunction normalizeObjectUnits(inputObject) {\n    var normalizedInput = {},\n        normalizedProp,\n        prop;\n\n    for (prop in inputObject) {\n        if (hasOwnProp(inputObject, prop)) {\n            normalizedProp = normalizeUnits(prop);\n            if (normalizedProp) {\n                normalizedInput[normalizedProp] = inputObject[prop];\n            }\n        }\n    }\n\n    return normalizedInput;\n}\n\nvar priorities = {};\n\nfunction addUnitPriority(unit, priority) {\n    priorities[unit] = priority;\n}\n\nfunction getPrioritizedUnits(unitsObj) {\n    var units = [];\n    for (var u in unitsObj) {\n        units.push({unit: u, priority: priorities[u]});\n    }\n    units.sort(function (a, b) {\n        return a.priority - b.priority;\n    });\n    return units;\n}\n\nfunction zeroFill(number, targetLength, forceSign) {\n    var absNumber = '' + Math.abs(number),\n        zerosToFill = targetLength - absNumber.length,\n        sign = number >= 0;\n    return (sign ? (forceSign ? '+' : '') : '-') +\n        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n}\n\nvar formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\nvar localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\nvar formatFunctions = {};\n\nvar formatTokenFunctions = {};\n\n// token:    'M'\n// padded:   ['MM', 2]\n// ordinal:  'Mo'\n// callback: function () { this.month() + 1 }\nfunction addFormatToken (token, padded, ordinal, callback) {\n    var func = callback;\n    if (typeof callback === 'string') {\n        func = function () {\n            return this[callback]();\n        };\n    }\n    if (token) {\n        formatTokenFunctions[token] = func;\n    }\n    if (padded) {\n        formatTokenFunctions[padded[0]] = function () {\n            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n        };\n    }\n    if (ordinal) {\n        formatTokenFunctions[ordinal] = function () {\n            return this.localeData().ordinal(func.apply(this, arguments), token);\n        };\n    }\n}\n\nfunction removeFormattingTokens(input) {\n    if (input.match(/\\[[\\s\\S]/)) {\n        return input.replace(/^\\[|\\]$/g, '');\n    }\n    return input.replace(/\\\\/g, '');\n}\n\nfunction makeFormatFunction(format) {\n    var array = format.match(formattingTokens), i, length;\n\n    for (i = 0, length = array.length; i < length; i++) {\n        if (formatTokenFunctions[array[i]]) {\n            array[i] = formatTokenFunctions[array[i]];\n        } else {\n            array[i] = removeFormattingTokens(array[i]);\n        }\n    }\n\n    return function (mom) {\n        var output = '', i;\n        for (i = 0; i < length; i++) {\n            output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n        }\n        return output;\n    };\n}\n\n// format date using native date object\nfunction formatMoment(m, format) {\n    if (!m.isValid()) {\n        return m.localeData().invalidDate();\n    }\n\n    format = expandFormat(format, m.localeData());\n    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n    return formatFunctions[format](m);\n}\n\nfunction expandFormat(format, locale) {\n    var i = 5;\n\n    function replaceLongDateFormatTokens(input) {\n        return locale.longDateFormat(input) || input;\n    }\n\n    localFormattingTokens.lastIndex = 0;\n    while (i >= 0 && localFormattingTokens.test(format)) {\n        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n        localFormattingTokens.lastIndex = 0;\n        i -= 1;\n    }\n\n    return format;\n}\n\nvar match1         = /\\d/;            //       0 - 9\nvar match2         = /\\d\\d/;          //      00 - 99\nvar match3         = /\\d{3}/;         //     000 - 999\nvar match4         = /\\d{4}/;         //    0000 - 9999\nvar match6         = /[+-]?\\d{6}/;    // -999999 - 999999\nvar match1to2      = /\\d\\d?/;         //       0 - 99\nvar match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\nvar match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\nvar match1to3      = /\\d{1,3}/;       //       0 - 999\nvar match1to4      = /\\d{1,4}/;       //       0 - 9999\nvar match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\nvar matchUnsigned  = /\\d+/;           //       0 - inf\nvar matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\nvar matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\nvar matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\nvar matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n// any word (or two) characters or numbers including two/three word month in arabic.\n// includes scottish gaelic two word and hyphenated months\nvar matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n\nvar regexes = {};\n\nfunction addRegexToken (token, regex, strictRegex) {\n    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n        return (isStrict && strictRegex) ? strictRegex : regex;\n    };\n}\n\nfunction getParseRegexForToken (token, config) {\n    if (!hasOwnProp(regexes, token)) {\n        return new RegExp(unescapeFormat(token));\n    }\n\n    return regexes[token](config._strict, config._locale);\n}\n\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction unescapeFormat(s) {\n    return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n        return p1 || p2 || p3 || p4;\n    }));\n}\n\nfunction regexEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n\nvar tokens = {};\n\nfunction addParseToken (token, callback) {\n    var i, func = callback;\n    if (typeof token === 'string') {\n        token = [token];\n    }\n    if (isNumber(callback)) {\n        func = function (input, array) {\n            array[callback] = toInt(input);\n        };\n    }\n    for (i = 0; i < token.length; i++) {\n        tokens[token[i]] = func;\n    }\n}\n\nfunction addWeekParseToken (token, callback) {\n    addParseToken(token, function (input, array, config, token) {\n        config._w = config._w || {};\n        callback(input, config._w, config, token);\n    });\n}\n\nfunction addTimeToArrayFromToken(token, input, config) {\n    if (input != null && hasOwnProp(tokens, token)) {\n        tokens[token](input, config._a, config, token);\n    }\n}\n\nvar YEAR = 0;\nvar MONTH = 1;\nvar DATE = 2;\nvar HOUR = 3;\nvar MINUTE = 4;\nvar SECOND = 5;\nvar MILLISECOND = 6;\nvar WEEK = 7;\nvar WEEKDAY = 8;\n\n// FORMATTING\n\naddFormatToken('Y', 0, 0, function () {\n    var y = this.year();\n    return y <= 9999 ? '' + y : '+' + y;\n});\n\naddFormatToken(0, ['YY', 2], 0, function () {\n    return this.year() % 100;\n});\n\naddFormatToken(0, ['YYYY',   4],       0, 'year');\naddFormatToken(0, ['YYYYY',  5],       0, 'year');\naddFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n// ALIASES\n\naddUnitAlias('year', 'y');\n\n// PRIORITIES\n\naddUnitPriority('year', 1);\n\n// PARSING\n\naddRegexToken('Y',      matchSigned);\naddRegexToken('YY',     match1to2, match2);\naddRegexToken('YYYY',   match1to4, match4);\naddRegexToken('YYYYY',  match1to6, match6);\naddRegexToken('YYYYYY', match1to6, match6);\n\naddParseToken(['YYYYY', 'YYYYYY'], YEAR);\naddParseToken('YYYY', function (input, array) {\n    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n});\naddParseToken('YY', function (input, array) {\n    array[YEAR] = hooks.parseTwoDigitYear(input);\n});\naddParseToken('Y', function (input, array) {\n    array[YEAR] = parseInt(input, 10);\n});\n\n// HELPERS\n\nfunction daysInYear(year) {\n    return isLeapYear(year) ? 366 : 365;\n}\n\nfunction isLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n// HOOKS\n\nhooks.parseTwoDigitYear = function (input) {\n    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n};\n\n// MOMENTS\n\nvar getSetYear = makeGetSet('FullYear', true);\n\nfunction getIsLeapYear () {\n    return isLeapYear(this.year());\n}\n\nfunction makeGetSet (unit, keepTime) {\n    return function (value) {\n        if (value != null) {\n            set$1(this, unit, value);\n            hooks.updateOffset(this, keepTime);\n            return this;\n        } else {\n            return get(this, unit);\n        }\n    };\n}\n\nfunction get (mom, unit) {\n    return mom.isValid() ?\n        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n}\n\nfunction set$1 (mom, unit, value) {\n    if (mom.isValid() && !isNaN(value)) {\n        if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n        }\n        else {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n        }\n    }\n}\n\n// MOMENTS\n\nfunction stringGet (units) {\n    units = normalizeUnits(units);\n    if (isFunction(this[units])) {\n        return this[units]();\n    }\n    return this;\n}\n\n\nfunction stringSet (units, value) {\n    if (typeof units === 'object') {\n        units = normalizeObjectUnits(units);\n        var prioritized = getPrioritizedUnits(units);\n        for (var i = 0; i < prioritized.length; i++) {\n            this[prioritized[i].unit](units[prioritized[i].unit]);\n        }\n    } else {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units](value);\n        }\n    }\n    return this;\n}\n\nfunction mod(n, x) {\n    return ((n % x) + x) % x;\n}\n\nvar indexOf;\n\nif (Array.prototype.indexOf) {\n    indexOf = Array.prototype.indexOf;\n} else {\n    indexOf = function (o) {\n        // I know\n        var i;\n        for (i = 0; i < this.length; ++i) {\n            if (this[i] === o) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nfunction daysInMonth(year, month) {\n    if (isNaN(year) || isNaN(month)) {\n        return NaN;\n    }\n    var modMonth = mod(month, 12);\n    year += (month - modMonth) / 12;\n    return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n}\n\n// FORMATTING\n\naddFormatToken('M', ['MM', 2], 'Mo', function () {\n    return this.month() + 1;\n});\n\naddFormatToken('MMM', 0, 0, function (format) {\n    return this.localeData().monthsShort(this, format);\n});\n\naddFormatToken('MMMM', 0, 0, function (format) {\n    return this.localeData().months(this, format);\n});\n\n// ALIASES\n\naddUnitAlias('month', 'M');\n\n// PRIORITY\n\naddUnitPriority('month', 8);\n\n// PARSING\n\naddRegexToken('M',    match1to2);\naddRegexToken('MM',   match1to2, match2);\naddRegexToken('MMM',  function (isStrict, locale) {\n    return locale.monthsShortRegex(isStrict);\n});\naddRegexToken('MMMM', function (isStrict, locale) {\n    return locale.monthsRegex(isStrict);\n});\n\naddParseToken(['M', 'MM'], function (input, array) {\n    array[MONTH] = toInt(input) - 1;\n});\n\naddParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n    var month = config._locale.monthsParse(input, token, config._strict);\n    // if we didn't find a month name, mark the date as invalid.\n    if (month != null) {\n        array[MONTH] = month;\n    } else {\n        getParsingFlags(config).invalidMonth = input;\n    }\n});\n\n// LOCALES\n\nvar MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\nvar defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\nfunction localeMonths (m, format) {\n    if (!m) {\n        return isArray(this._months) ? this._months :\n            this._months['standalone'];\n    }\n    return isArray(this._months) ? this._months[m.month()] :\n        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nvar defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\nfunction localeMonthsShort (m, format) {\n    if (!m) {\n        return isArray(this._monthsShort) ? this._monthsShort :\n            this._monthsShort['standalone'];\n    }\n    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nfunction handleStrictParse(monthName, format, strict) {\n    var i, ii, mom, llc = monthName.toLocaleLowerCase();\n    if (!this._monthsParse) {\n        // this is not used\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n        for (i = 0; i < 12; ++i) {\n            mom = createUTC([2000, i]);\n            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeMonthsParse (monthName, format, strict) {\n    var i, mom, regex;\n\n    if (this._monthsParseExact) {\n        return handleStrictParse.call(this, monthName, format, strict);\n    }\n\n    if (!this._monthsParse) {\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n    }\n\n    // TODO: add sorting\n    // Sorting makes sure if one month (or abbr) is a prefix of another\n    // see sorting in computeMonthsParse\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        if (strict && !this._longMonthsParse[i]) {\n            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n        }\n        if (!strict && !this._monthsParse[i]) {\n            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (!strict && this._monthsParse[i].test(monthName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction setMonth (mom, value) {\n    var dayOfMonth;\n\n    if (!mom.isValid()) {\n        // No op\n        return mom;\n    }\n\n    if (typeof value === 'string') {\n        if (/^\\d+$/.test(value)) {\n            value = toInt(value);\n        } else {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (!isNumber(value)) {\n                return mom;\n            }\n        }\n    }\n\n    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n    return mom;\n}\n\nfunction getSetMonth (value) {\n    if (value != null) {\n        setMonth(this, value);\n        hooks.updateOffset(this, true);\n        return this;\n    } else {\n        return get(this, 'Month');\n    }\n}\n\nfunction getDaysInMonth () {\n    return daysInMonth(this.year(), this.month());\n}\n\nvar defaultMonthsShortRegex = matchWord;\nfunction monthsShortRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsShortStrictRegex;\n        } else {\n            return this._monthsShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsShortRegex')) {\n            this._monthsShortRegex = defaultMonthsShortRegex;\n        }\n        return this._monthsShortStrictRegex && isStrict ?\n            this._monthsShortStrictRegex : this._monthsShortRegex;\n    }\n}\n\nvar defaultMonthsRegex = matchWord;\nfunction monthsRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsStrictRegex;\n        } else {\n            return this._monthsRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            this._monthsRegex = defaultMonthsRegex;\n        }\n        return this._monthsStrictRegex && isStrict ?\n            this._monthsStrictRegex : this._monthsRegex;\n    }\n}\n\nfunction computeMonthsParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom;\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        shortPieces.push(this.monthsShort(mom, ''));\n        longPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.monthsShort(mom, ''));\n    }\n    // Sorting makes sure if one month (or abbr) is a prefix of another it\n    // will match the longer piece.\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 12; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n    }\n    for (i = 0; i < 24; i++) {\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._monthsShortRegex = this._monthsRegex;\n    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n}\n\nfunction createDate (y, m, d, h, M, s, ms) {\n    // can't just apply() to create a date:\n    // https://stackoverflow.com/q/181348\n    var date = new Date(y, m, d, h, M, s, ms);\n\n    // the date constructor remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n        date.setFullYear(y);\n    }\n    return date;\n}\n\nfunction createUTCDate (y) {\n    var date = new Date(Date.UTC.apply(null, arguments));\n\n    // the Date.UTC function remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n        date.setUTCFullYear(y);\n    }\n    return date;\n}\n\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        fwd = 7 + dow - doy,\n        // first-week day local weekday -- which local weekday is fwd\n        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n    return -fwdlw + fwd - 1;\n}\n\n// https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\nfunction dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n    var localWeekday = (7 + weekday - dow) % 7,\n        weekOffset = firstWeekOffset(year, dow, doy),\n        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n        resYear, resDayOfYear;\n\n    if (dayOfYear <= 0) {\n        resYear = year - 1;\n        resDayOfYear = daysInYear(resYear) + dayOfYear;\n    } else if (dayOfYear > daysInYear(year)) {\n        resYear = year + 1;\n        resDayOfYear = dayOfYear - daysInYear(year);\n    } else {\n        resYear = year;\n        resDayOfYear = dayOfYear;\n    }\n\n    return {\n        year: resYear,\n        dayOfYear: resDayOfYear\n    };\n}\n\nfunction weekOfYear(mom, dow, doy) {\n    var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n        resWeek, resYear;\n\n    if (week < 1) {\n        resYear = mom.year() - 1;\n        resWeek = week + weeksInYear(resYear, dow, doy);\n    } else if (week > weeksInYear(mom.year(), dow, doy)) {\n        resWeek = week - weeksInYear(mom.year(), dow, doy);\n        resYear = mom.year() + 1;\n    } else {\n        resYear = mom.year();\n        resWeek = week;\n    }\n\n    return {\n        week: resWeek,\n        year: resYear\n    };\n}\n\nfunction weeksInYear(year, dow, doy) {\n    var weekOffset = firstWeekOffset(year, dow, doy),\n        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n}\n\n// FORMATTING\n\naddFormatToken('w', ['ww', 2], 'wo', 'week');\naddFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n// ALIASES\n\naddUnitAlias('week', 'w');\naddUnitAlias('isoWeek', 'W');\n\n// PRIORITIES\n\naddUnitPriority('week', 5);\naddUnitPriority('isoWeek', 5);\n\n// PARSING\n\naddRegexToken('w',  match1to2);\naddRegexToken('ww', match1to2, match2);\naddRegexToken('W',  match1to2);\naddRegexToken('WW', match1to2, match2);\n\naddWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n    week[token.substr(0, 1)] = toInt(input);\n});\n\n// HELPERS\n\n// LOCALES\n\nfunction localeWeek (mom) {\n    return weekOfYear(mom, this._week.dow, this._week.doy).week;\n}\n\nvar defaultLocaleWeek = {\n    dow : 0, // Sunday is the first day of the week.\n    doy : 6  // The week that contains Jan 1st is the first week of the year.\n};\n\nfunction localeFirstDayOfWeek () {\n    return this._week.dow;\n}\n\nfunction localeFirstDayOfYear () {\n    return this._week.doy;\n}\n\n// MOMENTS\n\nfunction getSetWeek (input) {\n    var week = this.localeData().week(this);\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\nfunction getSetISOWeek (input) {\n    var week = weekOfYear(this, 1, 4).week;\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\n// FORMATTING\n\naddFormatToken('d', 0, 'do', 'day');\n\naddFormatToken('dd', 0, 0, function (format) {\n    return this.localeData().weekdaysMin(this, format);\n});\n\naddFormatToken('ddd', 0, 0, function (format) {\n    return this.localeData().weekdaysShort(this, format);\n});\n\naddFormatToken('dddd', 0, 0, function (format) {\n    return this.localeData().weekdays(this, format);\n});\n\naddFormatToken('e', 0, 0, 'weekday');\naddFormatToken('E', 0, 0, 'isoWeekday');\n\n// ALIASES\n\naddUnitAlias('day', 'd');\naddUnitAlias('weekday', 'e');\naddUnitAlias('isoWeekday', 'E');\n\n// PRIORITY\naddUnitPriority('day', 11);\naddUnitPriority('weekday', 11);\naddUnitPriority('isoWeekday', 11);\n\n// PARSING\n\naddRegexToken('d',    match1to2);\naddRegexToken('e',    match1to2);\naddRegexToken('E',    match1to2);\naddRegexToken('dd',   function (isStrict, locale) {\n    return locale.weekdaysMinRegex(isStrict);\n});\naddRegexToken('ddd',   function (isStrict, locale) {\n    return locale.weekdaysShortRegex(isStrict);\n});\naddRegexToken('dddd',   function (isStrict, locale) {\n    return locale.weekdaysRegex(isStrict);\n});\n\naddWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n    var weekday = config._locale.weekdaysParse(input, token, config._strict);\n    // if we didn't get a weekday name, mark the date as invalid\n    if (weekday != null) {\n        week.d = weekday;\n    } else {\n        getParsingFlags(config).invalidWeekday = input;\n    }\n});\n\naddWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n    week[token] = toInt(input);\n});\n\n// HELPERS\n\nfunction parseWeekday(input, locale) {\n    if (typeof input !== 'string') {\n        return input;\n    }\n\n    if (!isNaN(input)) {\n        return parseInt(input, 10);\n    }\n\n    input = locale.weekdaysParse(input);\n    if (typeof input === 'number') {\n        return input;\n    }\n\n    return null;\n}\n\nfunction parseIsoWeekday(input, locale) {\n    if (typeof input === 'string') {\n        return locale.weekdaysParse(input) % 7 || 7;\n    }\n    return isNaN(input) ? null : input;\n}\n\n// LOCALES\n\nvar defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\nfunction localeWeekdays (m, format) {\n    if (!m) {\n        return isArray(this._weekdays) ? this._weekdays :\n            this._weekdays['standalone'];\n    }\n    return isArray(this._weekdays) ? this._weekdays[m.day()] :\n        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n}\n\nvar defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\nfunction localeWeekdaysShort (m) {\n    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n}\n\nvar defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\nfunction localeWeekdaysMin (m) {\n    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n}\n\nfunction handleStrictParse$1(weekdayName, format, strict) {\n    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._minWeekdaysParse = [];\n\n        for (i = 0; i < 7; ++i) {\n            mom = createUTC([2000, 1]).day(i);\n            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeWeekdaysParse (weekdayName, format, strict) {\n    var i, mom, regex;\n\n    if (this._weekdaysParseExact) {\n        return handleStrictParse$1.call(this, weekdayName, format, strict);\n    }\n\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._minWeekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._fullWeekdaysParse = [];\n    }\n\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n\n        mom = createUTC([2000, 1]).day(i);\n        if (strict && !this._fullWeekdaysParse[i]) {\n            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n        }\n        if (!this._weekdaysParse[i]) {\n            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction getSetDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n    if (input != null) {\n        input = parseWeekday(input, this.localeData());\n        return this.add(input - day, 'd');\n    } else {\n        return day;\n    }\n}\n\nfunction getSetLocaleDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n    return input == null ? weekday : this.add(input - weekday, 'd');\n}\n\nfunction getSetISODayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n\n    // behaves the same as moment#day except\n    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n    // as a setter, sunday should belong to the previous week.\n\n    if (input != null) {\n        var weekday = parseIsoWeekday(input, this.localeData());\n        return this.day(this.day() % 7 ? weekday : weekday - 7);\n    } else {\n        return this.day() || 7;\n    }\n}\n\nvar defaultWeekdaysRegex = matchWord;\nfunction weekdaysRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysStrictRegex;\n        } else {\n            return this._weekdaysRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            this._weekdaysRegex = defaultWeekdaysRegex;\n        }\n        return this._weekdaysStrictRegex && isStrict ?\n            this._weekdaysStrictRegex : this._weekdaysRegex;\n    }\n}\n\nvar defaultWeekdaysShortRegex = matchWord;\nfunction weekdaysShortRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysShortStrictRegex;\n        } else {\n            return this._weekdaysShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n            this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n        }\n        return this._weekdaysShortStrictRegex && isStrict ?\n            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n    }\n}\n\nvar defaultWeekdaysMinRegex = matchWord;\nfunction weekdaysMinRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysMinStrictRegex;\n        } else {\n            return this._weekdaysMinRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n            this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n        }\n        return this._weekdaysMinStrictRegex && isStrict ?\n            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n    }\n}\n\n\nfunction computeWeekdaysParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom, minp, shortp, longp;\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, 1]).day(i);\n        minp = this.weekdaysMin(mom, '');\n        shortp = this.weekdaysShort(mom, '');\n        longp = this.weekdays(mom, '');\n        minPieces.push(minp);\n        shortPieces.push(shortp);\n        longPieces.push(longp);\n        mixedPieces.push(minp);\n        mixedPieces.push(shortp);\n        mixedPieces.push(longp);\n    }\n    // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n    // will match the longer piece.\n    minPieces.sort(cmpLenRev);\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 7; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._weekdaysShortRegex = this._weekdaysRegex;\n    this._weekdaysMinRegex = this._weekdaysRegex;\n\n    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n}\n\n// FORMATTING\n\nfunction hFormat() {\n    return this.hours() % 12 || 12;\n}\n\nfunction kFormat() {\n    return this.hours() || 24;\n}\n\naddFormatToken('H', ['HH', 2], 0, 'hour');\naddFormatToken('h', ['hh', 2], 0, hFormat);\naddFormatToken('k', ['kk', 2], 0, kFormat);\n\naddFormatToken('hmm', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('hmmss', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\naddFormatToken('Hmm', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('Hmmss', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\nfunction meridiem (token, lowercase) {\n    addFormatToken(token, 0, 0, function () {\n        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n    });\n}\n\nmeridiem('a', true);\nmeridiem('A', false);\n\n// ALIASES\n\naddUnitAlias('hour', 'h');\n\n// PRIORITY\naddUnitPriority('hour', 13);\n\n// PARSING\n\nfunction matchMeridiem (isStrict, locale) {\n    return locale._meridiemParse;\n}\n\naddRegexToken('a',  matchMeridiem);\naddRegexToken('A',  matchMeridiem);\naddRegexToken('H',  match1to2);\naddRegexToken('h',  match1to2);\naddRegexToken('k',  match1to2);\naddRegexToken('HH', match1to2, match2);\naddRegexToken('hh', match1to2, match2);\naddRegexToken('kk', match1to2, match2);\n\naddRegexToken('hmm', match3to4);\naddRegexToken('hmmss', match5to6);\naddRegexToken('Hmm', match3to4);\naddRegexToken('Hmmss', match5to6);\n\naddParseToken(['H', 'HH'], HOUR);\naddParseToken(['k', 'kk'], function (input, array, config) {\n    var kInput = toInt(input);\n    array[HOUR] = kInput === 24 ? 0 : kInput;\n});\naddParseToken(['a', 'A'], function (input, array, config) {\n    config._isPm = config._locale.isPM(input);\n    config._meridiem = input;\n});\naddParseToken(['h', 'hh'], function (input, array, config) {\n    array[HOUR] = toInt(input);\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('Hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n});\naddParseToken('Hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n});\n\n// LOCALES\n\nfunction localeIsPM (input) {\n    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n    // Using charAt should be more compatible.\n    return ((input + '').toLowerCase().charAt(0) === 'p');\n}\n\nvar defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\nfunction localeMeridiem (hours, minutes, isLower) {\n    if (hours > 11) {\n        return isLower ? 'pm' : 'PM';\n    } else {\n        return isLower ? 'am' : 'AM';\n    }\n}\n\n\n// MOMENTS\n\n// Setting the hour should keep the time, because the user explicitly\n// specified which hour he wants. So trying to maintain the same hour (in\n// a new timezone) makes sense. Adding/subtracting hours does not follow\n// this rule.\nvar getSetHour = makeGetSet('Hours', true);\n\n// months\n// week\n// weekdays\n// meridiem\nvar baseConfig = {\n    calendar: defaultCalendar,\n    longDateFormat: defaultLongDateFormat,\n    invalidDate: defaultInvalidDate,\n    ordinal: defaultOrdinal,\n    dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n    relativeTime: defaultRelativeTime,\n\n    months: defaultLocaleMonths,\n    monthsShort: defaultLocaleMonthsShort,\n\n    week: defaultLocaleWeek,\n\n    weekdays: defaultLocaleWeekdays,\n    weekdaysMin: defaultLocaleWeekdaysMin,\n    weekdaysShort: defaultLocaleWeekdaysShort,\n\n    meridiemParse: defaultLocaleMeridiemParse\n};\n\n// internal storage for locale config files\nvar locales = {};\nvar localeFamilies = {};\nvar globalLocale;\n\nfunction normalizeLocale(key) {\n    return key ? key.toLowerCase().replace('_', '-') : key;\n}\n\n// pick the locale from the array\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\nfunction chooseLocale(names) {\n    var i = 0, j, next, locale, split;\n\n    while (i < names.length) {\n        split = normalizeLocale(names[i]).split('-');\n        j = split.length;\n        next = normalizeLocale(names[i + 1]);\n        next = next ? next.split('-') : null;\n        while (j > 0) {\n            locale = loadLocale(split.slice(0, j).join('-'));\n            if (locale) {\n                return locale;\n            }\n            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                //the next array item is better than a shallower substring of this one\n                break;\n            }\n            j--;\n        }\n        i++;\n    }\n    return null;\n}\n\nfunction loadLocale(name) {\n    var oldLocale = null;\n    // TODO: Find a better way to register and load all the locales in Node\n    if (!locales[name] && (typeof module !== 'undefined') &&\n            module && module.exports) {\n        try {\n            oldLocale = globalLocale._abbr;\n            var aliasedRequire = require;\n            aliasedRequire('./locale/' + name);\n            getSetGlobalLocale(oldLocale);\n        } catch (e) {}\n    }\n    return locales[name];\n}\n\n// This function will load locale and then set the global locale.  If\n// no arguments are passed in, it will simply return the current global\n// locale key.\nfunction getSetGlobalLocale (key, values) {\n    var data;\n    if (key) {\n        if (isUndefined(values)) {\n            data = getLocale(key);\n        }\n        else {\n            data = defineLocale(key, values);\n        }\n\n        if (data) {\n            // moment.duration._locale = moment._locale = data;\n            globalLocale = data;\n        }\n    }\n\n    return globalLocale._abbr;\n}\n\nfunction defineLocale (name, config) {\n    if (config !== null) {\n        var parentConfig = baseConfig;\n        config.abbr = name;\n        if (locales[name] != null) {\n            deprecateSimple('defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                    'an existing locale. moment.defineLocale(localeName, ' +\n                    'config) should only be used for creating a new locale ' +\n                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n            parentConfig = locales[name]._config;\n        } else if (config.parentLocale != null) {\n            if (locales[config.parentLocale] != null) {\n                parentConfig = locales[config.parentLocale]._config;\n            } else {\n                if (!localeFamilies[config.parentLocale]) {\n                    localeFamilies[config.parentLocale] = [];\n                }\n                localeFamilies[config.parentLocale].push({\n                    name: name,\n                    config: config\n                });\n                return null;\n            }\n        }\n        locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n        if (localeFamilies[name]) {\n            localeFamilies[name].forEach(function (x) {\n                defineLocale(x.name, x.config);\n            });\n        }\n\n        // backwards compat for now: also set the locale\n        // make sure we set the locale AFTER all child locales have been\n        // created, so we won't end up with the child locale set.\n        getSetGlobalLocale(name);\n\n\n        return locales[name];\n    } else {\n        // useful for testing\n        delete locales[name];\n        return null;\n    }\n}\n\nfunction updateLocale(name, config) {\n    if (config != null) {\n        var locale, tmpLocale, parentConfig = baseConfig;\n        // MERGE\n        tmpLocale = loadLocale(name);\n        if (tmpLocale != null) {\n            parentConfig = tmpLocale._config;\n        }\n        config = mergeConfigs(parentConfig, config);\n        locale = new Locale(config);\n        locale.parentLocale = locales[name];\n        locales[name] = locale;\n\n        // backwards compat for now: also set the locale\n        getSetGlobalLocale(name);\n    } else {\n        // pass null for config to unupdate, useful for tests\n        if (locales[name] != null) {\n            if (locales[name].parentLocale != null) {\n                locales[name] = locales[name].parentLocale;\n            } else if (locales[name] != null) {\n                delete locales[name];\n            }\n        }\n    }\n    return locales[name];\n}\n\n// returns locale data\nfunction getLocale (key) {\n    var locale;\n\n    if (key && key._locale && key._locale._abbr) {\n        key = key._locale._abbr;\n    }\n\n    if (!key) {\n        return globalLocale;\n    }\n\n    if (!isArray(key)) {\n        //short-circuit everything else\n        locale = loadLocale(key);\n        if (locale) {\n            return locale;\n        }\n        key = [key];\n    }\n\n    return chooseLocale(key);\n}\n\nfunction listLocales() {\n    return keys(locales);\n}\n\nfunction checkOverflow (m) {\n    var overflow;\n    var a = m._a;\n\n    if (a && getParsingFlags(m).overflow === -2) {\n        overflow =\n            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n            -1;\n\n        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n            overflow = DATE;\n        }\n        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n            overflow = WEEK;\n        }\n        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n            overflow = WEEKDAY;\n        }\n\n        getParsingFlags(m).overflow = overflow;\n    }\n\n    return m;\n}\n\n// Pick the first defined of two or three arguments.\nfunction defaults(a, b, c) {\n    if (a != null) {\n        return a;\n    }\n    if (b != null) {\n        return b;\n    }\n    return c;\n}\n\nfunction currentDateArray(config) {\n    // hooks is actually the exported moment object\n    var nowValue = new Date(hooks.now());\n    if (config._useUTC) {\n        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n    }\n    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n}\n\n// convert an array to a date.\n// the array should mirror the parameters below\n// note: all values past the year are optional and will default to the lowest possible value.\n// [year, month, day , hour, minute, second, millisecond]\nfunction configFromArray (config) {\n    var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n    if (config._d) {\n        return;\n    }\n\n    currentDate = currentDateArray(config);\n\n    //compute day of the year from weeks and weekdays\n    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n        dayOfYearFromWeekInfo(config);\n    }\n\n    //if the day of the year is set, figure out what it is\n    if (config._dayOfYear != null) {\n        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n        if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n            getParsingFlags(config)._overflowDayOfYear = true;\n        }\n\n        date = createUTCDate(yearToUse, 0, config._dayOfYear);\n        config._a[MONTH] = date.getUTCMonth();\n        config._a[DATE] = date.getUTCDate();\n    }\n\n    // Default to current date.\n    // * if no year, month, day of month are given, default to today\n    // * if day of month is given, default month and year\n    // * if month is given, default only year\n    // * if year is given, don't default anything\n    for (i = 0; i < 3 && config._a[i] == null; ++i) {\n        config._a[i] = input[i] = currentDate[i];\n    }\n\n    // Zero out whatever was not defaulted, including time\n    for (; i < 7; i++) {\n        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n    }\n\n    // Check for 24:00:00.000\n    if (config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0) {\n        config._nextDay = true;\n        config._a[HOUR] = 0;\n    }\n\n    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n    expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n    // Apply timezone offset from input. The actual utcOffset can be changed\n    // with parseZone.\n    if (config._tzm != null) {\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n    }\n\n    if (config._nextDay) {\n        config._a[HOUR] = 24;\n    }\n\n    // check for mismatching day of week\n    if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n        getParsingFlags(config).weekdayMismatch = true;\n    }\n}\n\nfunction dayOfYearFromWeekInfo(config) {\n    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n    w = config._w;\n    if (w.GG != null || w.W != null || w.E != null) {\n        dow = 1;\n        doy = 4;\n\n        // TODO: We need to take the current isoWeekYear, but that depends on\n        // how we interpret now (local, utc, fixed offset). So create\n        // a now version of current config (take local/utc/offset flags, and\n        // create now).\n        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n        week = defaults(w.W, 1);\n        weekday = defaults(w.E, 1);\n        if (weekday < 1 || weekday > 7) {\n            weekdayOverflow = true;\n        }\n    } else {\n        dow = config._locale._week.dow;\n        doy = config._locale._week.doy;\n\n        var curWeek = weekOfYear(createLocal(), dow, doy);\n\n        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n        // Default to current week.\n        week = defaults(w.w, curWeek.week);\n\n        if (w.d != null) {\n            // weekday -- low day numbers are considered next week\n            weekday = w.d;\n            if (weekday < 0 || weekday > 6) {\n                weekdayOverflow = true;\n            }\n        } else if (w.e != null) {\n            // local weekday -- counting starts from begining of week\n            weekday = w.e + dow;\n            if (w.e < 0 || w.e > 6) {\n                weekdayOverflow = true;\n            }\n        } else {\n            // default to begining of week\n            weekday = dow;\n        }\n    }\n    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n        getParsingFlags(config)._overflowWeeks = true;\n    } else if (weekdayOverflow != null) {\n        getParsingFlags(config)._overflowWeekday = true;\n    } else {\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n}\n\n// iso 8601 regex\n// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\nvar extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\nvar basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\nvar tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\nvar isoDates = [\n    ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n    ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n    ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n    ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n    ['YYYY-DDD', /\\d{4}-\\d{3}/],\n    ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n    ['YYYYYYMMDD', /[+-]\\d{10}/],\n    ['YYYYMMDD', /\\d{8}/],\n    // YYYYMM is NOT allowed by the standard\n    ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n    ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n    ['YYYYDDD', /\\d{7}/]\n];\n\n// iso time formats and regexes\nvar isoTimes = [\n    ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n    ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n    ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n    ['HH:mm', /\\d\\d:\\d\\d/],\n    ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n    ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n    ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n    ['HHmm', /\\d\\d\\d\\d/],\n    ['HH', /\\d\\d/]\n];\n\nvar aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n// date from iso format\nfunction configFromISO(config) {\n    var i, l,\n        string = config._i,\n        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n        allowTime, dateFormat, timeFormat, tzFormat;\n\n    if (match) {\n        getParsingFlags(config).iso = true;\n\n        for (i = 0, l = isoDates.length; i < l; i++) {\n            if (isoDates[i][1].exec(match[1])) {\n                dateFormat = isoDates[i][0];\n                allowTime = isoDates[i][2] !== false;\n                break;\n            }\n        }\n        if (dateFormat == null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[3]) {\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(match[3])) {\n                    // match[2] should be 'T' or space\n                    timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                    break;\n                }\n            }\n            if (timeFormat == null) {\n                config._isValid = false;\n                return;\n            }\n        }\n        if (!allowTime && timeFormat != null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[4]) {\n            if (tzRegex.exec(match[4])) {\n                tzFormat = 'Z';\n            } else {\n                config._isValid = false;\n                return;\n            }\n        }\n        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n        configFromStringAndFormat(config);\n    } else {\n        config._isValid = false;\n    }\n}\n\n// RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\nvar rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\nfunction extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n    var result = [\n        untruncateYear(yearStr),\n        defaultLocaleMonthsShort.indexOf(monthStr),\n        parseInt(dayStr, 10),\n        parseInt(hourStr, 10),\n        parseInt(minuteStr, 10)\n    ];\n\n    if (secondStr) {\n        result.push(parseInt(secondStr, 10));\n    }\n\n    return result;\n}\n\nfunction untruncateYear(yearStr) {\n    var year = parseInt(yearStr, 10);\n    if (year <= 49) {\n        return 2000 + year;\n    } else if (year <= 999) {\n        return 1900 + year;\n    }\n    return year;\n}\n\nfunction preprocessRFC2822(s) {\n    // Remove comments and folding whitespace and replace multiple-spaces with a single space\n    return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').trim();\n}\n\nfunction checkWeekday(weekdayStr, parsedInput, config) {\n    if (weekdayStr) {\n        // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n        var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n            weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n        if (weekdayProvided !== weekdayActual) {\n            getParsingFlags(config).weekdayMismatch = true;\n            config._isValid = false;\n            return false;\n        }\n    }\n    return true;\n}\n\nvar obsOffsets = {\n    UT: 0,\n    GMT: 0,\n    EDT: -4 * 60,\n    EST: -5 * 60,\n    CDT: -5 * 60,\n    CST: -6 * 60,\n    MDT: -6 * 60,\n    MST: -7 * 60,\n    PDT: -7 * 60,\n    PST: -8 * 60\n};\n\nfunction calculateOffset(obsOffset, militaryOffset, numOffset) {\n    if (obsOffset) {\n        return obsOffsets[obsOffset];\n    } else if (militaryOffset) {\n        // the only allowed military tz is Z\n        return 0;\n    } else {\n        var hm = parseInt(numOffset, 10);\n        var m = hm % 100, h = (hm - m) / 100;\n        return h * 60 + m;\n    }\n}\n\n// date and time from ref 2822 format\nfunction configFromRFC2822(config) {\n    var match = rfc2822.exec(preprocessRFC2822(config._i));\n    if (match) {\n        var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n        if (!checkWeekday(match[1], parsedArray, config)) {\n            return;\n        }\n\n        config._a = parsedArray;\n        config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n        config._d = createUTCDate.apply(null, config._a);\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n        getParsingFlags(config).rfc2822 = true;\n    } else {\n        config._isValid = false;\n    }\n}\n\n// date from iso format or fallback\nfunction configFromString(config) {\n    var matched = aspNetJsonRegex.exec(config._i);\n\n    if (matched !== null) {\n        config._d = new Date(+matched[1]);\n        return;\n    }\n\n    configFromISO(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    configFromRFC2822(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    // Final attempt, use Input Fallback\n    hooks.createFromInputFallback(config);\n}\n\nhooks.createFromInputFallback = deprecate(\n    'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n    'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n    'discouraged and will be removed in an upcoming major release. Please refer to ' +\n    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n    function (config) {\n        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n    }\n);\n\n// constant that refers to the ISO standard\nhooks.ISO_8601 = function () {};\n\n// constant that refers to the RFC 2822 form\nhooks.RFC_2822 = function () {};\n\n// date from string and format string\nfunction configFromStringAndFormat(config) {\n    // TODO: Move this to another part of the creation flow to prevent circular deps\n    if (config._f === hooks.ISO_8601) {\n        configFromISO(config);\n        return;\n    }\n    if (config._f === hooks.RFC_2822) {\n        configFromRFC2822(config);\n        return;\n    }\n    config._a = [];\n    getParsingFlags(config).empty = true;\n\n    // This array is used to make a Date, either with `new Date` or `Date.UTC`\n    var string = '' + config._i,\n        i, parsedInput, tokens, token, skipped,\n        stringLength = string.length,\n        totalParsedInputLength = 0;\n\n    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n        // console.log('token', token, 'parsedInput', parsedInput,\n        //         'regex', getParseRegexForToken(token, config));\n        if (parsedInput) {\n            skipped = string.substr(0, string.indexOf(parsedInput));\n            if (skipped.length > 0) {\n                getParsingFlags(config).unusedInput.push(skipped);\n            }\n            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n            totalParsedInputLength += parsedInput.length;\n        }\n        // don't parse if it's not a known token\n        if (formatTokenFunctions[token]) {\n            if (parsedInput) {\n                getParsingFlags(config).empty = false;\n            }\n            else {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n            addTimeToArrayFromToken(token, parsedInput, config);\n        }\n        else if (config._strict && !parsedInput) {\n            getParsingFlags(config).unusedTokens.push(token);\n        }\n    }\n\n    // add remaining unparsed input length to the string\n    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n    if (string.length > 0) {\n        getParsingFlags(config).unusedInput.push(string);\n    }\n\n    // clear _12h flag if hour is <= 12\n    if (config._a[HOUR] <= 12 &&\n        getParsingFlags(config).bigHour === true &&\n        config._a[HOUR] > 0) {\n        getParsingFlags(config).bigHour = undefined;\n    }\n\n    getParsingFlags(config).parsedDateParts = config._a.slice(0);\n    getParsingFlags(config).meridiem = config._meridiem;\n    // handle meridiem\n    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n    configFromArray(config);\n    checkOverflow(config);\n}\n\n\nfunction meridiemFixWrap (locale, hour, meridiem) {\n    var isPm;\n\n    if (meridiem == null) {\n        // nothing to do\n        return hour;\n    }\n    if (locale.meridiemHour != null) {\n        return locale.meridiemHour(hour, meridiem);\n    } else if (locale.isPM != null) {\n        // Fallback\n        isPm = locale.isPM(meridiem);\n        if (isPm && hour < 12) {\n            hour += 12;\n        }\n        if (!isPm && hour === 12) {\n            hour = 0;\n        }\n        return hour;\n    } else {\n        // this is not supposed to happen\n        return hour;\n    }\n}\n\n// date from string and array of format strings\nfunction configFromStringAndArray(config) {\n    var tempConfig,\n        bestMoment,\n\n        scoreToBeat,\n        i,\n        currentScore;\n\n    if (config._f.length === 0) {\n        getParsingFlags(config).invalidFormat = true;\n        config._d = new Date(NaN);\n        return;\n    }\n\n    for (i = 0; i < config._f.length; i++) {\n        currentScore = 0;\n        tempConfig = copyConfig({}, config);\n        if (config._useUTC != null) {\n            tempConfig._useUTC = config._useUTC;\n        }\n        tempConfig._f = config._f[i];\n        configFromStringAndFormat(tempConfig);\n\n        if (!isValid(tempConfig)) {\n            continue;\n        }\n\n        // if there is any input that was not parsed add a penalty for that format\n        currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n        //or tokens\n        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n        getParsingFlags(tempConfig).score = currentScore;\n\n        if (scoreToBeat == null || currentScore < scoreToBeat) {\n            scoreToBeat = currentScore;\n            bestMoment = tempConfig;\n        }\n    }\n\n    extend(config, bestMoment || tempConfig);\n}\n\nfunction configFromObject(config) {\n    if (config._d) {\n        return;\n    }\n\n    var i = normalizeObjectUnits(config._i);\n    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n        return obj && parseInt(obj, 10);\n    });\n\n    configFromArray(config);\n}\n\nfunction createFromConfig (config) {\n    var res = new Moment(checkOverflow(prepareConfig(config)));\n    if (res._nextDay) {\n        // Adding is smart enough around DST\n        res.add(1, 'd');\n        res._nextDay = undefined;\n    }\n\n    return res;\n}\n\nfunction prepareConfig (config) {\n    var input = config._i,\n        format = config._f;\n\n    config._locale = config._locale || getLocale(config._l);\n\n    if (input === null || (format === undefined && input === '')) {\n        return createInvalid({nullInput: true});\n    }\n\n    if (typeof input === 'string') {\n        config._i = input = config._locale.preparse(input);\n    }\n\n    if (isMoment(input)) {\n        return new Moment(checkOverflow(input));\n    } else if (isDate(input)) {\n        config._d = input;\n    } else if (isArray(format)) {\n        configFromStringAndArray(config);\n    } else if (format) {\n        configFromStringAndFormat(config);\n    }  else {\n        configFromInput(config);\n    }\n\n    if (!isValid(config)) {\n        config._d = null;\n    }\n\n    return config;\n}\n\nfunction configFromInput(config) {\n    var input = config._i;\n    if (isUndefined(input)) {\n        config._d = new Date(hooks.now());\n    } else if (isDate(input)) {\n        config._d = new Date(input.valueOf());\n    } else if (typeof input === 'string') {\n        configFromString(config);\n    } else if (isArray(input)) {\n        config._a = map(input.slice(0), function (obj) {\n            return parseInt(obj, 10);\n        });\n        configFromArray(config);\n    } else if (isObject(input)) {\n        configFromObject(config);\n    } else if (isNumber(input)) {\n        // from milliseconds\n        config._d = new Date(input);\n    } else {\n        hooks.createFromInputFallback(config);\n    }\n}\n\nfunction createLocalOrUTC (input, format, locale, strict, isUTC) {\n    var c = {};\n\n    if (locale === true || locale === false) {\n        strict = locale;\n        locale = undefined;\n    }\n\n    if ((isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)) {\n        input = undefined;\n    }\n    // object construction must be done this way.\n    // https://github.com/moment/moment/issues/1423\n    c._isAMomentObject = true;\n    c._useUTC = c._isUTC = isUTC;\n    c._l = locale;\n    c._i = input;\n    c._f = format;\n    c._strict = strict;\n\n    return createFromConfig(c);\n}\n\nfunction createLocal (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, false);\n}\n\nvar prototypeMin = deprecate(\n    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other < this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\nvar prototypeMax = deprecate(\n    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other > this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\n// Pick a moment m from moments so that m[fn](other) is true for all\n// other. This relies on the function fn to be transitive.\n//\n// moments should either be an array of moment objects or an array, whose\n// first element is an array of moment objects.\nfunction pickBy(fn, moments) {\n    var res, i;\n    if (moments.length === 1 && isArray(moments[0])) {\n        moments = moments[0];\n    }\n    if (!moments.length) {\n        return createLocal();\n    }\n    res = moments[0];\n    for (i = 1; i < moments.length; ++i) {\n        if (!moments[i].isValid() || moments[i][fn](res)) {\n            res = moments[i];\n        }\n    }\n    return res;\n}\n\n// TODO: Use [].sort instead?\nfunction min () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isBefore', args);\n}\n\nfunction max () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isAfter', args);\n}\n\nvar now = function () {\n    return Date.now ? Date.now() : +(new Date());\n};\n\nvar ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\nfunction isDurationValid(m) {\n    for (var key in m) {\n        if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n            return false;\n        }\n    }\n\n    var unitHasDecimal = false;\n    for (var i = 0; i < ordering.length; ++i) {\n        if (m[ordering[i]]) {\n            if (unitHasDecimal) {\n                return false; // only allow non-integers for smallest unit\n            }\n            if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                unitHasDecimal = true;\n            }\n        }\n    }\n\n    return true;\n}\n\nfunction isValid$1() {\n    return this._isValid;\n}\n\nfunction createInvalid$1() {\n    return createDuration(NaN);\n}\n\nfunction Duration (duration) {\n    var normalizedInput = normalizeObjectUnits(duration),\n        years = normalizedInput.year || 0,\n        quarters = normalizedInput.quarter || 0,\n        months = normalizedInput.month || 0,\n        weeks = normalizedInput.week || 0,\n        days = normalizedInput.day || 0,\n        hours = normalizedInput.hour || 0,\n        minutes = normalizedInput.minute || 0,\n        seconds = normalizedInput.second || 0,\n        milliseconds = normalizedInput.millisecond || 0;\n\n    this._isValid = isDurationValid(normalizedInput);\n\n    // representation for dateAddRemove\n    this._milliseconds = +milliseconds +\n        seconds * 1e3 + // 1000\n        minutes * 6e4 + // 1000 * 60\n        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n    // Because of dateAddRemove treats 24 hours as different from a\n    // day when working around DST, we need to store them separately\n    this._days = +days +\n        weeks * 7;\n    // It is impossible to translate months into days without knowing\n    // which months you are are talking about, so we have to store\n    // it separately.\n    this._months = +months +\n        quarters * 3 +\n        years * 12;\n\n    this._data = {};\n\n    this._locale = getLocale();\n\n    this._bubble();\n}\n\nfunction isDuration (obj) {\n    return obj instanceof Duration;\n}\n\nfunction absRound (number) {\n    if (number < 0) {\n        return Math.round(-1 * number) * -1;\n    } else {\n        return Math.round(number);\n    }\n}\n\n// FORMATTING\n\nfunction offset (token, separator) {\n    addFormatToken(token, 0, 0, function () {\n        var offset = this.utcOffset();\n        var sign = '+';\n        if (offset < 0) {\n            offset = -offset;\n            sign = '-';\n        }\n        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n    });\n}\n\noffset('Z', ':');\noffset('ZZ', '');\n\n// PARSING\n\naddRegexToken('Z',  matchShortOffset);\naddRegexToken('ZZ', matchShortOffset);\naddParseToken(['Z', 'ZZ'], function (input, array, config) {\n    config._useUTC = true;\n    config._tzm = offsetFromString(matchShortOffset, input);\n});\n\n// HELPERS\n\n// timezone chunker\n// '+10:00' > ['10',  '00']\n// '-1530'  > ['-15', '30']\nvar chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\nfunction offsetFromString(matcher, string) {\n    var matches = (string || '').match(matcher);\n\n    if (matches === null) {\n        return null;\n    }\n\n    var chunk   = matches[matches.length - 1] || [];\n    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n    var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n    return minutes === 0 ?\n      0 :\n      parts[0] === '+' ? minutes : -minutes;\n}\n\n// Return a moment from input, that is local/utc/zone equivalent to model.\nfunction cloneWithOffset(input, model) {\n    var res, diff;\n    if (model._isUTC) {\n        res = model.clone();\n        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n        // Use low-level api, because this fn is low-level api.\n        res._d.setTime(res._d.valueOf() + diff);\n        hooks.updateOffset(res, false);\n        return res;\n    } else {\n        return createLocal(input).local();\n    }\n}\n\nfunction getDateOffset (m) {\n    // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n}\n\n// HOOKS\n\n// This function will be called whenever a moment is mutated.\n// It is intended to keep the offset in sync with the timezone.\nhooks.updateOffset = function () {};\n\n// MOMENTS\n\n// keepLocalTime = true means only change the timezone, without\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n// +0200, so we adjust the time as needed, to be valid.\n//\n// Keeping the time actually adds/subtracts (one hour)\n// from the actual represented time. That is why we call updateOffset\n// a second time. In case it wants us to change the offset again\n// _changeInProgress == true case, then we have to adjust, because\n// there is no such time in the given timezone.\nfunction getSetOffset (input, keepLocalTime, keepMinutes) {\n    var offset = this._offset || 0,\n        localAdjust;\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    if (input != null) {\n        if (typeof input === 'string') {\n            input = offsetFromString(matchShortOffset, input);\n            if (input === null) {\n                return this;\n            }\n        } else if (Math.abs(input) < 16 && !keepMinutes) {\n            input = input * 60;\n        }\n        if (!this._isUTC && keepLocalTime) {\n            localAdjust = getDateOffset(this);\n        }\n        this._offset = input;\n        this._isUTC = true;\n        if (localAdjust != null) {\n            this.add(localAdjust, 'm');\n        }\n        if (offset !== input) {\n            if (!keepLocalTime || this._changeInProgress) {\n                addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n            } else if (!this._changeInProgress) {\n                this._changeInProgress = true;\n                hooks.updateOffset(this, true);\n                this._changeInProgress = null;\n            }\n        }\n        return this;\n    } else {\n        return this._isUTC ? offset : getDateOffset(this);\n    }\n}\n\nfunction getSetZone (input, keepLocalTime) {\n    if (input != null) {\n        if (typeof input !== 'string') {\n            input = -input;\n        }\n\n        this.utcOffset(input, keepLocalTime);\n\n        return this;\n    } else {\n        return -this.utcOffset();\n    }\n}\n\nfunction setOffsetToUTC (keepLocalTime) {\n    return this.utcOffset(0, keepLocalTime);\n}\n\nfunction setOffsetToLocal (keepLocalTime) {\n    if (this._isUTC) {\n        this.utcOffset(0, keepLocalTime);\n        this._isUTC = false;\n\n        if (keepLocalTime) {\n            this.subtract(getDateOffset(this), 'm');\n        }\n    }\n    return this;\n}\n\nfunction setOffsetToParsedOffset () {\n    if (this._tzm != null) {\n        this.utcOffset(this._tzm, false, true);\n    } else if (typeof this._i === 'string') {\n        var tZone = offsetFromString(matchOffset, this._i);\n        if (tZone != null) {\n            this.utcOffset(tZone);\n        }\n        else {\n            this.utcOffset(0, true);\n        }\n    }\n    return this;\n}\n\nfunction hasAlignedHourOffset (input) {\n    if (!this.isValid()) {\n        return false;\n    }\n    input = input ? createLocal(input).utcOffset() : 0;\n\n    return (this.utcOffset() - input) % 60 === 0;\n}\n\nfunction isDaylightSavingTime () {\n    return (\n        this.utcOffset() > this.clone().month(0).utcOffset() ||\n        this.utcOffset() > this.clone().month(5).utcOffset()\n    );\n}\n\nfunction isDaylightSavingTimeShifted () {\n    if (!isUndefined(this._isDSTShifted)) {\n        return this._isDSTShifted;\n    }\n\n    var c = {};\n\n    copyConfig(c, this);\n    c = prepareConfig(c);\n\n    if (c._a) {\n        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n        this._isDSTShifted = this.isValid() &&\n            compareArrays(c._a, other.toArray()) > 0;\n    } else {\n        this._isDSTShifted = false;\n    }\n\n    return this._isDSTShifted;\n}\n\nfunction isLocal () {\n    return this.isValid() ? !this._isUTC : false;\n}\n\nfunction isUtcOffset () {\n    return this.isValid() ? this._isUTC : false;\n}\n\nfunction isUtc () {\n    return this.isValid() ? this._isUTC && this._offset === 0 : false;\n}\n\n// ASP.NET json date format regex\nvar aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n// and further modified to allow for strings containing both week and day\nvar isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\nfunction createDuration (input, key) {\n    var duration = input,\n        // matching against regexp is expensive, do it on demand\n        match = null,\n        sign,\n        ret,\n        diffRes;\n\n    if (isDuration(input)) {\n        duration = {\n            ms : input._milliseconds,\n            d  : input._days,\n            M  : input._months\n        };\n    } else if (isNumber(input)) {\n        duration = {};\n        if (key) {\n            duration[key] = input;\n        } else {\n            duration.milliseconds = input;\n        }\n    } else if (!!(match = aspNetRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y  : 0,\n            d  : toInt(match[DATE])                         * sign,\n            h  : toInt(match[HOUR])                         * sign,\n            m  : toInt(match[MINUTE])                       * sign,\n            s  : toInt(match[SECOND])                       * sign,\n            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n        };\n    } else if (!!(match = isoRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;\n        duration = {\n            y : parseIso(match[2], sign),\n            M : parseIso(match[3], sign),\n            w : parseIso(match[4], sign),\n            d : parseIso(match[5], sign),\n            h : parseIso(match[6], sign),\n            m : parseIso(match[7], sign),\n            s : parseIso(match[8], sign)\n        };\n    } else if (duration == null) {// checks for null or undefined\n        duration = {};\n    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n        duration = {};\n        duration.ms = diffRes.milliseconds;\n        duration.M = diffRes.months;\n    }\n\n    ret = new Duration(duration);\n\n    if (isDuration(input) && hasOwnProp(input, '_locale')) {\n        ret._locale = input._locale;\n    }\n\n    return ret;\n}\n\ncreateDuration.fn = Duration.prototype;\ncreateDuration.invalid = createInvalid$1;\n\nfunction parseIso (inp, sign) {\n    // We'd normally use ~~inp for this, but unfortunately it also\n    // converts floats to ints.\n    // inp may be undefined, so careful calling replace on it.\n    var res = inp && parseFloat(inp.replace(',', '.'));\n    // apply sign while we're at it\n    return (isNaN(res) ? 0 : res) * sign;\n}\n\nfunction positiveMomentsDifference(base, other) {\n    var res = {milliseconds: 0, months: 0};\n\n    res.months = other.month() - base.month() +\n        (other.year() - base.year()) * 12;\n    if (base.clone().add(res.months, 'M').isAfter(other)) {\n        --res.months;\n    }\n\n    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n    return res;\n}\n\nfunction momentsDifference(base, other) {\n    var res;\n    if (!(base.isValid() && other.isValid())) {\n        return {milliseconds: 0, months: 0};\n    }\n\n    other = cloneWithOffset(other, base);\n    if (base.isBefore(other)) {\n        res = positiveMomentsDifference(base, other);\n    } else {\n        res = positiveMomentsDifference(other, base);\n        res.milliseconds = -res.milliseconds;\n        res.months = -res.months;\n    }\n\n    return res;\n}\n\n// TODO: remove 'name' arg after deprecation is removed\nfunction createAdder(direction, name) {\n    return function (val, period) {\n        var dur, tmp;\n        //invert the arguments, but complain about it\n        if (period !== null && !isNaN(+period)) {\n            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n            tmp = val; val = period; period = tmp;\n        }\n\n        val = typeof val === 'string' ? +val : val;\n        dur = createDuration(val, period);\n        addSubtract(this, dur, direction);\n        return this;\n    };\n}\n\nfunction addSubtract (mom, duration, isAdding, updateOffset) {\n    var milliseconds = duration._milliseconds,\n        days = absRound(duration._days),\n        months = absRound(duration._months);\n\n    if (!mom.isValid()) {\n        // No op\n        return;\n    }\n\n    updateOffset = updateOffset == null ? true : updateOffset;\n\n    if (months) {\n        setMonth(mom, get(mom, 'Month') + months * isAdding);\n    }\n    if (days) {\n        set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n    }\n    if (milliseconds) {\n        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n    }\n    if (updateOffset) {\n        hooks.updateOffset(mom, days || months);\n    }\n}\n\nvar add      = createAdder(1, 'add');\nvar subtract = createAdder(-1, 'subtract');\n\nfunction getCalendarFormat(myMoment, now) {\n    var diff = myMoment.diff(now, 'days', true);\n    return diff < -6 ? 'sameElse' :\n            diff < -1 ? 'lastWeek' :\n            diff < 0 ? 'lastDay' :\n            diff < 1 ? 'sameDay' :\n            diff < 2 ? 'nextDay' :\n            diff < 7 ? 'nextWeek' : 'sameElse';\n}\n\nfunction calendar$1 (time, formats) {\n    // We want to compare the start of today, vs this.\n    // Getting start-of-today depends on whether we're local/utc/offset or not.\n    var now = time || createLocal(),\n        sod = cloneWithOffset(now, this).startOf('day'),\n        format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n}\n\nfunction clone () {\n    return new Moment(this);\n}\n\nfunction isAfter (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() > localInput.valueOf();\n    } else {\n        return localInput.valueOf() < this.clone().startOf(units).valueOf();\n    }\n}\n\nfunction isBefore (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() < localInput.valueOf();\n    } else {\n        return this.clone().endOf(units).valueOf() < localInput.valueOf();\n    }\n}\n\nfunction isBetween (from, to, units, inclusivity) {\n    inclusivity = inclusivity || '()';\n    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n}\n\nfunction isSame (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input),\n        inputMs;\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(units || 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() === localInput.valueOf();\n    } else {\n        inputMs = localInput.valueOf();\n        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n    }\n}\n\nfunction isSameOrAfter (input, units) {\n    return this.isSame(input, units) || this.isAfter(input,units);\n}\n\nfunction isSameOrBefore (input, units) {\n    return this.isSame(input, units) || this.isBefore(input,units);\n}\n\nfunction diff (input, units, asFloat) {\n    var that,\n        zoneDelta,\n        delta, output;\n\n    if (!this.isValid()) {\n        return NaN;\n    }\n\n    that = cloneWithOffset(input, this);\n\n    if (!that.isValid()) {\n        return NaN;\n    }\n\n    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n    units = normalizeUnits(units);\n\n    switch (units) {\n        case 'year': output = monthDiff(this, that) / 12; break;\n        case 'month': output = monthDiff(this, that); break;\n        case 'quarter': output = monthDiff(this, that) / 3; break;\n        case 'second': output = (this - that) / 1e3; break; // 1000\n        case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n        case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n        case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n        case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n        default: output = this - that;\n    }\n\n    return asFloat ? output : absFloor(output);\n}\n\nfunction monthDiff (a, b) {\n    // difference in months\n    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n        // b is in (anchor - 1 month, anchor + 1 month)\n        anchor = a.clone().add(wholeMonthDiff, 'months'),\n        anchor2, adjust;\n\n    if (b - anchor < 0) {\n        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor - anchor2);\n    } else {\n        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor2 - anchor);\n    }\n\n    //check for negative zero, return zero if negative zero\n    return -(wholeMonthDiff + adjust) || 0;\n}\n\nhooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\nhooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\nfunction toString () {\n    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n}\n\nfunction toISOString(keepOffset) {\n    if (!this.isValid()) {\n        return null;\n    }\n    var utc = keepOffset !== true;\n    var m = utc ? this.clone().utc() : this;\n    if (m.year() < 0 || m.year() > 9999) {\n        return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n    if (isFunction(Date.prototype.toISOString)) {\n        // native implementation is ~50x faster, use it when we can\n        if (utc) {\n            return this.toDate().toISOString();\n        } else {\n            return new Date(this._d.valueOf()).toISOString().replace('Z', formatMoment(m, 'Z'));\n        }\n    }\n    return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n}\n\n/**\n * Return a human readable representation of a moment that can\n * also be evaluated to get a new moment which is the same\n *\n * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n */\nfunction inspect () {\n    if (!this.isValid()) {\n        return 'moment.invalid(/* ' + this._i + ' */)';\n    }\n    var func = 'moment';\n    var zone = '';\n    if (!this.isLocal()) {\n        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n        zone = 'Z';\n    }\n    var prefix = '[' + func + '(\"]';\n    var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n    var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n    var suffix = zone + '[\")]';\n\n    return this.format(prefix + year + datetime + suffix);\n}\n\nfunction format (inputString) {\n    if (!inputString) {\n        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n    }\n    var output = formatMoment(this, inputString);\n    return this.localeData().postformat(output);\n}\n\nfunction from (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction fromNow (withoutSuffix) {\n    return this.from(createLocal(), withoutSuffix);\n}\n\nfunction to (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction toNow (withoutSuffix) {\n    return this.to(createLocal(), withoutSuffix);\n}\n\n// If passed a locale key, it will set the locale for this\n// instance.  Otherwise, it will return the locale configuration\n// variables for this instance.\nfunction locale (key) {\n    var newLocaleData;\n\n    if (key === undefined) {\n        return this._locale._abbr;\n    } else {\n        newLocaleData = getLocale(key);\n        if (newLocaleData != null) {\n            this._locale = newLocaleData;\n        }\n        return this;\n    }\n}\n\nvar lang = deprecate(\n    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n    function (key) {\n        if (key === undefined) {\n            return this.localeData();\n        } else {\n            return this.locale(key);\n        }\n    }\n);\n\nfunction localeData () {\n    return this._locale;\n}\n\nfunction startOf (units) {\n    units = normalizeUnits(units);\n    // the following switch intentionally omits break keywords\n    // to utilize falling through the cases.\n    switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n        case 'date':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n    }\n\n    // weeks are a special case\n    if (units === 'week') {\n        this.weekday(0);\n    }\n    if (units === 'isoWeek') {\n        this.isoWeekday(1);\n    }\n\n    // quarters are also special\n    if (units === 'quarter') {\n        this.month(Math.floor(this.month() / 3) * 3);\n    }\n\n    return this;\n}\n\nfunction endOf (units) {\n    units = normalizeUnits(units);\n    if (units === undefined || units === 'millisecond') {\n        return this;\n    }\n\n    // 'date' is an alias for 'day', so it should be considered as such.\n    if (units === 'date') {\n        units = 'day';\n    }\n\n    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n}\n\nfunction valueOf () {\n    return this._d.valueOf() - ((this._offset || 0) * 60000);\n}\n\nfunction unix () {\n    return Math.floor(this.valueOf() / 1000);\n}\n\nfunction toDate () {\n    return new Date(this.valueOf());\n}\n\nfunction toArray () {\n    var m = this;\n    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n}\n\nfunction toObject () {\n    var m = this;\n    return {\n        years: m.year(),\n        months: m.month(),\n        date: m.date(),\n        hours: m.hours(),\n        minutes: m.minutes(),\n        seconds: m.seconds(),\n        milliseconds: m.milliseconds()\n    };\n}\n\nfunction toJSON () {\n    // new Date(NaN).toJSON() === null\n    return this.isValid() ? this.toISOString() : null;\n}\n\nfunction isValid$2 () {\n    return isValid(this);\n}\n\nfunction parsingFlags () {\n    return extend({}, getParsingFlags(this));\n}\n\nfunction invalidAt () {\n    return getParsingFlags(this).overflow;\n}\n\nfunction creationData() {\n    return {\n        input: this._i,\n        format: this._f,\n        locale: this._locale,\n        isUTC: this._isUTC,\n        strict: this._strict\n    };\n}\n\n// FORMATTING\n\naddFormatToken(0, ['gg', 2], 0, function () {\n    return this.weekYear() % 100;\n});\n\naddFormatToken(0, ['GG', 2], 0, function () {\n    return this.isoWeekYear() % 100;\n});\n\nfunction addWeekYearFormatToken (token, getter) {\n    addFormatToken(0, [token, token.length], 0, getter);\n}\n\naddWeekYearFormatToken('gggg',     'weekYear');\naddWeekYearFormatToken('ggggg',    'weekYear');\naddWeekYearFormatToken('GGGG',  'isoWeekYear');\naddWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n// ALIASES\n\naddUnitAlias('weekYear', 'gg');\naddUnitAlias('isoWeekYear', 'GG');\n\n// PRIORITY\n\naddUnitPriority('weekYear', 1);\naddUnitPriority('isoWeekYear', 1);\n\n\n// PARSING\n\naddRegexToken('G',      matchSigned);\naddRegexToken('g',      matchSigned);\naddRegexToken('GG',     match1to2, match2);\naddRegexToken('gg',     match1to2, match2);\naddRegexToken('GGGG',   match1to4, match4);\naddRegexToken('gggg',   match1to4, match4);\naddRegexToken('GGGGG',  match1to6, match6);\naddRegexToken('ggggg',  match1to6, match6);\n\naddWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n    week[token.substr(0, 2)] = toInt(input);\n});\n\naddWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n    week[token] = hooks.parseTwoDigitYear(input);\n});\n\n// MOMENTS\n\nfunction getSetWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy);\n}\n\nfunction getSetISOWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input, this.isoWeek(), this.isoWeekday(), 1, 4);\n}\n\nfunction getISOWeeksInYear () {\n    return weeksInYear(this.year(), 1, 4);\n}\n\nfunction getWeeksInYear () {\n    var weekInfo = this.localeData()._week;\n    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n}\n\nfunction getSetWeekYearHelper(input, week, weekday, dow, doy) {\n    var weeksTarget;\n    if (input == null) {\n        return weekOfYear(this, dow, doy).year;\n    } else {\n        weeksTarget = weeksInYear(input, dow, doy);\n        if (week > weeksTarget) {\n            week = weeksTarget;\n        }\n        return setWeekAll.call(this, input, week, weekday, dow, doy);\n    }\n}\n\nfunction setWeekAll(weekYear, week, weekday, dow, doy) {\n    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n    this.year(date.getUTCFullYear());\n    this.month(date.getUTCMonth());\n    this.date(date.getUTCDate());\n    return this;\n}\n\n// FORMATTING\n\naddFormatToken('Q', 0, 'Qo', 'quarter');\n\n// ALIASES\n\naddUnitAlias('quarter', 'Q');\n\n// PRIORITY\n\naddUnitPriority('quarter', 7);\n\n// PARSING\n\naddRegexToken('Q', match1);\naddParseToken('Q', function (input, array) {\n    array[MONTH] = (toInt(input) - 1) * 3;\n});\n\n// MOMENTS\n\nfunction getSetQuarter (input) {\n    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n}\n\n// FORMATTING\n\naddFormatToken('D', ['DD', 2], 'Do', 'date');\n\n// ALIASES\n\naddUnitAlias('date', 'D');\n\n// PRIOROITY\naddUnitPriority('date', 9);\n\n// PARSING\n\naddRegexToken('D',  match1to2);\naddRegexToken('DD', match1to2, match2);\naddRegexToken('Do', function (isStrict, locale) {\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    return isStrict ?\n      (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n      locale._dayOfMonthOrdinalParseLenient;\n});\n\naddParseToken(['D', 'DD'], DATE);\naddParseToken('Do', function (input, array) {\n    array[DATE] = toInt(input.match(match1to2)[0]);\n});\n\n// MOMENTS\n\nvar getSetDayOfMonth = makeGetSet('Date', true);\n\n// FORMATTING\n\naddFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n// ALIASES\n\naddUnitAlias('dayOfYear', 'DDD');\n\n// PRIORITY\naddUnitPriority('dayOfYear', 4);\n\n// PARSING\n\naddRegexToken('DDD',  match1to3);\naddRegexToken('DDDD', match3);\naddParseToken(['DDD', 'DDDD'], function (input, array, config) {\n    config._dayOfYear = toInt(input);\n});\n\n// HELPERS\n\n// MOMENTS\n\nfunction getSetDayOfYear (input) {\n    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n}\n\n// FORMATTING\n\naddFormatToken('m', ['mm', 2], 0, 'minute');\n\n// ALIASES\n\naddUnitAlias('minute', 'm');\n\n// PRIORITY\n\naddUnitPriority('minute', 14);\n\n// PARSING\n\naddRegexToken('m',  match1to2);\naddRegexToken('mm', match1to2, match2);\naddParseToken(['m', 'mm'], MINUTE);\n\n// MOMENTS\n\nvar getSetMinute = makeGetSet('Minutes', false);\n\n// FORMATTING\n\naddFormatToken('s', ['ss', 2], 0, 'second');\n\n// ALIASES\n\naddUnitAlias('second', 's');\n\n// PRIORITY\n\naddUnitPriority('second', 15);\n\n// PARSING\n\naddRegexToken('s',  match1to2);\naddRegexToken('ss', match1to2, match2);\naddParseToken(['s', 'ss'], SECOND);\n\n// MOMENTS\n\nvar getSetSecond = makeGetSet('Seconds', false);\n\n// FORMATTING\n\naddFormatToken('S', 0, 0, function () {\n    return ~~(this.millisecond() / 100);\n});\n\naddFormatToken(0, ['SS', 2], 0, function () {\n    return ~~(this.millisecond() / 10);\n});\n\naddFormatToken(0, ['SSS', 3], 0, 'millisecond');\naddFormatToken(0, ['SSSS', 4], 0, function () {\n    return this.millisecond() * 10;\n});\naddFormatToken(0, ['SSSSS', 5], 0, function () {\n    return this.millisecond() * 100;\n});\naddFormatToken(0, ['SSSSSS', 6], 0, function () {\n    return this.millisecond() * 1000;\n});\naddFormatToken(0, ['SSSSSSS', 7], 0, function () {\n    return this.millisecond() * 10000;\n});\naddFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n    return this.millisecond() * 100000;\n});\naddFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n    return this.millisecond() * 1000000;\n});\n\n\n// ALIASES\n\naddUnitAlias('millisecond', 'ms');\n\n// PRIORITY\n\naddUnitPriority('millisecond', 16);\n\n// PARSING\n\naddRegexToken('S',    match1to3, match1);\naddRegexToken('SS',   match1to3, match2);\naddRegexToken('SSS',  match1to3, match3);\n\nvar token;\nfor (token = 'SSSS'; token.length <= 9; token += 'S') {\n    addRegexToken(token, matchUnsigned);\n}\n\nfunction parseMs(input, array) {\n    array[MILLISECOND] = toInt(('0.' + input) * 1000);\n}\n\nfor (token = 'S'; token.length <= 9; token += 'S') {\n    addParseToken(token, parseMs);\n}\n// MOMENTS\n\nvar getSetMillisecond = makeGetSet('Milliseconds', false);\n\n// FORMATTING\n\naddFormatToken('z',  0, 0, 'zoneAbbr');\naddFormatToken('zz', 0, 0, 'zoneName');\n\n// MOMENTS\n\nfunction getZoneAbbr () {\n    return this._isUTC ? 'UTC' : '';\n}\n\nfunction getZoneName () {\n    return this._isUTC ? 'Coordinated Universal Time' : '';\n}\n\nvar proto = Moment.prototype;\n\nproto.add               = add;\nproto.calendar          = calendar$1;\nproto.clone             = clone;\nproto.diff              = diff;\nproto.endOf             = endOf;\nproto.format            = format;\nproto.from              = from;\nproto.fromNow           = fromNow;\nproto.to                = to;\nproto.toNow             = toNow;\nproto.get               = stringGet;\nproto.invalidAt         = invalidAt;\nproto.isAfter           = isAfter;\nproto.isBefore          = isBefore;\nproto.isBetween         = isBetween;\nproto.isSame            = isSame;\nproto.isSameOrAfter     = isSameOrAfter;\nproto.isSameOrBefore    = isSameOrBefore;\nproto.isValid           = isValid$2;\nproto.lang              = lang;\nproto.locale            = locale;\nproto.localeData        = localeData;\nproto.max               = prototypeMax;\nproto.min               = prototypeMin;\nproto.parsingFlags      = parsingFlags;\nproto.set               = stringSet;\nproto.startOf           = startOf;\nproto.subtract          = subtract;\nproto.toArray           = toArray;\nproto.toObject          = toObject;\nproto.toDate            = toDate;\nproto.toISOString       = toISOString;\nproto.inspect           = inspect;\nproto.toJSON            = toJSON;\nproto.toString          = toString;\nproto.unix              = unix;\nproto.valueOf           = valueOf;\nproto.creationData      = creationData;\n\n// Year\nproto.year       = getSetYear;\nproto.isLeapYear = getIsLeapYear;\n\n// Week Year\nproto.weekYear    = getSetWeekYear;\nproto.isoWeekYear = getSetISOWeekYear;\n\n// Quarter\nproto.quarter = proto.quarters = getSetQuarter;\n\n// Month\nproto.month       = getSetMonth;\nproto.daysInMonth = getDaysInMonth;\n\n// Week\nproto.week           = proto.weeks        = getSetWeek;\nproto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\nproto.weeksInYear    = getWeeksInYear;\nproto.isoWeeksInYear = getISOWeeksInYear;\n\n// Day\nproto.date       = getSetDayOfMonth;\nproto.day        = proto.days             = getSetDayOfWeek;\nproto.weekday    = getSetLocaleDayOfWeek;\nproto.isoWeekday = getSetISODayOfWeek;\nproto.dayOfYear  = getSetDayOfYear;\n\n// Hour\nproto.hour = proto.hours = getSetHour;\n\n// Minute\nproto.minute = proto.minutes = getSetMinute;\n\n// Second\nproto.second = proto.seconds = getSetSecond;\n\n// Millisecond\nproto.millisecond = proto.milliseconds = getSetMillisecond;\n\n// Offset\nproto.utcOffset            = getSetOffset;\nproto.utc                  = setOffsetToUTC;\nproto.local                = setOffsetToLocal;\nproto.parseZone            = setOffsetToParsedOffset;\nproto.hasAlignedHourOffset = hasAlignedHourOffset;\nproto.isDST                = isDaylightSavingTime;\nproto.isLocal              = isLocal;\nproto.isUtcOffset          = isUtcOffset;\nproto.isUtc                = isUtc;\nproto.isUTC                = isUtc;\n\n// Timezone\nproto.zoneAbbr = getZoneAbbr;\nproto.zoneName = getZoneName;\n\n// Deprecations\nproto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\nproto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\nproto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\nproto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\nproto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\nfunction createUnix (input) {\n    return createLocal(input * 1000);\n}\n\nfunction createInZone () {\n    return createLocal.apply(null, arguments).parseZone();\n}\n\nfunction preParsePostFormat (string) {\n    return string;\n}\n\nvar proto$1 = Locale.prototype;\n\nproto$1.calendar        = calendar;\nproto$1.longDateFormat  = longDateFormat;\nproto$1.invalidDate     = invalidDate;\nproto$1.ordinal         = ordinal;\nproto$1.preparse        = preParsePostFormat;\nproto$1.postformat      = preParsePostFormat;\nproto$1.relativeTime    = relativeTime;\nproto$1.pastFuture      = pastFuture;\nproto$1.set             = set;\n\n// Month\nproto$1.months            =        localeMonths;\nproto$1.monthsShort       =        localeMonthsShort;\nproto$1.monthsParse       =        localeMonthsParse;\nproto$1.monthsRegex       = monthsRegex;\nproto$1.monthsShortRegex  = monthsShortRegex;\n\n// Week\nproto$1.week = localeWeek;\nproto$1.firstDayOfYear = localeFirstDayOfYear;\nproto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n// Day of Week\nproto$1.weekdays       =        localeWeekdays;\nproto$1.weekdaysMin    =        localeWeekdaysMin;\nproto$1.weekdaysShort  =        localeWeekdaysShort;\nproto$1.weekdaysParse  =        localeWeekdaysParse;\n\nproto$1.weekdaysRegex       =        weekdaysRegex;\nproto$1.weekdaysShortRegex  =        weekdaysShortRegex;\nproto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n// Hours\nproto$1.isPM = localeIsPM;\nproto$1.meridiem = localeMeridiem;\n\nfunction get$1 (format, index, field, setter) {\n    var locale = getLocale();\n    var utc = createUTC().set(setter, index);\n    return locale[field](utc, format);\n}\n\nfunction listMonthsImpl (format, index, field) {\n    if (isNumber(format)) {\n        index = format;\n        format = undefined;\n    }\n\n    format = format || '';\n\n    if (index != null) {\n        return get$1(format, index, field, 'month');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 12; i++) {\n        out[i] = get$1(format, i, field, 'month');\n    }\n    return out;\n}\n\n// ()\n// (5)\n// (fmt, 5)\n// (fmt)\n// (true)\n// (true, 5)\n// (true, fmt, 5)\n// (true, fmt)\nfunction listWeekdaysImpl (localeSorted, format, index, field) {\n    if (typeof localeSorted === 'boolean') {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    } else {\n        format = localeSorted;\n        index = format;\n        localeSorted = false;\n\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    }\n\n    var locale = getLocale(),\n        shift = localeSorted ? locale._week.dow : 0;\n\n    if (index != null) {\n        return get$1(format, (index + shift) % 7, field, 'day');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 7; i++) {\n        out[i] = get$1(format, (i + shift) % 7, field, 'day');\n    }\n    return out;\n}\n\nfunction listMonths (format, index) {\n    return listMonthsImpl(format, index, 'months');\n}\n\nfunction listMonthsShort (format, index) {\n    return listMonthsImpl(format, index, 'monthsShort');\n}\n\nfunction listWeekdays (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n}\n\nfunction listWeekdaysShort (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n}\n\nfunction listWeekdaysMin (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n}\n\ngetSetGlobalLocale('en', {\n    dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n    ordinal : function (number) {\n        var b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? 'th' :\n            (b === 1) ? 'st' :\n            (b === 2) ? 'nd' :\n            (b === 3) ? 'rd' : 'th';\n        return number + output;\n    }\n});\n\n// Side effect imports\nhooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\nhooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\nvar mathAbs = Math.abs;\n\nfunction abs () {\n    var data           = this._data;\n\n    this._milliseconds = mathAbs(this._milliseconds);\n    this._days         = mathAbs(this._days);\n    this._months       = mathAbs(this._months);\n\n    data.milliseconds  = mathAbs(data.milliseconds);\n    data.seconds       = mathAbs(data.seconds);\n    data.minutes       = mathAbs(data.minutes);\n    data.hours         = mathAbs(data.hours);\n    data.months        = mathAbs(data.months);\n    data.years         = mathAbs(data.years);\n\n    return this;\n}\n\nfunction addSubtract$1 (duration, input, value, direction) {\n    var other = createDuration(input, value);\n\n    duration._milliseconds += direction * other._milliseconds;\n    duration._days         += direction * other._days;\n    duration._months       += direction * other._months;\n\n    return duration._bubble();\n}\n\n// supports only 2.0-style add(1, 's') or add(duration)\nfunction add$1 (input, value) {\n    return addSubtract$1(this, input, value, 1);\n}\n\n// supports only 2.0-style subtract(1, 's') or subtract(duration)\nfunction subtract$1 (input, value) {\n    return addSubtract$1(this, input, value, -1);\n}\n\nfunction absCeil (number) {\n    if (number < 0) {\n        return Math.floor(number);\n    } else {\n        return Math.ceil(number);\n    }\n}\n\nfunction bubble () {\n    var milliseconds = this._milliseconds;\n    var days         = this._days;\n    var months       = this._months;\n    var data         = this._data;\n    var seconds, minutes, hours, years, monthsFromDays;\n\n    // if we have a mix of positive and negative values, bubble down first\n    // check: https://github.com/moment/moment/issues/2166\n    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n            (milliseconds <= 0 && days <= 0 && months <= 0))) {\n        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n        days = 0;\n        months = 0;\n    }\n\n    // The following code bubbles up values, see the tests for\n    // examples of what that means.\n    data.milliseconds = milliseconds % 1000;\n\n    seconds           = absFloor(milliseconds / 1000);\n    data.seconds      = seconds % 60;\n\n    minutes           = absFloor(seconds / 60);\n    data.minutes      = minutes % 60;\n\n    hours             = absFloor(minutes / 60);\n    data.hours        = hours % 24;\n\n    days += absFloor(hours / 24);\n\n    // convert days to months\n    monthsFromDays = absFloor(daysToMonths(days));\n    months += monthsFromDays;\n    days -= absCeil(monthsToDays(monthsFromDays));\n\n    // 12 months -> 1 year\n    years = absFloor(months / 12);\n    months %= 12;\n\n    data.days   = days;\n    data.months = months;\n    data.years  = years;\n\n    return this;\n}\n\nfunction daysToMonths (days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    // 400 years have 12 months === 4800\n    return days * 4800 / 146097;\n}\n\nfunction monthsToDays (months) {\n    // the reverse of daysToMonths\n    return months * 146097 / 4800;\n}\n\nfunction as (units) {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    var days;\n    var months;\n    var milliseconds = this._milliseconds;\n\n    units = normalizeUnits(units);\n\n    if (units === 'month' || units === 'year') {\n        days   = this._days   + milliseconds / 864e5;\n        months = this._months + daysToMonths(days);\n        return units === 'month' ? months : months / 12;\n    } else {\n        // handle milliseconds separately because of floating point math errors (issue #1867)\n        days = this._days + Math.round(monthsToDays(this._months));\n        switch (units) {\n            case 'week'   : return days / 7     + milliseconds / 6048e5;\n            case 'day'    : return days         + milliseconds / 864e5;\n            case 'hour'   : return days * 24    + milliseconds / 36e5;\n            case 'minute' : return days * 1440  + milliseconds / 6e4;\n            case 'second' : return days * 86400 + milliseconds / 1000;\n            // Math.floor prevents floating point math errors here\n            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n            default: throw new Error('Unknown unit ' + units);\n        }\n    }\n}\n\n// TODO: Use this.as('ms')?\nfunction valueOf$1 () {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    return (\n        this._milliseconds +\n        this._days * 864e5 +\n        (this._months % 12) * 2592e6 +\n        toInt(this._months / 12) * 31536e6\n    );\n}\n\nfunction makeAs (alias) {\n    return function () {\n        return this.as(alias);\n    };\n}\n\nvar asMilliseconds = makeAs('ms');\nvar asSeconds      = makeAs('s');\nvar asMinutes      = makeAs('m');\nvar asHours        = makeAs('h');\nvar asDays         = makeAs('d');\nvar asWeeks        = makeAs('w');\nvar asMonths       = makeAs('M');\nvar asYears        = makeAs('y');\n\nfunction clone$1 () {\n    return createDuration(this);\n}\n\nfunction get$2 (units) {\n    units = normalizeUnits(units);\n    return this.isValid() ? this[units + 's']() : NaN;\n}\n\nfunction makeGetter(name) {\n    return function () {\n        return this.isValid() ? this._data[name] : NaN;\n    };\n}\n\nvar milliseconds = makeGetter('milliseconds');\nvar seconds      = makeGetter('seconds');\nvar minutes      = makeGetter('minutes');\nvar hours        = makeGetter('hours');\nvar days         = makeGetter('days');\nvar months       = makeGetter('months');\nvar years        = makeGetter('years');\n\nfunction weeks () {\n    return absFloor(this.days() / 7);\n}\n\nvar round = Math.round;\nvar thresholds = {\n    ss: 44,         // a few seconds to seconds\n    s : 45,         // seconds to minute\n    m : 45,         // minutes to hour\n    h : 22,         // hours to day\n    d : 26,         // days to month\n    M : 11          // months to year\n};\n\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n    var duration = createDuration(posNegDuration).abs();\n    var seconds  = round(duration.as('s'));\n    var minutes  = round(duration.as('m'));\n    var hours    = round(duration.as('h'));\n    var days     = round(duration.as('d'));\n    var months   = round(duration.as('M'));\n    var years    = round(duration.as('y'));\n\n    var a = seconds <= thresholds.ss && ['s', seconds]  ||\n            seconds < thresholds.s   && ['ss', seconds] ||\n            minutes <= 1             && ['m']           ||\n            minutes < thresholds.m   && ['mm', minutes] ||\n            hours   <= 1             && ['h']           ||\n            hours   < thresholds.h   && ['hh', hours]   ||\n            days    <= 1             && ['d']           ||\n            days    < thresholds.d   && ['dd', days]    ||\n            months  <= 1             && ['M']           ||\n            months  < thresholds.M   && ['MM', months]  ||\n            years   <= 1             && ['y']           || ['yy', years];\n\n    a[2] = withoutSuffix;\n    a[3] = +posNegDuration > 0;\n    a[4] = locale;\n    return substituteTimeAgo.apply(null, a);\n}\n\n// This function allows you to set the rounding function for relative time strings\nfunction getSetRelativeTimeRounding (roundingFunction) {\n    if (roundingFunction === undefined) {\n        return round;\n    }\n    if (typeof(roundingFunction) === 'function') {\n        round = roundingFunction;\n        return true;\n    }\n    return false;\n}\n\n// This function allows you to set a threshold for relative time strings\nfunction getSetRelativeTimeThreshold (threshold, limit) {\n    if (thresholds[threshold] === undefined) {\n        return false;\n    }\n    if (limit === undefined) {\n        return thresholds[threshold];\n    }\n    thresholds[threshold] = limit;\n    if (threshold === 's') {\n        thresholds.ss = limit - 1;\n    }\n    return true;\n}\n\nfunction humanize (withSuffix) {\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var locale = this.localeData();\n    var output = relativeTime$1(this, !withSuffix, locale);\n\n    if (withSuffix) {\n        output = locale.pastFuture(+this, output);\n    }\n\n    return locale.postformat(output);\n}\n\nvar abs$1 = Math.abs;\n\nfunction sign(x) {\n    return ((x > 0) - (x < 0)) || +x;\n}\n\nfunction toISOString$1() {\n    // for ISO strings we do not use the normal bubbling rules:\n    //  * milliseconds bubble up until they become hours\n    //  * days do not bubble at all\n    //  * months bubble up until they become years\n    // This is because there is no context-free conversion between hours and days\n    // (think of clock changes)\n    // and also not between days and months (28-31 days per month)\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var seconds = abs$1(this._milliseconds) / 1000;\n    var days         = abs$1(this._days);\n    var months       = abs$1(this._months);\n    var minutes, hours, years;\n\n    // 3600 seconds -> 60 minutes -> 1 hour\n    minutes           = absFloor(seconds / 60);\n    hours             = absFloor(minutes / 60);\n    seconds %= 60;\n    minutes %= 60;\n\n    // 12 months -> 1 year\n    years  = absFloor(months / 12);\n    months %= 12;\n\n\n    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n    var Y = years;\n    var M = months;\n    var D = days;\n    var h = hours;\n    var m = minutes;\n    var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n    var total = this.asSeconds();\n\n    if (!total) {\n        // this is the same as C#'s (Noda) and python (isodate)...\n        // but not other JS (goog.date)\n        return 'P0D';\n    }\n\n    var totalSign = total < 0 ? '-' : '';\n    var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n    var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n    var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n    return totalSign + 'P' +\n        (Y ? ymSign + Y + 'Y' : '') +\n        (M ? ymSign + M + 'M' : '') +\n        (D ? daysSign + D + 'D' : '') +\n        ((h || m || s) ? 'T' : '') +\n        (h ? hmsSign + h + 'H' : '') +\n        (m ? hmsSign + m + 'M' : '') +\n        (s ? hmsSign + s + 'S' : '');\n}\n\nvar proto$2 = Duration.prototype;\n\nproto$2.isValid        = isValid$1;\nproto$2.abs            = abs;\nproto$2.add            = add$1;\nproto$2.subtract       = subtract$1;\nproto$2.as             = as;\nproto$2.asMilliseconds = asMilliseconds;\nproto$2.asSeconds      = asSeconds;\nproto$2.asMinutes      = asMinutes;\nproto$2.asHours        = asHours;\nproto$2.asDays         = asDays;\nproto$2.asWeeks        = asWeeks;\nproto$2.asMonths       = asMonths;\nproto$2.asYears        = asYears;\nproto$2.valueOf        = valueOf$1;\nproto$2._bubble        = bubble;\nproto$2.clone          = clone$1;\nproto$2.get            = get$2;\nproto$2.milliseconds   = milliseconds;\nproto$2.seconds        = seconds;\nproto$2.minutes        = minutes;\nproto$2.hours          = hours;\nproto$2.days           = days;\nproto$2.weeks          = weeks;\nproto$2.months         = months;\nproto$2.years          = years;\nproto$2.humanize       = humanize;\nproto$2.toISOString    = toISOString$1;\nproto$2.toString       = toISOString$1;\nproto$2.toJSON         = toISOString$1;\nproto$2.locale         = locale;\nproto$2.localeData     = localeData;\n\n// Deprecations\nproto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\nproto$2.lang = lang;\n\n// Side effect imports\n\n// FORMATTING\n\naddFormatToken('X', 0, 0, 'unix');\naddFormatToken('x', 0, 0, 'valueOf');\n\n// PARSING\n\naddRegexToken('x', matchSigned);\naddRegexToken('X', matchTimestamp);\naddParseToken('X', function (input, array, config) {\n    config._d = new Date(parseFloat(input, 10) * 1000);\n});\naddParseToken('x', function (input, array, config) {\n    config._d = new Date(toInt(input));\n});\n\n// Side effect imports\n\n\nhooks.version = '2.20.1';\n\nsetHookCallback(createLocal);\n\nhooks.fn                    = proto;\nhooks.min                   = min;\nhooks.max                   = max;\nhooks.now                   = now;\nhooks.utc                   = createUTC;\nhooks.unix                  = createUnix;\nhooks.months                = listMonths;\nhooks.isDate                = isDate;\nhooks.locale                = getSetGlobalLocale;\nhooks.invalid               = createInvalid;\nhooks.duration              = createDuration;\nhooks.isMoment              = isMoment;\nhooks.weekdays              = listWeekdays;\nhooks.parseZone             = createInZone;\nhooks.localeData            = getLocale;\nhooks.isDuration            = isDuration;\nhooks.monthsShort           = listMonthsShort;\nhooks.weekdaysMin           = listWeekdaysMin;\nhooks.defineLocale          = defineLocale;\nhooks.updateLocale          = updateLocale;\nhooks.locales               = listLocales;\nhooks.weekdaysShort         = listWeekdaysShort;\nhooks.normalizeUnits        = normalizeUnits;\nhooks.relativeTimeRounding  = getSetRelativeTimeRounding;\nhooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\nhooks.calendarFormat        = getCalendarFormat;\nhooks.prototype             = proto;\n\n// currently HTML5 input type only supports 24-hour formats\nhooks.HTML5_FMT = {\n    DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n    DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n    DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n    DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n    TIME: 'HH:mm',                                  // <input type=\"time\" />\n    TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n    TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n    WEEK: 'YYYY-[W]WW',                             // <input type=\"week\" />\n    MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n};\n\nreturn hooks;\n\n})));\n","import moment from 'moment';\n\nfrappe.ready(function() {\n\tfrappe.file_reading = false;\n\tfrappe.form_dirty = false;\n\n\t$.extend(frappe, web_form_settings);\n\tmoment.defaultFormat = frappe.moment_date_format;\n\n\t$('[data-toggle=\"tooltip\"]').tooltip();\n\n\tvar $form = $(\"form[data-web-form='\"+frappe.web_form_name+\"']\");\n\n\t// read file attachment\n\t$form.on(\"change\", \"[type='file']\", function() {\n\t\tvar $input = $(this);\n\t\tif($input.attr(\"type\")===\"file\") {\n\t\t\tvar input = $input.get(0);\n\t\t\tvar reader = new FileReader();\n\n\t\t\tif(input.files.length) {\n\t\t\t\tvar file = input.files[0];\n\t\t\t\tfrappe.file_reading = true;\n\t\t\t\treader.onload = function() {\n\t\t\t\t\tinput.filedata = {\n\t\t\t\t\t\t\"__file_attachment\": 1,\n\t\t\t\t\t\t\"filename\": file.name,\n\t\t\t\t\t\t\"dataurl\": reader.result\n\t\t\t\t\t};\n\n\t\t\t\t\tif(input.filedata.dataurl.length >\n\t\t\t\t\t\t(frappe.max_attachment_size * 1024 * 1024)) {\n\t\t\t\t\t\tfrappe.msgprint(__('Max file size allowed is {0}MB',\n\t\t\t\t\t\t\t[frappe.max_attachment_size]));\n\t\t\t\t\t\tinput.filedata = null;\n\n\t\t\t\t\t\t// clear attachment\n\t\t\t\t\t\t$(input).val('');\n\t\t\t\t\t\t$(input).attr('data-value', '');\n\t\t\t\t\t}\n\t\t\t\t\tfrappe.file_reading = false;\n\t\t\t\t};\n\n\t\t\t\treader.readAsDataURL(file);\n\t\t\t}\n\t\t}\n\t});\n\n\tvar set_mandatory_class = function(input) {\n\t\tif($(input).attr('data-reqd')) {\n\t\t\t$(input).parent().toggleClass('has-error', !!!$(input).val());\n\t\t}\n\t};\n\n\t// show mandatory fields as red\n\t$('.form-group input, .form-group textarea, .form-group select').on('change', function() {\n\t\tset_mandatory_class(this);\n\t}).on('keypress', function() {\n\t\tset_mandatory_class(this);\n\n\t\t// validate maxlength\n\t\tvar maxlength = parseInt($(this).attr('maxlength'));\n\t\tif(maxlength && (($(this).val() || '') + '').length > maxlength-1) {\n\t\t\t$(this).val($(this).val().substr(0, maxlength-1));\n\t\t}\n\t}).each(function() {\n\t\tset_mandatory_class(this);\n\t});\n\n\t// if changed, set dirty flag\n\t$form.on('change', function() {\n\t\tfrappe.form_dirty = true;\n\t});\n\n\t$form.on('submit', function() {\n\t\treturn false;\n\t});\n\n\t// allow payment only if\n\t$('.btn-payment').on('click', function() {\n\t\tsave(true);\n\t\treturn false;\n\t});\n\n\t// change attach\n\t$form.on(\"click\", \".change-attach\", function() {\n\t\tvar input_wrapper = $(this).parent().addClass(\"hide\")\n\t\t\t.parent().find(\".attach-input-wrap\").removeClass(\"hide\");\n\n\t\tinput_wrapper.find('input').val('').attr('data-value', '');\n\n\t\tfrappe.form_dirty = true;\n\n\t\treturn false;\n\t});\n\n\t// change section\n\t$('.btn-change-section, .slide-progress .fa-fw').on('click', function() {\n\t\tvar idx = $(this).attr('data-idx');\n\t\tif(!frappe.form_dirty || frappe.is_read_only) {\n\t\t\tshow_slide(idx);\n\t\t} else {\n\t\t\tif(save()!==false) {\n\t\t\t\tshow_slide(idx);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\n\tvar show_slide = function(idx) {\n\t\t// hide all sections\n\t\t$('.web-form-page').addClass('hidden');\n\n\t\t// slide-progress\n\t\t$('.slide-progress .fa-circle')\n\t\t\t.removeClass('fa-circle').addClass('fa-circle-o');\n\t\t$('.slide-progress .fa-fw[data-idx=\"'+idx+'\"]')\n\t\t\t.removeClass('fa-circle-o').addClass('fa-circle');\n\n\t\t// un hide target section\n\t\t$('.web-form-page[data-idx=\"'+idx+'\"]')\n\t\t\t.removeClass('hidden')\n\t\t\t.find(':input:first').focus();\n\n\t};\n\n\t// add row\n\t$('.btn-add-row').on('click', function() {\n\t\tvar fieldname = $(this).attr('data-fieldname');\n\t\tvar grid = $('.web-form-grid[data-fieldname=\"'+fieldname+'\"]');\n\t\tvar new_row = grid.find('.web-form-grid-row.hidden').clone()\n\t\t\t.appendTo(grid.find('tbody'))\n\t\t\t.attr('data-name', '')\n\t\t\t.removeClass('hidden');\n\t\tnew_row.find('input').each(function() {\n\t\t\t$(this)\n\t\t\t\t.val($(this).attr('data-default') || \"\")\n\t\t\t\t.removeClass('hasDatepicker')\n\t\t\t\t.attr('id', '');\n\t\t});\n\t\tsetup_date_picker(new_row);\n\t\treturn false;\n\t});\n\n\t// remove row\n\t$('.web-form-grid').on('click', '.btn-remove', function() {\n\t\t$(this).parents('.web-form-grid-row:first').addClass('hidden').remove();\n\t\tfrappe.form_dirty = true;\n\t\treturn false;\n\t});\n\n\t// get document data\n\tvar get_data = function() {\n\t\tfrappe.mandatory_missing_in_last_doc = [];\n\n\t\tvar doc = get_data_for_doctype($form, frappe.web_form_doctype);\n\t\tdoc.doctype = frappe.web_form_doctype;\n\t\tif(frappe.doc_name) {\n\t\t\tdoc.name = frappe.doc_name;\n\t\t}\n\t\tfrappe.mandatory_missing = frappe.mandatory_missing_in_last_doc;\n\n\t\t// get data from child tables\n\t\t$('.web-form-grid').each(function() {\n\t\t\tvar fieldname = $(this).attr('data-fieldname');\n\t\t\tvar doctype = $(this).attr('data-doctype');\n\t\t\tdoc[fieldname] = [];\n\n\t\t\t// get data from each row\n\t\t\t$(this).find('[data-child-row=1]').each(function() {\n\t\t\t\tif(!$(this).hasClass('hidden')) {\n\t\t\t\t\tfrappe.mandatory_missing_in_last_doc = [];\n\t\t\t\t\tvar d = get_data_for_doctype($(this), doctype);\n\n\t\t\t\t\t// set name of child record (if set)\n\t\t\t\t\tvar name = $(this).attr('data-name');\n\t\t\t\t\tif(name) {\n\t\t\t\t\t\td.name = name;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if child table has value\n\t\t\t\t\tvar has_value = false;\n\t\t\t\t\tfor(var key in d) {\n\t\t\t\t\t\tif(typeof d[key]==='string') {\n\t\t\t\t\t\t\td[key] = d[key].trim();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(d[key] !== null && d[key] !== undefined && d[key] !== '') {\n\t\t\t\t\t\t\thas_value = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// only add if any value is set\n\t\t\t\t\tif(has_value) {\n\t\t\t\t\t\tdoc[fieldname].push(d);\n\t\t\t\t\t\tfrappe.mandatory_missing =\n\t\t\t\t\t\t\tfrappe.mandatory_missing.concat(frappe.mandatory_missing_in_last_doc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn doc;\n\t};\n\n\t// get data from input elements\n\t// for the given doctype\n\tvar get_data_for_doctype = function(parent, doctype) {\n\t\tvar out = {};\n\t\tparent.find(\"[name][data-doctype='\"+ doctype +\"']\").each(function() {\n\t\t\tvar $input = $(this);\n\t\t\tvar input_type = $input.attr(\"data-fieldtype\");\n\t\t\tvar no_attachment = false;\n\t\t\tvar val;\n\t\t\tif(input_type===\"Attach\") {\n\t\t\t\t// save filedata dict as value\n\t\t\t\tif($input.get(0).filedata) {\n\t\t\t\t\tval = $input.get(0).filedata;\n\t\t\t\t} else {\n\t\t\t\t\t// original value\n\t\t\t\t\tval = $input.attr('data-value');\n\t\t\t\t\tif (!val) {\n\t\t\t\t\t\tval = {'__no_attachment': 1};\n\t\t\t\t\t\tno_attachment = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(input_type==='Text Editor') {\n\t\t\t\tval = $input.parent().find('.note-editable').html();\n\t\t\t} else if(input_type===\"Check\") {\n\t\t\t\tval = $input.prop(\"checked\") ? 1 : 0;\n\t\t\t} else if(input_type===\"Date\") {\n\t\t\t\t// convert from user format to YYYY-MM-DD\n\t\t\t\tif($input.val()) {\n\t\t\t\t\tval = moment($input.val(), moment.defaultFormat).format('YYYY-MM-DD');\n\t\t\t\t} else {\n\t\t\t\t\tval = null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tval = $input.val();\n\t\t\t}\n\n\t\t\tif(typeof val==='string') {\n\t\t\t\tval = val.trim();\n\t\t\t}\n\n\t\t\tif($input.attr(\"data-reqd\")\n\t\t\t\t&& (val===undefined || val===null || val==='' || no_attachment)) {\n\t\t\t\tfrappe.mandatory_missing_in_last_doc.push([$input.attr(\"data-label\"),\n\t\t\t\t\t$input.parents('.web-form-page:first').attr('data-label')]);\n\t\t\t}\n\n\t\t\tout[$input.attr(\"name\")] = val;\n\t\t});\n\t\treturn out;\n\t};\n\n\tfunction save(for_payment) {\n\t\tif(window.saving)\n\t\t\treturn false;\n\t\twindow.saving = true;\n\t\tfrappe.form_dirty = false;\n\n\t\tif(frappe.file_reading) {\n\t\t\twindow.saving = false;\n\t\t\tfrappe.msgprint(__(\"Uploading files please wait for a few seconds.\"));\n\t\t\treturn false;\n\t\t}\n\n\t\tvar data = get_data();\n\t\tif((!frappe.allow_incomplete || for_payment) && frappe.mandatory_missing.length) {\n\t\t\twindow.saving = false;\n\t\t\tshow_mandatory_missing();\n\t\t\treturn false;\n\t\t}\n\n\t\tfrappe.call({\n\t\t\ttype: \"POST\",\n\t\t\tmethod: \"frappe.website.doctype.web_form.web_form.accept\",\n\t\t\targs: {\n\t\t\t\tdata: data,\n\t\t\t\tweb_form: frappe.web_form_name,\n\t\t\t\tfor_payment: for_payment\n\t\t\t},\n\t\t\tfreeze: true,\n\t\t\tbtn: $form.find(\"[type='submit']\"),\n\t\t\tcallback: function(data) {\n\t\t\t\tif(!data.exc) {\n\t\t\t\t\tfrappe.doc_name = data.message;\n\t\t\t\t\tif(!frappe.login_required) {\n\t\t\t\t\t\tshow_success_message();\n\t\t\t\t\t}\n\n\t\t\t\t\tif(frappe.is_new && frappe.login_required) {\n\t\t\t\t\t\t// reload page (with ID)\n\t\t\t\t\t\twindow.location.href = window.location.pathname + \"?name=\" + frappe.doc_name;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(for_payment && data.message) {\n\t\t\t\t\t\t// redirect to payment\n\t\t\t\t\t\twindow.location.href = data.message;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.msgprint(__('There were errors. Please report this.'));\n\t\t\t\t}\n\t\t\t},\n\t\t\talways: function() {\n\t\t\t\twindow.saving = false;\n\t\t\t}\n\t\t});\n\t\treturn true;\n\t}\n\n\tfunction show_success_message() {\n\t\t$form.addClass(\"hide\");\n\t\t$(\".comments, .introduction, .page-head\").addClass(\"hide\");\n\t\tscroll(0, 0);\n\t\tset_message(frappe.success_link, true);\n\t}\n\n\tfunction show_mandatory_missing() {\n\t\tvar text = [], last_section = null;\n\t\tfrappe.mandatory_missing.forEach(function(d) {\n\t\t\tif(last_section != d[1]) {\n\t\t\t\ttext.push('');\n\t\t\t\ttext.push(d[1].bold());\n\t\t\t\tlast_section = d[1];\n\t\t\t}\n\t\t\ttext.push(d[0]);\n\t\t});\n\t\tfrappe.msgprint(__('The following mandatory fields must be filled:<br>')\n\t\t\t+ text.join('<br>'));\n\t}\n\n\tfunction set_message(msg, permanent) {\n\t\t$(\".form-message\")\n\t\t\t.html(msg)\n\t\t\t.removeClass(\"hide\");\n\n\t\tif(!permanent) {\n\t\t\tsetTimeout(function() {\n\t\t\t\t$(\".form-message\").addClass('hide');\n\t\t\t}, 5000);\n\t\t}\n\t}\n\n\t// submit\n\t$(\".btn-form-submit\").on(\"click\", function() {\n\t\tsave();\n\t\treturn false;\n\t});\n\n\t// close button\n\t$(\".close\").on(\"click\", function() {\n\t\tvar name = $(this).attr(\"data-name\");\n\t\tif(name) {\n\t\t\tfrappe.call({\n\t\t\t\ttype:\"POST\",\n\t\t\t\tmethod: \"frappe.website.doctype.web_form.web_form.delete\",\n\t\t\t\targs: {\n\t\t\t\t\t\"web_form\": frappe.web_form_name,\n\t\t\t\t\t\"name\": name\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif(!r.exc) {\n\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\t// setup datepicker in all inputs within the given element\n\tvar setup_date_picker = function(ele) {\n\t\tvar $dates = ele.find(\"[data-fieldtype='Date']\");\n\t\tvar $date_times = ele.find(\"[data-fieldtype='Datetime']\");\n\n\t\t// setup date\n\t\tif($dates.length) {\n\t\t\t$dates.datepicker({\n\t\t\t\tlanguage: \"en\",\n\t\t\t\tautoClose: true,\n\t\t\t\tdateFormat: frappe.datepicker_format,\n\t\t\t\tonSelect: function(date, date_str, e) {\n\t\t\t\t\te.$el.trigger('change');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// initialize dates from YYYY-MM-DD to user format\n\t\t\t$dates.each(function() {\n\t\t\t\tvar val = $(this).attr('value');\n\t\t\t\tif(val) {\n\t\t\t\t\t$(this).val(moment(val, 'YYYY-MM-DD').format()).trigger('change');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// setup datetime\n\t\tif($date_times.length) {\n\t\t\t$date_times.datepicker({\n\t\t\t\tlanguage: \"en\",\n\t\t\t\tautoClose: true,\n\t\t\t\tdateFormat: frappe.datepicker_format,\n\t\t\t\ttimepicker: true,\n\t\t\t\ttimeFormat: \"hh:ii:ss\"\n\t\t\t});\n\t\t}\n\t};\n\n\tsetup_date_picker($form);\n\n\tvar summernotes = {};\n\tvar setup_text_editor = function() {\n\t\tvar editors = $('[data-fieldtype=\"Text Editor\"]');\n\t\teditors.each(function() {\n\t\t\tif($(this).attr('disabled')) return;\n\t\t\tsummernotes[$(this).attr('data-fieldname')] = $(this).summernote({\n\t\t\t\tminHeight: 400,\n\t\t\t\ttoolbar: [\n\t\t\t\t\t['magic', ['style']],\n\t\t\t\t\t['style', ['bold', 'italic', 'underline', 'clear']],\n\t\t\t\t\t['fontsize', ['fontsize']],\n\t\t\t\t\t['color', ['color']],\n\t\t\t\t\t['para', ['ul', 'ol', 'paragraph']],\n\t\t\t\t\t['media', ['link', 'picture']],\n\t\t\t\t\t['misc', ['fullscreen', 'codeview']]\n\t\t\t\t],\n\t\t\t\ticons: frappe.summer_note_icons\n\t\t\t});\n\t\t});\n\n\t};\n\tsetup_text_editor();\n});\n\nfrappe.summer_note_icons = {\n\t'align': 'fa fa-align',\n\t'alignCenter': 'fa fa-align-center',\n\t'alignJustify': 'fa fa-align-justify',\n\t'alignLeft': 'fa fa-align-left',\n\t'alignRight': 'fa fa-align-right',\n\t'indent': 'fa fa-indent',\n\t'outdent': 'fa fa-outdent',\n\t'arrowsAlt': 'fa fa-arrows-alt',\n\t'bold': 'fa fa-bold',\n\t'caret': 'caret',\n\t'circle': 'fa fa-circle',\n\t'close': 'fa fa-close',\n\t'code': 'fa fa-code',\n\t'eraser': 'fa fa-eraser',\n\t'font': 'fa fa-font',\n\t'frame': 'fa fa-frame',\n\t'italic': 'fa fa-italic',\n\t'link': 'fa fa-link',\n\t'unlink': 'fa fa-chain-broken',\n\t'magic': 'fa fa-magic',\n\t'menuCheck': 'fa fa-check',\n\t'minus': 'fa fa-minus',\n\t'orderedlist': 'fa fa-list-ol',\n\t'pencil': 'fa fa-pencil',\n\t'picture': 'fa fa-image',\n\t'question': 'fa fa-question',\n\t'redo': 'fa fa-redo',\n\t'square': 'fa fa-square',\n\t'strikethrough': 'fa fa-strikethrough',\n\t'subscript': 'fa fa-subscript',\n\t'superscript': 'fa fa-superscript',\n\t'table': 'fa fa-table',\n\t'textHeight': 'fa fa-text-height',\n\t'trash': 'fa fa-trash',\n\t'underline': 'fa fa-underline',\n\t'undo': 'fa fa-undo',\n\t'unorderedlist': 'fa fa-list-ul',\n\t'video': 'fa fa-video-camera'\n};\n","/**\n * Super simple wysiwyg editor v0.8.2\n * http://summernote.org/\n *\n * summernote.js\n * Copyright 2013-2016 Alan Hong. and other contributors\n * summernote may be freely distributed under the MIT license./\n *\n * Date: 2016-08-07T05:11Z\n */\n(function (factory) {\n  /* global define */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    // Node/CommonJS\n    module.exports = factory(require('jquery'));\n  } else {\n    // Browser globals\n    factory(window.jQuery);\n  }\n}(function ($) {\n  'use strict';\n\n  /**\n   * @class core.func\n   *\n   * func utils (for high-order func's arg)\n   *\n   * @singleton\n   * @alternateClassName func\n   */\n  var func = (function () {\n    var eq = function (itemA) {\n      return function (itemB) {\n        return itemA === itemB;\n      };\n    };\n\n    var eq2 = function (itemA, itemB) {\n      return itemA === itemB;\n    };\n\n    var peq2 = function (propName) {\n      return function (itemA, itemB) {\n        return itemA[propName] === itemB[propName];\n      };\n    };\n\n    var ok = function () {\n      return true;\n    };\n\n    var fail = function () {\n      return false;\n    };\n\n    var not = function (f) {\n      return function () {\n        return !f.apply(f, arguments);\n      };\n    };\n\n    var and = function (fA, fB) {\n      return function (item) {\n        return fA(item) && fB(item);\n      };\n    };\n\n    var self = function (a) {\n      return a;\n    };\n\n    var invoke = function (obj, method) {\n      return function () {\n        return obj[method].apply(obj, arguments);\n      };\n    };\n\n    var idCounter = 0;\n\n    /**\n     * generate a globally-unique id\n     *\n     * @param {String} [prefix]\n     */\n    var uniqueId = function (prefix) {\n      var id = ++idCounter + '';\n      return prefix ? prefix + id : id;\n    };\n\n    /**\n     * returns bnd (bounds) from rect\n     *\n     * - IE Compatibility Issue: http://goo.gl/sRLOAo\n     * - Scroll Issue: http://goo.gl/sNjUc\n     *\n     * @param {Rect} rect\n     * @return {Object} bounds\n     * @return {Number} bounds.top\n     * @return {Number} bounds.left\n     * @return {Number} bounds.width\n     * @return {Number} bounds.height\n     */\n    var rect2bnd = function (rect) {\n      var $document = $(document);\n      return {\n        top: rect.top + $document.scrollTop(),\n        left: rect.left + $document.scrollLeft(),\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top\n      };\n    };\n\n    /**\n     * returns a copy of the object where the keys have become the values and the values the keys.\n     * @param {Object} obj\n     * @return {Object}\n     */\n    var invertObject = function (obj) {\n      var inverted = {};\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          inverted[obj[key]] = key;\n        }\n      }\n      return inverted;\n    };\n\n    /**\n     * @param {String} namespace\n     * @param {String} [prefix]\n     * @return {String}\n     */\n    var namespaceToCamel = function (namespace, prefix) {\n      prefix = prefix || '';\n      return prefix + namespace.split('.').map(function (name) {\n        return name.substring(0, 1).toUpperCase() + name.substring(1);\n      }).join('');\n    };\n\n    /**\n     * Returns a function, that, as long as it continues to be invoked, will not\n     * be triggered. The function will be called after it stops being called for\n     * N milliseconds. If `immediate` is passed, trigger the function on the\n     * leading edge, instead of the trailing.\n     * @param {Function} func\n     * @param {Number} wait\n     * @param {Boolean} immediate\n     * @return {Function}\n     */\n    var debounce = function (func, wait, immediate) {\n      var timeout;\n      return function () {\n        var context = this, args = arguments;\n        var later = function () {\n          timeout = null;\n          if (!immediate) {\n            func.apply(context, args);\n          }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n          func.apply(context, args);\n        }\n      };\n    };\n\n    return {\n      eq: eq,\n      eq2: eq2,\n      peq2: peq2,\n      ok: ok,\n      fail: fail,\n      self: self,\n      not: not,\n      and: and,\n      invoke: invoke,\n      uniqueId: uniqueId,\n      rect2bnd: rect2bnd,\n      invertObject: invertObject,\n      namespaceToCamel: namespaceToCamel,\n      debounce: debounce\n    };\n  })();\n\n  /**\n   * @class core.list\n   *\n   * list utils\n   *\n   * @singleton\n   * @alternateClassName list\n   */\n  var list = (function () {\n    /**\n     * returns the first item of an array.\n     *\n     * @param {Array} array\n     */\n    var head = function (array) {\n      return array[0];\n    };\n\n    /**\n     * returns the last item of an array.\n     *\n     * @param {Array} array\n     */\n    var last = function (array) {\n      return array[array.length - 1];\n    };\n\n    /**\n     * returns everything but the last entry of the array.\n     *\n     * @param {Array} array\n     */\n    var initial = function (array) {\n      return array.slice(0, array.length - 1);\n    };\n\n    /**\n     * returns the rest of the items in an array.\n     *\n     * @param {Array} array\n     */\n    var tail = function (array) {\n      return array.slice(1);\n    };\n\n    /**\n     * returns item of array\n     */\n    var find = function (array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        var item = array[idx];\n        if (pred(item)) {\n          return item;\n        }\n      }\n    };\n\n    /**\n     * returns true if all of the values in the array pass the predicate truth test.\n     */\n    var all = function (array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        if (!pred(array[idx])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    /**\n     * returns index of item\n     */\n    var indexOf = function (array, item) {\n      return $.inArray(item, array);\n    };\n\n    /**\n     * returns true if the value is present in the list.\n     */\n    var contains = function (array, item) {\n      return indexOf(array, item) !== -1;\n    };\n\n    /**\n     * get sum from a list\n     *\n     * @param {Array} array - array\n     * @param {Function} fn - iterator\n     */\n    var sum = function (array, fn) {\n      fn = fn || func.self;\n      return array.reduce(function (memo, v) {\n        return memo + fn(v);\n      }, 0);\n    };\n\n    /**\n     * returns a copy of the collection with array type.\n     * @param {Collection} collection - collection eg) node.childNodes, ...\n     */\n    var from = function (collection) {\n      var result = [], idx = -1, length = collection.length;\n      while (++idx < length) {\n        result[idx] = collection[idx];\n      }\n      return result;\n    };\n\n    /**\n     * returns whether list is empty or not\n     */\n    var isEmpty = function (array) {\n      return !array || !array.length;\n    };\n\n    /**\n     * cluster elements by predicate function.\n     *\n     * @param {Array} array - array\n     * @param {Function} fn - predicate function for cluster rule\n     * @param {Array[]}\n     */\n    var clusterBy = function (array, fn) {\n      if (!array.length) { return []; }\n      var aTail = tail(array);\n      return aTail.reduce(function (memo, v) {\n        var aLast = last(memo);\n        if (fn(last(aLast), v)) {\n          aLast[aLast.length] = v;\n        } else {\n          memo[memo.length] = [v];\n        }\n        return memo;\n      }, [[head(array)]]);\n    };\n\n    /**\n     * returns a copy of the array with all false values removed\n     *\n     * @param {Array} array - array\n     * @param {Function} fn - predicate function for cluster rule\n     */\n    var compact = function (array) {\n      var aResult = [];\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        if (array[idx]) { aResult.push(array[idx]); }\n      }\n      return aResult;\n    };\n\n    /**\n     * produces a duplicate-free version of the array\n     *\n     * @param {Array} array\n     */\n    var unique = function (array) {\n      var results = [];\n\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\n        if (!contains(results, array[idx])) {\n          results.push(array[idx]);\n        }\n      }\n\n      return results;\n    };\n\n    /**\n     * returns next item.\n     * @param {Array} array\n     */\n    var next = function (array, item) {\n      var idx = indexOf(array, item);\n      if (idx === -1) { return null; }\n\n      return array[idx + 1];\n    };\n\n    /**\n     * returns prev item.\n     * @param {Array} array\n     */\n    var prev = function (array, item) {\n      var idx = indexOf(array, item);\n      if (idx === -1) { return null; }\n\n      return array[idx - 1];\n    };\n\n    return { head: head, last: last, initial: initial, tail: tail,\n             prev: prev, next: next, find: find, contains: contains,\n             all: all, sum: sum, from: from, isEmpty: isEmpty,\n             clusterBy: clusterBy, compact: compact, unique: unique };\n  })();\n\n  var isSupportAmd = typeof define === 'function' && define.amd;\n\n  /**\n   * returns whether font is installed or not.\n   *\n   * @param {String} fontName\n   * @return {Boolean}\n   */\n  var isFontInstalled = function (fontName) {\n    var testFontName = fontName === 'Comic Sans MS' ? 'Courier New' : 'Comic Sans MS';\n    var $tester = $('<div>').css({\n      position: 'absolute',\n      left: '-9999px',\n      top: '-9999px',\n      fontSize: '200px'\n    }).text('mmmmmmmmmwwwwwww').appendTo(document.body);\n\n    var originalWidth = $tester.css('fontFamily', testFontName).width();\n    var width = $tester.css('fontFamily', fontName + ',' + testFontName).width();\n\n    $tester.remove();\n\n    return originalWidth !== width;\n  };\n\n  var userAgent = navigator.userAgent;\n  var isMSIE = /MSIE|Trident/i.test(userAgent);\n  var browserVersion;\n  if (isMSIE) {\n    var matches = /MSIE (\\d+[.]\\d+)/.exec(userAgent);\n    if (matches) {\n      browserVersion = parseFloat(matches[1]);\n    }\n    matches = /Trident\\/.*rv:([0-9]{1,}[\\.0-9]{0,})/.exec(userAgent);\n    if (matches) {\n      browserVersion = parseFloat(matches[1]);\n    }\n  }\n\n  var isEdge = /Edge\\/\\d+/.test(userAgent);\n\n  var hasCodeMirror = !!window.CodeMirror;\n  if (!hasCodeMirror && isSupportAmd && typeof require !== 'undefined') {\n    if (typeof require.resolve !== 'undefined') {\n      try {\n        // If CodeMirror can't be resolved, `require.resolve` will throw an\n        // exception and `hasCodeMirror` won't be set to `true`.\n        require.resolve('codemirror');\n        hasCodeMirror = true;\n      } catch (e) {\n        // Do nothing.\n      }\n    } else if (typeof eval('require').specified !== 'undefined') {\n      hasCodeMirror = eval('require').specified('codemirror');\n    }\n  }\n\n  /**\n   * @class core.agent\n   *\n   * Object which check platform and agent\n   *\n   * @singleton\n   * @alternateClassName agent\n   */\n  var agent = {\n    isMac: navigator.appVersion.indexOf('Mac') > -1,\n    isMSIE: isMSIE,\n    isEdge: isEdge,\n    isFF: !isEdge && /firefox/i.test(userAgent),\n    isPhantom: /PhantomJS/i.test(userAgent),\n    isWebkit: !isEdge && /webkit/i.test(userAgent),\n    isChrome: !isEdge && /chrome/i.test(userAgent),\n    isSafari: !isEdge && /safari/i.test(userAgent),\n    browserVersion: browserVersion,\n    jqueryVersion: parseFloat($.fn.jquery),\n    isSupportAmd: isSupportAmd,\n    hasCodeMirror: hasCodeMirror,\n    isFontInstalled: isFontInstalled,\n    isW3CRangeSupport: !!document.createRange\n  };\n\n\n  var NBSP_CHAR = String.fromCharCode(160);\n  var ZERO_WIDTH_NBSP_CHAR = '\\ufeff';\n\n  /**\n   * @class core.dom\n   *\n   * Dom functions\n   *\n   * @singleton\n   * @alternateClassName dom\n   */\n  var dom = (function () {\n    /**\n     * @method isEditable\n     *\n     * returns whether node is `note-editable` or not.\n     *\n     * @param {Node} node\n     * @return {Boolean}\n     */\n    var isEditable = function (node) {\n      return node && $(node).hasClass('note-editable');\n    };\n\n    /**\n     * @method isControlSizing\n     *\n     * returns whether node is `note-control-sizing` or not.\n     *\n     * @param {Node} node\n     * @return {Boolean}\n     */\n    var isControlSizing = function (node) {\n      return node && $(node).hasClass('note-control-sizing');\n    };\n\n    /**\n     * @method makePredByNodeName\n     *\n     * returns predicate which judge whether nodeName is same\n     *\n     * @param {String} nodeName\n     * @return {Function}\n     */\n    var makePredByNodeName = function (nodeName) {\n      nodeName = nodeName.toUpperCase();\n      return function (node) {\n        return node && node.nodeName.toUpperCase() === nodeName;\n      };\n    };\n\n    /**\n     * @method isText\n     *\n     *\n     *\n     * @param {Node} node\n     * @return {Boolean} true if node's type is text(3)\n     */\n    var isText = function (node) {\n      return node && node.nodeType === 3;\n    };\n\n    /**\n     * @method isElement\n     *\n     *\n     *\n     * @param {Node} node\n     * @return {Boolean} true if node's type is element(1)\n     */\n    var isElement = function (node) {\n      return node && node.nodeType === 1;\n    };\n\n    /**\n     * ex) br, col, embed, hr, img, input, ...\n     * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n     */\n    var isVoid = function (node) {\n      return node && /^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(node.nodeName.toUpperCase());\n    };\n\n    var isPara = function (node) {\n      if (isEditable(node)) {\n        return false;\n      }\n\n      // Chrome(v31.0), FF(v25.0.1) use DIV for paragraph\n      return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\n    };\n\n    var isHeading = function (node) {\n      return node && /^H[1-7]/.test(node.nodeName.toUpperCase());\n    };\n\n    var isPre = makePredByNodeName('PRE');\n\n    var isLi = makePredByNodeName('LI');\n\n    var isPurePara = function (node) {\n      return isPara(node) && !isLi(node);\n    };\n\n    var isTable = makePredByNodeName('TABLE');\n\n    var isData = makePredByNodeName('DATA');\n\n    var isInline = function (node) {\n      return !isBodyContainer(node) &&\n             !isList(node) &&\n             !isHr(node) &&\n             !isPara(node) &&\n             !isTable(node) &&\n             !isBlockquote(node) &&\n             !isData(node);\n    };\n\n    var isList = function (node) {\n      return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\n    };\n\n    var isHr = makePredByNodeName('HR');\n\n    var isCell = function (node) {\n      return node && /^TD|^TH/.test(node.nodeName.toUpperCase());\n    };\n\n    var isBlockquote = makePredByNodeName('BLOCKQUOTE');\n\n    var isBodyContainer = function (node) {\n      return isCell(node) || isBlockquote(node) || isEditable(node);\n    };\n\n    var isAnchor = makePredByNodeName('A');\n\n    var isParaInline = function (node) {\n      return isInline(node) && !!ancestor(node, isPara);\n    };\n\n    var isBodyInline = function (node) {\n      return isInline(node) && !ancestor(node, isPara);\n    };\n\n    var isBody = makePredByNodeName('BODY');\n\n    /**\n     * returns whether nodeB is closest sibling of nodeA\n     *\n     * @param {Node} nodeA\n     * @param {Node} nodeB\n     * @return {Boolean}\n     */\n    var isClosestSibling = function (nodeA, nodeB) {\n      return nodeA.nextSibling === nodeB ||\n             nodeA.previousSibling === nodeB;\n    };\n\n    /**\n     * returns array of closest siblings with node\n     *\n     * @param {Node} node\n     * @param {function} [pred] - predicate function\n     * @return {Node[]}\n     */\n    var withClosestSiblings = function (node, pred) {\n      pred = pred || func.ok;\n\n      var siblings = [];\n      if (node.previousSibling && pred(node.previousSibling)) {\n        siblings.push(node.previousSibling);\n      }\n      siblings.push(node);\n      if (node.nextSibling && pred(node.nextSibling)) {\n        siblings.push(node.nextSibling);\n      }\n      return siblings;\n    };\n\n    /**\n     * blank HTML for cursor position\n     * - [workaround] old IE only works with &nbsp;\n     * - [workaround] IE11 and other browser works with bogus br\n     */\n    var blankHTML = agent.isMSIE && agent.browserVersion < 11 ? '&nbsp;' : '<br>';\n\n    /**\n     * @method nodeLength\n     *\n     * returns #text's text size or element's childNodes size\n     *\n     * @param {Node} node\n     */\n    var nodeLength = function (node) {\n      if (isText(node)) {\n        return node.nodeValue.length;\n      }\n\n      if (node) {\n        return node.childNodes.length;\n      }\n\n      return 0;\n\n    };\n\n    /**\n     * returns whether node is empty or not.\n     *\n     * @param {Node} node\n     * @return {Boolean}\n     */\n    var isEmpty = function (node) {\n      var len = nodeLength(node);\n\n      if (len === 0) {\n        return true;\n      } else if (!isText(node) && len === 1 && node.innerHTML === blankHTML) {\n        // ex) <p><br></p>, <span><br></span>\n        return true;\n      } else if (list.all(node.childNodes, isText) && node.innerHTML === '') {\n        // ex) <p></p>, <span></span>\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * padding blankHTML if node is empty (for cursor position)\n     */\n    var paddingBlankHTML = function (node) {\n      if (!isVoid(node) && !nodeLength(node)) {\n        node.innerHTML = blankHTML;\n      }\n    };\n\n    /**\n     * find nearest ancestor predicate hit\n     *\n     * @param {Node} node\n     * @param {Function} pred - predicate function\n     */\n    var ancestor = function (node, pred) {\n      while (node) {\n        if (pred(node)) { return node; }\n        if (isEditable(node)) { break; }\n\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    /**\n     * find nearest ancestor only single child blood line and predicate hit\n     *\n     * @param {Node} node\n     * @param {Function} pred - predicate function\n     */\n    var singleChildAncestor = function (node, pred) {\n      node = node.parentNode;\n\n      while (node) {\n        if (nodeLength(node) !== 1) { break; }\n        if (pred(node)) { return node; }\n        if (isEditable(node)) { break; }\n\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    /**\n     * returns new array of ancestor nodes (until predicate hit).\n     *\n     * @param {Node} node\n     * @param {Function} [optional] pred - predicate function\n     */\n    var listAncestor = function (node, pred) {\n      pred = pred || func.fail;\n\n      var ancestors = [];\n      ancestor(node, function (el) {\n        if (!isEditable(el)) {\n          ancestors.push(el);\n        }\n\n        return pred(el);\n      });\n      return ancestors;\n    };\n\n    /**\n     * find farthest ancestor predicate hit\n     */\n    var lastAncestor = function (node, pred) {\n      var ancestors = listAncestor(node);\n      return list.last(ancestors.filter(pred));\n    };\n\n    /**\n     * returns common ancestor node between two nodes.\n     *\n     * @param {Node} nodeA\n     * @param {Node} nodeB\n     */\n    var commonAncestor = function (nodeA, nodeB) {\n      var ancestors = listAncestor(nodeA);\n      for (var n = nodeB; n; n = n.parentNode) {\n        if ($.inArray(n, ancestors) > -1) { return n; }\n      }\n      return null; // difference document area\n    };\n\n    /**\n     * listing all previous siblings (until predicate hit).\n     *\n     * @param {Node} node\n     * @param {Function} [optional] pred - predicate function\n     */\n    var listPrev = function (node, pred) {\n      pred = pred || func.fail;\n\n      var nodes = [];\n      while (node) {\n        if (pred(node)) { break; }\n        nodes.push(node);\n        node = node.previousSibling;\n      }\n      return nodes;\n    };\n\n    /**\n     * listing next siblings (until predicate hit).\n     *\n     * @param {Node} node\n     * @param {Function} [pred] - predicate function\n     */\n    var listNext = function (node, pred) {\n      pred = pred || func.fail;\n\n      var nodes = [];\n      while (node) {\n        if (pred(node)) { break; }\n        nodes.push(node);\n        node = node.nextSibling;\n      }\n      return nodes;\n    };\n\n    /**\n     * listing descendant nodes\n     *\n     * @param {Node} node\n     * @param {Function} [pred] - predicate function\n     */\n    var listDescendant = function (node, pred) {\n      var descendants = [];\n      pred = pred || func.ok;\n\n      // start DFS(depth first search) with node\n      (function fnWalk(current) {\n        if (node !== current && pred(current)) {\n          descendants.push(current);\n        }\n        for (var idx = 0, len = current.childNodes.length; idx < len; idx++) {\n          fnWalk(current.childNodes[idx]);\n        }\n      })(node);\n\n      return descendants;\n    };\n\n    /**\n     * wrap node with new tag.\n     *\n     * @param {Node} node\n     * @param {Node} tagName of wrapper\n     * @return {Node} - wrapper\n     */\n    var wrap = function (node, wrapperName) {\n      var parent = node.parentNode;\n      var wrapper = $('<' + wrapperName + '>')[0];\n\n      parent.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n\n      return wrapper;\n    };\n\n    /**\n     * insert node after preceding\n     *\n     * @param {Node} node\n     * @param {Node} preceding - predicate function\n     */\n    var insertAfter = function (node, preceding) {\n      var next = preceding.nextSibling, parent = preceding.parentNode;\n      if (next) {\n        parent.insertBefore(node, next);\n      } else {\n        parent.appendChild(node);\n      }\n      return node;\n    };\n\n    /**\n     * append elements.\n     *\n     * @param {Node} node\n     * @param {Collection} aChild\n     */\n    var appendChildNodes = function (node, aChild) {\n      $.each(aChild, function (idx, child) {\n        node.appendChild(child);\n      });\n      return node;\n    };\n\n    /**\n     * returns whether boundaryPoint is left edge or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isLeftEdgePoint = function (point) {\n      return point.offset === 0;\n    };\n\n    /**\n     * returns whether boundaryPoint is right edge or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isRightEdgePoint = function (point) {\n      return point.offset === nodeLength(point.node);\n    };\n\n    /**\n     * returns whether boundaryPoint is edge or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isEdgePoint = function (point) {\n      return isLeftEdgePoint(point) || isRightEdgePoint(point);\n    };\n\n    /**\n     * returns whether node is left edge of ancestor or not.\n     *\n     * @param {Node} node\n     * @param {Node} ancestor\n     * @return {Boolean}\n     */\n    var isLeftEdgeOf = function (node, ancestor) {\n      while (node && node !== ancestor) {\n        if (position(node) !== 0) {\n          return false;\n        }\n        node = node.parentNode;\n      }\n\n      return true;\n    };\n\n    /**\n     * returns whether node is right edge of ancestor or not.\n     *\n     * @param {Node} node\n     * @param {Node} ancestor\n     * @return {Boolean}\n     */\n    var isRightEdgeOf = function (node, ancestor) {\n      if (!ancestor) {\n        return false;\n      }\n      while (node && node !== ancestor) {\n        if (position(node) !== nodeLength(node.parentNode) - 1) {\n          return false;\n        }\n        node = node.parentNode;\n      }\n\n      return true;\n    };\n\n    /**\n     * returns whether point is left edge of ancestor or not.\n     * @param {BoundaryPoint} point\n     * @param {Node} ancestor\n     * @return {Boolean}\n     */\n    var isLeftEdgePointOf = function (point, ancestor) {\n      return isLeftEdgePoint(point) && isLeftEdgeOf(point.node, ancestor);\n    };\n\n    /**\n     * returns whether point is right edge of ancestor or not.\n     * @param {BoundaryPoint} point\n     * @param {Node} ancestor\n     * @return {Boolean}\n     */\n    var isRightEdgePointOf = function (point, ancestor) {\n      return isRightEdgePoint(point) && isRightEdgeOf(point.node, ancestor);\n    };\n\n    /**\n     * returns offset from parent.\n     *\n     * @param {Node} node\n     */\n    var position = function (node) {\n      var offset = 0;\n      while ((node = node.previousSibling)) {\n        offset += 1;\n      }\n      return offset;\n    };\n\n    var hasChildren = function (node) {\n      return !!(node && node.childNodes && node.childNodes.length);\n    };\n\n    /**\n     * returns previous boundaryPoint\n     *\n     * @param {BoundaryPoint} point\n     * @param {Boolean} isSkipInnerOffset\n     * @return {BoundaryPoint}\n     */\n    var prevPoint = function (point, isSkipInnerOffset) {\n      var node, offset;\n\n      if (point.offset === 0) {\n        if (isEditable(point.node)) {\n          return null;\n        }\n\n        node = point.node.parentNode;\n        offset = position(point.node);\n      } else if (hasChildren(point.node)) {\n        node = point.node.childNodes[point.offset - 1];\n        offset = nodeLength(node);\n      } else {\n        node = point.node;\n        offset = isSkipInnerOffset ? 0 : point.offset - 1;\n      }\n\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n\n    /**\n     * returns next boundaryPoint\n     *\n     * @param {BoundaryPoint} point\n     * @param {Boolean} isSkipInnerOffset\n     * @return {BoundaryPoint}\n     */\n    var nextPoint = function (point, isSkipInnerOffset) {\n      var node, offset;\n\n      if (nodeLength(point.node) === point.offset) {\n        if (isEditable(point.node)) {\n          return null;\n        }\n\n        node = point.node.parentNode;\n        offset = position(point.node) + 1;\n      } else if (hasChildren(point.node)) {\n        node = point.node.childNodes[point.offset];\n        offset = 0;\n      } else {\n        node = point.node;\n        offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset + 1;\n      }\n\n      return {\n        node: node,\n        offset: offset\n      };\n    };\n\n    /**\n     * returns whether pointA and pointB is same or not.\n     *\n     * @param {BoundaryPoint} pointA\n     * @param {BoundaryPoint} pointB\n     * @return {Boolean}\n     */\n    var isSamePoint = function (pointA, pointB) {\n      return pointA.node === pointB.node && pointA.offset === pointB.offset;\n    };\n\n    /**\n     * returns whether point is visible (can set cursor) or not.\n     *\n     * @param {BoundaryPoint} point\n     * @return {Boolean}\n     */\n    var isVisiblePoint = function (point) {\n      if (isText(point.node) || !hasChildren(point.node) || isEmpty(point.node)) {\n        return true;\n      }\n\n      var leftNode = point.node.childNodes[point.offset - 1];\n      var rightNode = point.node.childNodes[point.offset];\n      if ((!leftNode || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\n        return true;\n      }\n\n      return false;\n    };\n\n    /**\n     * @method prevPointUtil\n     *\n     * @param {BoundaryPoint} point\n     * @param {Function} pred\n     * @return {BoundaryPoint}\n     */\n    var prevPointUntil = function (point, pred) {\n      while (point) {\n        if (pred(point)) {\n          return point;\n        }\n\n        point = prevPoint(point);\n      }\n\n      return null;\n    };\n\n    /**\n     * @method nextPointUntil\n     *\n     * @param {BoundaryPoint} point\n     * @param {Function} pred\n     * @return {BoundaryPoint}\n     */\n    var nextPointUntil = function (point, pred) {\n      while (point) {\n        if (pred(point)) {\n          return point;\n        }\n\n        point = nextPoint(point);\n      }\n\n      return null;\n    };\n\n    /**\n     * returns whether point has character or not.\n     *\n     * @param {Point} point\n     * @return {Boolean}\n     */\n    var isCharPoint = function (point) {\n      if (!isText(point.node)) {\n        return false;\n      }\n\n      var ch = point.node.nodeValue.charAt(point.offset - 1);\n      return ch && (ch !== ' ' && ch !== NBSP_CHAR);\n    };\n\n    /**\n     * @method walkPoint\n     *\n     * @param {BoundaryPoint} startPoint\n     * @param {BoundaryPoint} endPoint\n     * @param {Function} handler\n     * @param {Boolean} isSkipInnerOffset\n     */\n    var walkPoint = function (startPoint, endPoint, handler, isSkipInnerOffset) {\n      var point = startPoint;\n\n      while (point) {\n        handler(point);\n\n        if (isSamePoint(point, endPoint)) {\n          break;\n        }\n\n        var isSkipOffset = isSkipInnerOffset &&\n                           startPoint.node !== point.node &&\n                           endPoint.node !== point.node;\n        point = nextPoint(point, isSkipOffset);\n      }\n    };\n\n    /**\n     * @method makeOffsetPath\n     *\n     * return offsetPath(array of offset) from ancestor\n     *\n     * @param {Node} ancestor - ancestor node\n     * @param {Node} node\n     */\n    var makeOffsetPath = function (ancestor, node) {\n      var ancestors = listAncestor(node, func.eq(ancestor));\n      return ancestors.map(position).reverse();\n    };\n\n    /**\n     * @method fromOffsetPath\n     *\n     * return element from offsetPath(array of offset)\n     *\n     * @param {Node} ancestor - ancestor node\n     * @param {array} offsets - offsetPath\n     */\n    var fromOffsetPath = function (ancestor, offsets) {\n      var current = ancestor;\n      for (var i = 0, len = offsets.length; i < len; i++) {\n        if (current.childNodes.length <= offsets[i]) {\n          current = current.childNodes[current.childNodes.length - 1];\n        } else {\n          current = current.childNodes[offsets[i]];\n        }\n      }\n      return current;\n    };\n\n    /**\n     * @method splitNode\n     *\n     * split element or #text\n     *\n     * @param {BoundaryPoint} point\n     * @param {Object} [options]\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n     * @return {Node} right node of boundaryPoint\n     */\n    var splitNode = function (point, options) {\n      var isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\n      var isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\n\n      // edge case\n      if (isEdgePoint(point) && (isText(point.node) || isNotSplitEdgePoint)) {\n        if (isLeftEdgePoint(point)) {\n          return point.node;\n        } else if (isRightEdgePoint(point)) {\n          return point.node.nextSibling;\n        }\n      }\n\n      // split #text\n      if (isText(point.node)) {\n        return point.node.splitText(point.offset);\n      } else {\n        var childNode = point.node.childNodes[point.offset];\n        var clone = insertAfter(point.node.cloneNode(false), point.node);\n        appendChildNodes(clone, listNext(childNode));\n\n        if (!isSkipPaddingBlankHTML) {\n          paddingBlankHTML(point.node);\n          paddingBlankHTML(clone);\n        }\n\n        return clone;\n      }\n    };\n\n    /**\n     * @method splitTree\n     *\n     * split tree by point\n     *\n     * @param {Node} root - split root\n     * @param {BoundaryPoint} point\n     * @param {Object} [options]\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n     * @return {Node} right node of boundaryPoint\n     */\n    var splitTree = function (root, point, options) {\n      // ex) [#text, <span>, <p>]\n      var ancestors = listAncestor(point.node, func.eq(root));\n\n      if (!ancestors.length) {\n        return null;\n      } else if (ancestors.length === 1) {\n        return splitNode(point, options);\n      }\n\n      return ancestors.reduce(function (node, parent) {\n        if (node === point.node) {\n          node = splitNode(point, options);\n        }\n\n        return splitNode({\n          node: parent,\n          offset: node ? dom.position(node) : nodeLength(parent)\n        }, options);\n      });\n    };\n\n    /**\n     * split point\n     *\n     * @param {Point} point\n     * @param {Boolean} isInline\n     * @return {Object}\n     */\n    var splitPoint = function (point, isInline) {\n      // find splitRoot, container\n      //  - inline: splitRoot is a child of paragraph\n      //  - block: splitRoot is a child of bodyContainer\n      var pred = isInline ? isPara : isBodyContainer;\n      var ancestors = listAncestor(point.node, pred);\n      var topAncestor = list.last(ancestors) || point.node;\n\n      var splitRoot, container;\n      if (pred(topAncestor)) {\n        splitRoot = ancestors[ancestors.length - 2];\n        container = topAncestor;\n      } else {\n        splitRoot = topAncestor;\n        container = splitRoot.parentNode;\n      }\n\n      // if splitRoot is exists, split with splitTree\n      var pivot = splitRoot && splitTree(splitRoot, point, {\n        isSkipPaddingBlankHTML: isInline,\n        isNotSplitEdgePoint: isInline\n      });\n\n      // if container is point.node, find pivot with point.offset\n      if (!pivot && container === point.node) {\n        pivot = point.node.childNodes[point.offset];\n      }\n\n      return {\n        rightNode: pivot,\n        container: container\n      };\n    };\n\n    var create = function (nodeName) {\n      return document.createElement(nodeName);\n    };\n\n    var createText = function (text) {\n      return document.createTextNode(text);\n    };\n\n    /**\n     * @method remove\n     *\n     * remove node, (isRemoveChild: remove child or not)\n     *\n     * @param {Node} node\n     * @param {Boolean} isRemoveChild\n     */\n    var remove = function (node, isRemoveChild) {\n      if (!node || !node.parentNode) { return; }\n      if (node.removeNode) { return node.removeNode(isRemoveChild); }\n\n      var parent = node.parentNode;\n      if (!isRemoveChild) {\n        var nodes = [];\n        var i, len;\n        for (i = 0, len = node.childNodes.length; i < len; i++) {\n          nodes.push(node.childNodes[i]);\n        }\n\n        for (i = 0, len = nodes.length; i < len; i++) {\n          parent.insertBefore(nodes[i], node);\n        }\n      }\n\n      parent.removeChild(node);\n    };\n\n    /**\n     * @method removeWhile\n     *\n     * @param {Node} node\n     * @param {Function} pred\n     */\n    var removeWhile = function (node, pred) {\n      while (node) {\n        if (isEditable(node) || !pred(node)) {\n          break;\n        }\n\n        var parent = node.parentNode;\n        remove(node);\n        node = parent;\n      }\n    };\n\n    /**\n     * @method replace\n     *\n     * replace node with provided nodeName\n     *\n     * @param {Node} node\n     * @param {String} nodeName\n     * @return {Node} - new node\n     */\n    var replace = function (node, nodeName) {\n      if (node.nodeName.toUpperCase() === nodeName.toUpperCase()) {\n        return node;\n      }\n\n      var newNode = create(nodeName);\n\n      if (node.style.cssText) {\n        newNode.style.cssText = node.style.cssText;\n      }\n\n      appendChildNodes(newNode, list.from(node.childNodes));\n      insertAfter(newNode, node);\n      remove(node);\n\n      return newNode;\n    };\n\n    var isTextarea = makePredByNodeName('TEXTAREA');\n\n    /**\n     * @param {jQuery} $node\n     * @param {Boolean} [stripLinebreaks] - default: false\n     */\n    var value = function ($node, stripLinebreaks) {\n      var val = isTextarea($node[0]) ? $node.val() : $node.html();\n      if (stripLinebreaks) {\n        return val.replace(/[\\n\\r]/g, '');\n      }\n      return val;\n    };\n\n    /**\n     * @method html\n     *\n     * get the HTML contents of node\n     *\n     * @param {jQuery} $node\n     * @param {Boolean} [isNewlineOnBlock]\n     */\n    var html = function ($node, isNewlineOnBlock) {\n      var markup = value($node);\n\n      if (isNewlineOnBlock) {\n        var regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\n        markup = markup.replace(regexTag, function (match, endSlash, name) {\n          name = name.toUpperCase();\n          var isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name) &&\n                                       !!endSlash;\n          var isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\n\n          return match + ((isEndOfInlineContainer || isBlockNode) ? '\\n' : '');\n        });\n        markup = $.trim(markup);\n      }\n\n      return markup;\n    };\n\n    var posFromPlaceholder = function (placeholder) {\n      var $placeholder = $(placeholder);\n      var pos = $placeholder.offset();\n      var height = $placeholder.outerHeight(true); // include margin\n\n      return {\n        left: pos.left,\n        top: pos.top + height\n      };\n    };\n\n    var attachEvents = function ($node, events) {\n      Object.keys(events).forEach(function (key) {\n        $node.on(key, events[key]);\n      });\n    };\n\n    var detachEvents = function ($node, events) {\n      Object.keys(events).forEach(function (key) {\n        $node.off(key, events[key]);\n      });\n    };\n\n    return {\n      /** @property {String} NBSP_CHAR */\n      NBSP_CHAR: NBSP_CHAR,\n      /** @property {String} ZERO_WIDTH_NBSP_CHAR */\n      ZERO_WIDTH_NBSP_CHAR: ZERO_WIDTH_NBSP_CHAR,\n      /** @property {String} blank */\n      blank: blankHTML,\n      /** @property {String} emptyPara */\n      emptyPara: '<div>' + blankHTML + '</div>',\n      // emptyPara: '<p>' + blankHTML + '</p>',\n      makePredByNodeName: makePredByNodeName,\n      isEditable: isEditable,\n      isControlSizing: isControlSizing,\n      isText: isText,\n      isElement: isElement,\n      isVoid: isVoid,\n      isPara: isPara,\n      isPurePara: isPurePara,\n      isHeading: isHeading,\n      isInline: isInline,\n      isBlock: func.not(isInline),\n      isBodyInline: isBodyInline,\n      isBody: isBody,\n      isParaInline: isParaInline,\n      isPre: isPre,\n      isList: isList,\n      isTable: isTable,\n      isData: isData,\n      isCell: isCell,\n      isBlockquote: isBlockquote,\n      isBodyContainer: isBodyContainer,\n      isAnchor: isAnchor,\n      isDiv: makePredByNodeName('DIV'),\n      isLi: isLi,\n      isBR: makePredByNodeName('BR'),\n      isSpan: makePredByNodeName('SPAN'),\n      isB: makePredByNodeName('B'),\n      isU: makePredByNodeName('U'),\n      isS: makePredByNodeName('S'),\n      isI: makePredByNodeName('I'),\n      isImg: makePredByNodeName('IMG'),\n      isTextarea: isTextarea,\n      isEmpty: isEmpty,\n      isEmptyAnchor: func.and(isAnchor, isEmpty),\n      isClosestSibling: isClosestSibling,\n      withClosestSiblings: withClosestSiblings,\n      nodeLength: nodeLength,\n      isLeftEdgePoint: isLeftEdgePoint,\n      isRightEdgePoint: isRightEdgePoint,\n      isEdgePoint: isEdgePoint,\n      isLeftEdgeOf: isLeftEdgeOf,\n      isRightEdgeOf: isRightEdgeOf,\n      isLeftEdgePointOf: isLeftEdgePointOf,\n      isRightEdgePointOf: isRightEdgePointOf,\n      prevPoint: prevPoint,\n      nextPoint: nextPoint,\n      isSamePoint: isSamePoint,\n      isVisiblePoint: isVisiblePoint,\n      prevPointUntil: prevPointUntil,\n      nextPointUntil: nextPointUntil,\n      isCharPoint: isCharPoint,\n      walkPoint: walkPoint,\n      ancestor: ancestor,\n      singleChildAncestor: singleChildAncestor,\n      listAncestor: listAncestor,\n      lastAncestor: lastAncestor,\n      listNext: listNext,\n      listPrev: listPrev,\n      listDescendant: listDescendant,\n      commonAncestor: commonAncestor,\n      wrap: wrap,\n      insertAfter: insertAfter,\n      appendChildNodes: appendChildNodes,\n      position: position,\n      hasChildren: hasChildren,\n      makeOffsetPath: makeOffsetPath,\n      fromOffsetPath: fromOffsetPath,\n      splitTree: splitTree,\n      splitPoint: splitPoint,\n      create: create,\n      createText: createText,\n      remove: remove,\n      removeWhile: removeWhile,\n      replace: replace,\n      html: html,\n      value: value,\n      posFromPlaceholder: posFromPlaceholder,\n      attachEvents: attachEvents,\n      detachEvents: detachEvents\n    };\n  })();\n\n  /**\n   * @param {jQuery} $note\n   * @param {Object} options\n   * @return {Context}\n   */\n  var Context = function ($note, options) {\n    var self = this;\n\n    var ui = $.summernote.ui;\n    this.memos = {};\n    this.modules = {};\n    this.layoutInfo = {};\n    this.options = options;\n\n    /**\n     * create layout and initialize modules and other resources\n     */\n    this.initialize = function () {\n      this.layoutInfo = ui.createLayout($note, options);\n      this._initialize();\n      $note.hide();\n      return this;\n    };\n\n    /**\n     * destroy modules and other resources and remove layout\n     */\n    this.destroy = function () {\n      this._destroy();\n      $note.removeData('summernote');\n      ui.removeLayout($note, this.layoutInfo);\n    };\n\n    /**\n     * destory modules and other resources and initialize it again\n     */\n    this.reset = function () {\n      var disabled = self.isDisabled();\n      this.code(dom.emptyPara);\n      this._destroy();\n      this._initialize();\n\n      if (disabled) {\n        self.disable();\n      }\n    };\n\n    this._initialize = function () {\n      // add optional buttons\n      var buttons = $.extend({}, this.options.buttons);\n      Object.keys(buttons).forEach(function (key) {\n        self.memo('button.' + key, buttons[key]);\n      });\n\n      var modules = $.extend({}, this.options.modules, $.summernote.plugins || {});\n\n      // add and initialize modules\n      Object.keys(modules).forEach(function (key) {\n        self.module(key, modules[key], true);\n      });\n\n      Object.keys(this.modules).forEach(function (key) {\n        self.initializeModule(key);\n      });\n    };\n\n    this._destroy = function () {\n      // destroy modules with reversed order\n      Object.keys(this.modules).reverse().forEach(function (key) {\n        self.removeModule(key);\n      });\n\n      Object.keys(this.memos).forEach(function (key) {\n        self.removeMemo(key);\n      });\n    };\n\n    this.code = function (html) {\n      var isActivated = this.invoke('codeview.isActivated');\n\n      if (html === undefined) {\n        this.invoke('codeview.sync');\n        return isActivated ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\n      } else {\n        if (isActivated) {\n          this.layoutInfo.codable.val(html);\n        } else {\n          this.layoutInfo.editable.html(html);\n        }\n        $note.val(html);\n        this.triggerEvent('change', html);\n      }\n    };\n\n    this.isDisabled = function () {\n      return this.layoutInfo.editable.attr('contenteditable') === 'false';\n    };\n\n    this.enable = function () {\n      this.layoutInfo.editable.attr('contenteditable', true);\n      this.invoke('toolbar.activate', true);\n    };\n\n    this.disable = function () {\n      // close codeview if codeview is opend\n      if (this.invoke('codeview.isActivated')) {\n        this.invoke('codeview.deactivate');\n      }\n      this.layoutInfo.editable.attr('contenteditable', false);\n      this.invoke('toolbar.deactivate', true);\n    };\n\n    this.triggerEvent = function () {\n      var namespace = list.head(arguments);\n      var args = list.tail(list.from(arguments));\n\n      var callback = this.options.callbacks[func.namespaceToCamel(namespace, 'on')];\n      if (callback) {\n        callback.apply($note[0], args);\n      }\n      $note.trigger('summernote.' + namespace, args);\n    };\n\n    this.initializeModule = function (key) {\n      var module = this.modules[key];\n      module.shouldInitialize = module.shouldInitialize || func.ok;\n      if (!module.shouldInitialize()) {\n        return;\n      }\n\n      // initialize module\n      if (module.initialize) {\n        module.initialize();\n      }\n\n      // attach events\n      if (module.events) {\n        dom.attachEvents($note, module.events);\n      }\n    };\n\n    this.module = function (key, ModuleClass, withoutIntialize) {\n      if (arguments.length === 1) {\n        return this.modules[key];\n      }\n\n      this.modules[key] = new ModuleClass(this);\n\n      if (!withoutIntialize) {\n        this.initializeModule(key);\n      }\n    };\n\n    this.removeModule = function (key) {\n      var module = this.modules[key];\n      if (module.shouldInitialize()) {\n        if (module.events) {\n          dom.detachEvents($note, module.events);\n        }\n\n        if (module.destroy) {\n          module.destroy();\n        }\n      }\n\n      delete this.modules[key];\n    };\n\n    this.memo = function (key, obj) {\n      if (arguments.length === 1) {\n        return this.memos[key];\n      }\n      this.memos[key] = obj;\n    };\n\n    this.removeMemo = function (key) {\n      if (this.memos[key] && this.memos[key].destroy) {\n        this.memos[key].destroy();\n      }\n\n      delete this.memos[key];\n    };\n\n    this.createInvokeHandler = function (namespace, value) {\n      return function (event) {\n        event.preventDefault();\n        self.invoke(namespace, value || $(event.target).closest('[data-value]').data('value'));\n      };\n    };\n\n    this.invoke = function () {\n      var namespace = list.head(arguments);\n      var args = list.tail(list.from(arguments));\n\n      var splits = namespace.split('.');\n      var hasSeparator = splits.length > 1;\n      var moduleName = hasSeparator && list.head(splits);\n      var methodName = hasSeparator ? list.last(splits) : list.head(splits);\n\n      var module = this.modules[moduleName || 'editor'];\n      if (!moduleName && this[methodName]) {\n        return this[methodName].apply(this, args);\n      } else if (module && module[methodName] && module.shouldInitialize()) {\n        return module[methodName].apply(module, args);\n      }\n    };\n\n    return this.initialize();\n  };\n\n  $.fn.extend({\n    /**\n     * Summernote API\n     *\n     * @param {Object|String}\n     * @return {this}\n     */\n    summernote: function () {\n      var type = $.type(list.head(arguments));\n      var isExternalAPICalled = type === 'string';\n      var hasInitOptions = type === 'object';\n\n      var options = hasInitOptions ? list.head(arguments) : {};\n\n      options = $.extend({}, $.summernote.options, options);\n      options.langInfo = $.extend(true, {}, $.summernote.lang['en-US'], $.summernote.lang[options.lang]);\n      options.icons = $.extend(true, {}, $.summernote.options.icons, options.icons);\n\n      this.each(function (idx, note) {\n        var $note = $(note);\n        if (!$note.data('summernote')) {\n          var context = new Context($note, options);\n          $note.data('summernote', context);\n          $note.data('summernote').triggerEvent('init', context.layoutInfo);\n        }\n      });\n\n      var $note = this.first();\n      if ($note.length) {\n        var context = $note.data('summernote');\n        if (isExternalAPICalled) {\n          return context.invoke.apply(context, list.from(arguments));\n        } else if (options.focus) {\n          context.invoke('editor.focus');\n        }\n      }\n\n      return this;\n    }\n  });\n\n\n  var Renderer = function (markup, children, options, callback) {\n    this.render = function ($parent) {\n      var $node = $(markup);\n\n      if (options && options.contents) {\n        $node.html(options.contents);\n      }\n\n      if (options && options.className) {\n        $node.addClass(options.className);\n      }\n\n      if (options && options.data) {\n        $.each(options.data, function (k, v) {\n          $node.attr('data-' + k, v);\n        });\n      }\n\n      if (options && options.click) {\n        $node.on('click', options.click);\n      }\n\n      if (children) {\n        var $container = $node.find('.note-children-container');\n        children.forEach(function (child) {\n          child.render($container.length ? $container : $node);\n        });\n      }\n\n      if (callback) {\n        callback($node, options);\n      }\n\n      if (options && options.callback) {\n        options.callback($node);\n      }\n\n      if ($parent) {\n        $parent.append($node);\n      }\n\n      return $node;\n    };\n  };\n\n  var renderer = {\n    create: function (markup, callback) {\n      return function () {\n        var children = $.isArray(arguments[0]) ? arguments[0] : [];\n        var options = typeof arguments[1] === 'object' ? arguments[1] : arguments[0];\n        if (options && options.children) {\n          children = options.children;\n        }\n        return new Renderer(markup, children, options, callback);\n      };\n    }\n  };\n\n  var editor = renderer.create('<div class=\"note-editor note-frame panel panel-default\"/>');\n  var toolbar = renderer.create('<div class=\"note-toolbar panel-heading\"/>');\n  var editingArea = renderer.create('<div class=\"note-editing-area\"/>');\n  var codable = renderer.create('<textarea class=\"note-codable\"/>');\n  var editable = renderer.create('<div class=\"note-editable panel-body\" contentEditable=\"true\"/>');\n  var statusbar = renderer.create([\n    '<div class=\"note-statusbar\">',\n    '  <div class=\"note-resizebar\">',\n    '    <div class=\"note-icon-bar\"/>',\n    '    <div class=\"note-icon-bar\"/>',\n    '    <div class=\"note-icon-bar\"/>',\n    '  </div>',\n    '</div>'\n  ].join(''));\n\n  var airEditor = renderer.create('<div class=\"note-editor\"/>');\n  var airEditable = renderer.create('<div class=\"note-editable\" contentEditable=\"true\"/>');\n\n  var buttonGroup = renderer.create('<div class=\"note-btn-group btn-group\">');\n  var button = renderer.create('<button type=\"button\" class=\"note-btn btn btn-default btn-sm\" tabindex=\"-1\">', function ($node, options) {\n    if (options && options.tooltip) {\n      $node.attr({\n        title: options.tooltip\n      }).tooltip({\n        container: 'body',\n        trigger: 'hover',\n        placement: 'bottom'\n      });\n    }\n  });\n\n  var dropdown = renderer.create('<div class=\"dropdown-menu\">', function ($node, options) {\n    var markup = $.isArray(options.items) ? options.items.map(function (item) {\n      var value = (typeof item === 'string') ? item : (item.value || '');\n      var content = options.template ? options.template(item) : item;\n      return '<li><a href=\"#\" data-value=\"' + value + '\">' + content + '</a></li>';\n    }).join('') : options.items;\n\n    $node.html(markup);\n  });\n\n  var dropdownCheck = renderer.create('<div class=\"dropdown-menu note-check\">', function ($node, options) {\n    var markup = $.isArray(options.items) ? options.items.map(function (item) {\n      var value = (typeof item === 'string') ? item : (item.value || '');\n      var content = options.template ? options.template(item) : item;\n      return '<li><a href=\"#\" data-value=\"' + value + '\">' + icon(options.checkClassName) + ' ' + content + '</a></li>';\n    }).join('') : options.items;\n    $node.html(markup);\n  });\n\n  var palette = renderer.create('<div class=\"note-color-palette\"/>', function ($node, options) {\n    var contents = [];\n    for (var row = 0, rowSize = options.colors.length; row < rowSize; row++) {\n      var eventName = options.eventName;\n      var colors = options.colors[row];\n      var buttons = [];\n      for (var col = 0, colSize = colors.length; col < colSize; col++) {\n        var color = colors[col];\n        buttons.push([\n          '<button type=\"button\" class=\"note-color-btn\"',\n          'style=\"background-color:', color, '\" ',\n          'data-event=\"', eventName, '\" ',\n          'data-value=\"', color, '\" ',\n          'title=\"', color, '\" ',\n          'data-toggle=\"button\" tabindex=\"-1\"></button>'\n        ].join(''));\n      }\n      contents.push('<div class=\"note-color-row\">' + buttons.join('') + '</div>');\n    }\n    $node.html(contents.join(''));\n\n    $node.find('.note-color-btn').tooltip({\n      container: 'body',\n      trigger: 'hover',\n      placement: 'bottom'\n    });\n  });\n\n  var dialog = renderer.create('<div class=\"modal fade in\" aria-hidden=\"false\" tabindex=\"-1\"/>', function ($node, options) {\n    if (options.fade) {\n      $node.addClass('fade');\n    }\n    $node.html([\n      '<div class=\"modal-dialog\">',\n      '  <div class=\"modal-content\">',\n      (options.title ?\n      '    <div class=\"modal-header\">' +\n      '      <div class=\"row\"><div class=\"col-xs-7\"><h4 class=\"modal-title\" style=\"font-weight: bold;\">' + options.title + '</h4></div>' +\n      '      <div class=\"col-xs-5\"><div class=\"text-right buttons\"> <button type=\"button\" class=\"btn btn-default btn-sm btn-modal-close\" data-dismiss=\"modal\">' +\n      '         <i class=\"octicon octicon-x visible-xs\" style=\"padding: 1px 0px;\"></i> <span class=\"hidden-xs\">Close</span></button>'+\n                (options.action && options.button_class ?\n                '     <button type=\"button\" class=\"btn btn-primary btn-sm ' + options.button_class + ' disabled\" disabled>' + options.action + '</button>' : '') +\n      '      </div></div></div>' +\n      '    </div>' : ''\n      ),\n      '    <div class=\"modal-body\">' + options.body + '</div>',\n      (options.footer ?\n      '    <div class=\"modal-footer\">' + options.footer + '</div>' : ''\n      ),\n      '  </div>',\n      '</div>'\n    ].join(''));\n  });\n\n  var popover = renderer.create([\n    '<div class=\"note-popover popover in\">',\n    '  <div class=\"arrow\"/>',\n    '  <div class=\"popover-content note-children-container\"/>',\n    '</div>'\n  ].join(''), function ($node, options) {\n    var direction = typeof options.direction !== 'undefined' ? options.direction : 'bottom';\n\n    $node.addClass(direction);\n\n    if (options.hideArrow) {\n      $node.find('.arrow').hide();\n    }\n  });\n\n  var icon = function (iconClassName, tagName) {\n    tagName = tagName || 'i';\n    return '<' + tagName + ' class=\"' + iconClassName + '\"/>';\n  };\n\n  var ui = {\n    editor: editor,\n    toolbar: toolbar,\n    editingArea: editingArea,\n    codable: codable,\n    editable: editable,\n    statusbar: statusbar,\n    airEditor: airEditor,\n    airEditable: airEditable,\n    buttonGroup: buttonGroup,\n    button: button,\n    dropdown: dropdown,\n    dropdownCheck: dropdownCheck,\n    palette: palette,\n    dialog: dialog,\n    popover: popover,\n    icon: icon,\n\n    toggleBtn: function ($btn, isEnable) {\n      $btn.toggleClass('disabled', !isEnable);\n      $btn.attr('disabled', !isEnable);\n    },\n\n    toggleBtnActive: function ($btn, isActive) {\n      $btn.toggleClass('active', isActive);\n    },\n\n    onDialogShown: function ($dialog, handler) {\n      $dialog.one('shown.bs.modal', handler);\n    },\n\n    onDialogHidden: function ($dialog, handler) {\n      $dialog.one('hidden.bs.modal', handler);\n    },\n\n    showDialog: function ($dialog) {\n      $dialog.modal('show');\n    },\n\n    hideDialog: function ($dialog) {\n      $dialog.modal('hide');\n    },\n\n    createLayout: function ($note, options) {\n      var $editor = (options.airMode ? ui.airEditor([\n        ui.editingArea([\n          ui.airEditable()\n        ])\n      ]) : ui.editor([\n        ui.toolbar(),\n        ui.editingArea([\n          ui.codable(),\n          ui.editable()\n        ]),\n        ui.statusbar()\n      ])).render();\n\n      $editor.insertAfter($note);\n\n      return {\n        note: $note,\n        editor: $editor,\n        toolbar: $editor.find('.note-toolbar'),\n        editingArea: $editor.find('.note-editing-area'),\n        editable: $editor.find('.note-editable'),\n        codable: $editor.find('.note-codable'),\n        statusbar: $editor.find('.note-statusbar')\n      };\n    },\n\n    removeLayout: function ($note, layoutInfo) {\n      $note.html(layoutInfo.editable.html());\n      layoutInfo.editor.remove();\n      $note.show();\n    }\n  };\n\n  $.summernote = $.summernote || {\n    lang: {}\n  };\n\n  $.extend($.summernote.lang, {\n    'en-US': {\n      font: {\n        bold: 'Bold',\n        italic: 'Italic',\n        underline: 'Underline',\n        clear: 'Remove Font Style',\n        height: 'Line Height',\n        name: 'Font Family',\n        strikethrough: 'Strikethrough',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        size: 'Font Size'\n      },\n      image: {\n        image: 'Image',\n        insert: 'Insert',\n        resizeFull: 'Resize Full',\n        resizeHalf: 'Resize Half',\n        resizeQuarter: 'Resize Quarter',\n        floatLeft: 'Float Left',\n        floatRight: 'Float Right',\n        floatNone: 'Float None',\n        shapeRounded: 'Shape: Rounded',\n        shapeCircle: 'Shape: Circle',\n        shapeThumbnail: 'Shape: Thumbnail',\n        shapeNone: 'Shape: None',\n        dragImageHere: 'Drag image or text here',\n        dropImage: 'Drop image or Text',\n        selectFromFiles: 'Select from files',\n        maximumFileSize: 'Maximum file size',\n        maximumFileSizeError: 'Maximum file size exceeded.',\n        url: 'Image URL',\n        remove: 'Remove Image'\n      },\n      video: {\n        video: 'Video',\n        videoLink: 'Video Link',\n        insert: 'Insert',\n        url: 'Video URL?',\n        providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'\n      },\n      link: {\n        link: 'Link',\n        insert: 'Insert',\n        unlink: 'Unlink',\n        edit: 'Edit',\n        textToDisplay: 'Text to display',\n        url: 'To what URL should this link go?',\n        openInNewWindow: 'Open in new window'\n      },\n      table: {\n        table: 'Table'\n      },\n      hr: {\n        insert: 'Insert Horizontal Rule'\n      },\n      style: {\n        style: 'Style',\n        normal: 'Normal',\n        blockquote: 'Quote',\n        pre: 'Code',\n        h1: 'Header 1',\n        h2: 'Header 2',\n        h3: 'Header 3',\n        h4: 'Header 4',\n        h5: 'Header 5',\n        h6: 'Header 6'\n      },\n      lists: {\n        unordered: 'Unordered list',\n        ordered: 'Ordered list'\n      },\n      options: {\n        help: 'Help',\n        fullscreen: 'Full Screen',\n        codeview: 'Code View'\n      },\n      paragraph: {\n        paragraph: 'Paragraph',\n        outdent: 'Outdent',\n        indent: 'Indent',\n        left: 'Align left',\n        center: 'Align center',\n        right: 'Align right',\n        justify: 'Justify full'\n      },\n      color: {\n        recent: 'Recent Color',\n        more: 'More Color',\n        background: 'Background Color',\n        foreground: 'Foreground Color',\n        transparent: 'Transparent',\n        setTransparent: 'Set transparent',\n        reset: 'Reset',\n        resetToDefault: 'Reset to default'\n      },\n      shortcut: {\n        shortcuts: 'Keyboard shortcuts',\n        close: 'Close',\n        textFormatting: 'Text formatting',\n        action: 'Action',\n        paragraphFormatting: 'Paragraph formatting',\n        documentStyle: 'Document Style',\n        extraKeys: 'Extra keys'\n      },\n      help: {\n        'insertParagraph': 'Insert Paragraph',\n        'undo': 'Undoes the last command',\n        'redo': 'Redoes the last command',\n        'tab': 'Tab',\n        'untab': 'Untab',\n        'bold': 'Set a bold style',\n        'italic': 'Set a italic style',\n        'underline': 'Set a underline style',\n        'strikethrough': 'Set a strikethrough style',\n        'removeFormat': 'Clean a style',\n        'justifyLeft': 'Set left align',\n        'justifyCenter': 'Set center align',\n        'justifyRight': 'Set right align',\n        'justifyFull': 'Set full align',\n        'insertUnorderedList': 'Toggle unordered list',\n        'insertOrderedList': 'Toggle ordered list',\n        'outdent': 'Outdent on current paragraph',\n        'indent': 'Indent on current paragraph',\n        'formatPara': 'Change current block\\'s format as a paragraph(P tag)',\n        'formatH1': 'Change current block\\'s format as H1',\n        'formatH2': 'Change current block\\'s format as H2',\n        'formatH3': 'Change current block\\'s format as H3',\n        'formatH4': 'Change current block\\'s format as H4',\n        'formatH5': 'Change current block\\'s format as H5',\n        'formatH6': 'Change current block\\'s format as H6',\n        'insertHorizontalRule': 'Insert horizontal rule',\n        'linkDialog.show': 'Show Link Dialog'\n      },\n      history: {\n        undo: 'Undo',\n        redo: 'Redo'\n      },\n      specialChar: {\n        specialChar: 'SPECIAL CHARACTERS',\n        select: 'Select Special characters'\n      }\n    }\n  });\n\n\n  /**\n   * @class core.key\n   *\n   * Object for keycodes.\n   *\n   * @singleton\n   * @alternateClassName key\n   */\n  var key = (function () {\n    var keyMap = {\n      'BACKSPACE': 8,\n      'TAB': 9,\n      'ENTER': 13,\n      'SPACE': 32,\n\n      // Arrow\n      'LEFT': 37,\n      'UP': 38,\n      'RIGHT': 39,\n      'DOWN': 40,\n\n      // Number: 0-9\n      'NUM0': 48,\n      'NUM1': 49,\n      'NUM2': 50,\n      'NUM3': 51,\n      'NUM4': 52,\n      'NUM5': 53,\n      'NUM6': 54,\n      'NUM7': 55,\n      'NUM8': 56,\n\n      // Alphabet: a-z\n      'B': 66,\n      'E': 69,\n      'I': 73,\n      'J': 74,\n      'K': 75,\n      'L': 76,\n      'R': 82,\n      'S': 83,\n      'U': 85,\n      'V': 86,\n      'Y': 89,\n      'Z': 90,\n\n      'SLASH': 191,\n      'LEFTBRACKET': 219,\n      'BACKSLASH': 220,\n      'RIGHTBRACKET': 221\n    };\n\n    return {\n      /**\n       * @method isEdit\n       *\n       * @param {Number} keyCode\n       * @return {Boolean}\n       */\n      isEdit: function (keyCode) {\n        return list.contains([\n          keyMap.BACKSPACE,\n          keyMap.TAB,\n          keyMap.ENTER,\n          keyMap.SPACE\n        ], keyCode);\n      },\n      /**\n       * @method isMove\n       *\n       * @param {Number} keyCode\n       * @return {Boolean}\n       */\n      isMove: function (keyCode) {\n        return list.contains([\n          keyMap.LEFT,\n          keyMap.UP,\n          keyMap.RIGHT,\n          keyMap.DOWN\n        ], keyCode);\n      },\n      /**\n       * @property {Object} nameFromCode\n       * @property {String} nameFromCode.8 \"BACKSPACE\"\n       */\n      nameFromCode: func.invertObject(keyMap),\n      code: keyMap\n    };\n  })();\n\n  var range = (function () {\n\n    /**\n     * return boundaryPoint from TextRange, inspired by Andy Na's HuskyRange.js\n     *\n     * @param {TextRange} textRange\n     * @param {Boolean} isStart\n     * @return {BoundaryPoint}\n     *\n     * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\n     */\n    var textRangeToPoint = function (textRange, isStart) {\n      var container = textRange.parentElement(), offset;\n\n      var tester = document.body.createTextRange(), prevContainer;\n      var childNodes = list.from(container.childNodes);\n      for (offset = 0; offset < childNodes.length; offset++) {\n        if (dom.isText(childNodes[offset])) {\n          continue;\n        }\n        tester.moveToElementText(childNodes[offset]);\n        if (tester.compareEndPoints('StartToStart', textRange) >= 0) {\n          break;\n        }\n        prevContainer = childNodes[offset];\n      }\n\n      if (offset !== 0 && dom.isText(childNodes[offset - 1])) {\n        var textRangeStart = document.body.createTextRange(), curTextNode = null;\n        textRangeStart.moveToElementText(prevContainer || container);\n        textRangeStart.collapse(!prevContainer);\n        curTextNode = prevContainer ? prevContainer.nextSibling : container.firstChild;\n\n        var pointTester = textRange.duplicate();\n        pointTester.setEndPoint('StartToStart', textRangeStart);\n        var textCount = pointTester.text.replace(/[\\r\\n]/g, '').length;\n\n        while (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\n          textCount -= curTextNode.nodeValue.length;\n          curTextNode = curTextNode.nextSibling;\n        }\n\n        /* jshint ignore:start */\n        var dummy = curTextNode.nodeValue; // enforce IE to re-reference curTextNode, hack\n        /* jshint ignore:end */\n\n        if (isStart && curTextNode.nextSibling && dom.isText(curTextNode.nextSibling) &&\n            textCount === curTextNode.nodeValue.length) {\n          textCount -= curTextNode.nodeValue.length;\n          curTextNode = curTextNode.nextSibling;\n        }\n\n        container = curTextNode;\n        offset = textCount;\n      }\n\n      return {\n        cont: container,\n        offset: offset\n      };\n    };\n\n    /**\n     * return TextRange from boundary point (inspired by google closure-library)\n     * @param {BoundaryPoint} point\n     * @return {TextRange}\n     */\n    var pointToTextRange = function (point) {\n      var textRangeInfo = function (container, offset) {\n        var node, isCollapseToStart;\n\n        if (dom.isText(container)) {\n          var prevTextNodes = dom.listPrev(container, func.not(dom.isText));\n          var prevContainer = list.last(prevTextNodes).previousSibling;\n          node =  prevContainer || container.parentNode;\n          offset += list.sum(list.tail(prevTextNodes), dom.nodeLength);\n          isCollapseToStart = !prevContainer;\n        } else {\n          node = container.childNodes[offset] || container;\n          if (dom.isText(node)) {\n            return textRangeInfo(node, 0);\n          }\n\n          offset = 0;\n          isCollapseToStart = false;\n        }\n\n        return {\n          node: node,\n          collapseToStart: isCollapseToStart,\n          offset: offset\n        };\n      };\n\n      var textRange = document.body.createTextRange();\n      var info = textRangeInfo(point.node, point.offset);\n\n      textRange.moveToElementText(info.node);\n      textRange.collapse(info.collapseToStart);\n      textRange.moveStart('character', info.offset);\n      return textRange;\n    };\n\n    /**\n     * Wrapped Range\n     *\n     * @constructor\n     * @param {Node} sc - start container\n     * @param {Number} so - start offset\n     * @param {Node} ec - end container\n     * @param {Number} eo - end offset\n     */\n    var WrappedRange = function (sc, so, ec, eo) {\n      this.sc = sc;\n      this.so = so;\n      this.ec = ec;\n      this.eo = eo;\n\n      // nativeRange: get nativeRange from sc, so, ec, eo\n      var nativeRange = function () {\n        if (agent.isW3CRangeSupport) {\n          var w3cRange = document.createRange();\n          w3cRange.setStart(sc, so);\n          w3cRange.setEnd(ec, eo);\n\n          return w3cRange;\n        } else {\n          var textRange = pointToTextRange({\n            node: sc,\n            offset: so\n          });\n\n          textRange.setEndPoint('EndToEnd', pointToTextRange({\n            node: ec,\n            offset: eo\n          }));\n\n          return textRange;\n        }\n      };\n\n      this.getPoints = function () {\n        return {\n          sc: sc,\n          so: so,\n          ec: ec,\n          eo: eo\n        };\n      };\n\n      this.getStartPoint = function () {\n        return {\n          node: sc,\n          offset: so\n        };\n      };\n\n      this.getEndPoint = function () {\n        return {\n          node: ec,\n          offset: eo\n        };\n      };\n\n      /**\n       * select update visible range\n       */\n      this.select = function () {\n        var nativeRng = nativeRange();\n        if (agent.isW3CRangeSupport) {\n          var selection = document.getSelection();\n          if (selection.rangeCount > 0) {\n            selection.removeAllRanges();\n          }\n          selection.addRange(nativeRng);\n        } else {\n          nativeRng.select();\n        }\n\n        return this;\n      };\n\n      /**\n       * Moves the scrollbar to start container(sc) of current range\n       *\n       * @return {WrappedRange}\n       */\n      this.scrollIntoView = function (container) {\n        var height = $(container).height();\n        if (container.scrollTop + height < this.sc.offsetTop) {\n          container.scrollTop += Math.abs(container.scrollTop + height - this.sc.offsetTop);\n        }\n\n        return this;\n      };\n\n      /**\n       * @return {WrappedRange}\n       */\n      this.normalize = function () {\n\n        /**\n         * @param {BoundaryPoint} point\n         * @param {Boolean} isLeftToRight\n         * @return {BoundaryPoint}\n         */\n        var getVisiblePoint = function (point, isLeftToRight) {\n          if ((dom.isVisiblePoint(point) && !dom.isEdgePoint(point)) ||\n              (dom.isVisiblePoint(point) && dom.isRightEdgePoint(point) && !isLeftToRight) ||\n              (dom.isVisiblePoint(point) && dom.isLeftEdgePoint(point) && isLeftToRight) ||\n              (dom.isVisiblePoint(point) && dom.isBlock(point.node) && dom.isEmpty(point.node))) {\n            return point;\n          }\n\n          // point on block's edge\n          var block = dom.ancestor(point.node, dom.isBlock);\n          if (((dom.isLeftEdgePointOf(point, block) || dom.isVoid(dom.prevPoint(point).node)) && !isLeftToRight) ||\n              ((dom.isRightEdgePointOf(point, block) || dom.isVoid(dom.nextPoint(point).node)) && isLeftToRight)) {\n\n            // returns point already on visible point\n            if (dom.isVisiblePoint(point)) {\n              return point;\n            }\n            // reverse direction\n            isLeftToRight = !isLeftToRight;\n          }\n\n          var nextPoint = isLeftToRight ? dom.nextPointUntil(dom.nextPoint(point), dom.isVisiblePoint) :\n                                          dom.prevPointUntil(dom.prevPoint(point), dom.isVisiblePoint);\n          return nextPoint || point;\n        };\n\n        var endPoint = getVisiblePoint(this.getEndPoint(), false);\n        var startPoint = this.isCollapsed() ? endPoint : getVisiblePoint(this.getStartPoint(), true);\n\n        return new WrappedRange(\n          startPoint.node,\n          startPoint.offset,\n          endPoint.node,\n          endPoint.offset\n        );\n      };\n\n      /**\n       * returns matched nodes on range\n       *\n       * @param {Function} [pred] - predicate function\n       * @param {Object} [options]\n       * @param {Boolean} [options.includeAncestor]\n       * @param {Boolean} [options.fullyContains]\n       * @return {Node[]}\n       */\n      this.nodes = function (pred, options) {\n        pred = pred || func.ok;\n\n        var includeAncestor = options && options.includeAncestor;\n        var fullyContains = options && options.fullyContains;\n\n        // TODO compare points and sort\n        var startPoint = this.getStartPoint();\n        var endPoint = this.getEndPoint();\n\n        var nodes = [];\n        var leftEdgeNodes = [];\n\n        dom.walkPoint(startPoint, endPoint, function (point) {\n          if (dom.isEditable(point.node)) {\n            return;\n          }\n\n          var node;\n          if (fullyContains) {\n            if (dom.isLeftEdgePoint(point)) {\n              leftEdgeNodes.push(point.node);\n            }\n            if (dom.isRightEdgePoint(point) && list.contains(leftEdgeNodes, point.node)) {\n              node = point.node;\n            }\n          } else if (includeAncestor) {\n            node = dom.ancestor(point.node, pred);\n          } else {\n            node = point.node;\n          }\n\n          if (node && pred(node)) {\n            nodes.push(node);\n          }\n        }, true);\n\n        return list.unique(nodes);\n      };\n\n      /**\n       * returns commonAncestor of range\n       * @return {Element} - commonAncestor\n       */\n      this.commonAncestor = function () {\n        return dom.commonAncestor(sc, ec);\n      };\n\n      /**\n       * returns expanded range by pred\n       *\n       * @param {Function} pred - predicate function\n       * @return {WrappedRange}\n       */\n      this.expand = function (pred) {\n        var startAncestor = dom.ancestor(sc, pred);\n        var endAncestor = dom.ancestor(ec, pred);\n\n        if (!startAncestor && !endAncestor) {\n          return new WrappedRange(sc, so, ec, eo);\n        }\n\n        var boundaryPoints = this.getPoints();\n\n        if (startAncestor) {\n          boundaryPoints.sc = startAncestor;\n          boundaryPoints.so = 0;\n        }\n\n        if (endAncestor) {\n          boundaryPoints.ec = endAncestor;\n          boundaryPoints.eo = dom.nodeLength(endAncestor);\n        }\n\n        return new WrappedRange(\n          boundaryPoints.sc,\n          boundaryPoints.so,\n          boundaryPoints.ec,\n          boundaryPoints.eo\n        );\n      };\n\n      /**\n       * @param {Boolean} isCollapseToStart\n       * @return {WrappedRange}\n       */\n      this.collapse = function (isCollapseToStart) {\n        if (isCollapseToStart) {\n          return new WrappedRange(sc, so, sc, so);\n        } else {\n          return new WrappedRange(ec, eo, ec, eo);\n        }\n      };\n\n      /**\n       * splitText on range\n       */\n      this.splitText = function () {\n        var isSameContainer = sc === ec;\n        var boundaryPoints = this.getPoints();\n\n        if (dom.isText(ec) && !dom.isEdgePoint(this.getEndPoint())) {\n          ec.splitText(eo);\n        }\n\n        if (dom.isText(sc) && !dom.isEdgePoint(this.getStartPoint())) {\n          boundaryPoints.sc = sc.splitText(so);\n          boundaryPoints.so = 0;\n\n          if (isSameContainer) {\n            boundaryPoints.ec = boundaryPoints.sc;\n            boundaryPoints.eo = eo - so;\n          }\n        }\n\n        return new WrappedRange(\n          boundaryPoints.sc,\n          boundaryPoints.so,\n          boundaryPoints.ec,\n          boundaryPoints.eo\n        );\n      };\n\n      /**\n       * delete contents on range\n       * @return {WrappedRange}\n       */\n      this.deleteContents = function () {\n        if (this.isCollapsed()) {\n          return this;\n        }\n\n        var rng = this.splitText();\n        var nodes = rng.nodes(null, {\n          fullyContains: true\n        });\n\n        // find new cursor point\n        var point = dom.prevPointUntil(rng.getStartPoint(), function (point) {\n          return !list.contains(nodes, point.node);\n        });\n\n        var emptyParents = [];\n        $.each(nodes, function (idx, node) {\n          // find empty parents\n          var parent = node.parentNode;\n          if (point.node !== parent && dom.nodeLength(parent) === 1) {\n            emptyParents.push(parent);\n          }\n          dom.remove(node, false);\n        });\n\n        // remove empty parents\n        $.each(emptyParents, function (idx, node) {\n          dom.remove(node, false);\n        });\n\n        return new WrappedRange(\n          point.node,\n          point.offset,\n          point.node,\n          point.offset\n        ).normalize();\n      };\n\n      /**\n       * makeIsOn: return isOn(pred) function\n       */\n      var makeIsOn = function (pred) {\n        return function () {\n          var ancestor = dom.ancestor(sc, pred);\n          return !!ancestor && (ancestor === dom.ancestor(ec, pred));\n        };\n      };\n\n      // isOnEditable: judge whether range is on editable or not\n      this.isOnEditable = makeIsOn(dom.isEditable);\n      // isOnList: judge whether range is on list node or not\n      this.isOnList = makeIsOn(dom.isList);\n      // isOnAnchor: judge whether range is on anchor node or not\n      this.isOnAnchor = makeIsOn(dom.isAnchor);\n      // isOnCell: judge whether range is on cell node or not\n      this.isOnCell = makeIsOn(dom.isCell);\n      // isOnData: judge whether range is on data node or not\n      this.isOnData = makeIsOn(dom.isData);\n\n      /**\n       * @param {Function} pred\n       * @return {Boolean}\n       */\n      this.isLeftEdgeOf = function (pred) {\n        if (!dom.isLeftEdgePoint(this.getStartPoint())) {\n          return false;\n        }\n\n        var node = dom.ancestor(this.sc, pred);\n        return node && dom.isLeftEdgeOf(this.sc, node);\n      };\n\n      /**\n       * returns whether range was collapsed or not\n       */\n      this.isCollapsed = function () {\n        return sc === ec && so === eo;\n      };\n\n      /**\n       * wrap inline nodes which children of body with paragraph\n       *\n       * @return {WrappedRange}\n       */\n      this.wrapBodyInlineWithPara = function () {\n        if (dom.isBodyContainer(sc) && dom.isEmpty(sc)) {\n          sc.innerHTML = dom.emptyPara;\n          return new WrappedRange(sc.firstChild, 0, sc.firstChild, 0);\n        }\n\n        /**\n         * [workaround] firefox often create range on not visible point. so normalize here.\n         *  - firefox: |<p>text</p>|\n         *  - chrome: <p>|text|</p>\n         */\n        var rng = this.normalize();\n        if (dom.isParaInline(sc) || dom.isPara(sc)) {\n          return rng;\n        }\n\n        // find inline top ancestor\n        var topAncestor;\n        if (dom.isInline(rng.sc)) {\n          var ancestors = dom.listAncestor(rng.sc, func.not(dom.isInline));\n          topAncestor = list.last(ancestors);\n          if (!dom.isInline(topAncestor)) {\n            topAncestor = ancestors[ancestors.length - 2] || rng.sc.childNodes[rng.so];\n          }\n        } else {\n          topAncestor = rng.sc.childNodes[rng.so > 0 ? rng.so - 1 : 0];\n        }\n\n        // siblings not in paragraph\n        var inlineSiblings = dom.listPrev(topAncestor, dom.isParaInline).reverse();\n        inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling, dom.isParaInline));\n\n        // wrap with paragraph\n        if (inlineSiblings.length) {\n          var para = dom.wrap(list.head(inlineSiblings), 'div');\n          dom.appendChildNodes(para, list.tail(inlineSiblings));\n        }\n\n        return this.normalize();\n      };\n\n      /**\n       * insert node at current cursor\n       *\n       * @param {Node} node\n       * @return {Node}\n       */\n      this.insertNode = function (node) {\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\n        var info = dom.splitPoint(rng.getStartPoint(), dom.isInline(node));\n\n        if (info.rightNode) {\n          info.rightNode.parentNode.insertBefore(node, info.rightNode);\n        } else {\n          info.container.appendChild(node);\n        }\n\n        return node;\n      };\n\n      /**\n       * insert html at current cursor\n       */\n      this.pasteHTML = function (markup) {\n        var contentsContainer = $('<div></div>').html(markup)[0];\n        var childNodes = list.from(contentsContainer.childNodes);\n\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\n\n        return childNodes.reverse().map(function (childNode) {\n          return rng.insertNode(childNode);\n        }).reverse();\n      };\n\n      /**\n       * returns text in range\n       *\n       * @return {String}\n       */\n      this.toString = function () {\n        var nativeRng = nativeRange();\n        return agent.isW3CRangeSupport ? nativeRng.toString() : nativeRng.text;\n      };\n\n      /**\n       * returns range for word before cursor\n       *\n       * @param {Boolean} [findAfter] - find after cursor, default: false\n       * @return {WrappedRange}\n       */\n      this.getWordRange = function (findAfter) {\n        var endPoint = this.getEndPoint();\n\n        if (!dom.isCharPoint(endPoint)) {\n          return this;\n        }\n\n        var startPoint = dom.prevPointUntil(endPoint, function (point) {\n          return !dom.isCharPoint(point);\n        });\n\n        if (findAfter) {\n          endPoint = dom.nextPointUntil(endPoint, function (point) {\n            return !dom.isCharPoint(point);\n          });\n        }\n\n        return new WrappedRange(\n          startPoint.node,\n          startPoint.offset,\n          endPoint.node,\n          endPoint.offset\n        );\n      };\n\n      /**\n       * create offsetPath bookmark\n       *\n       * @param {Node} editable\n       */\n      this.bookmark = function (editable) {\n        return {\n          s: {\n            path: dom.makeOffsetPath(editable, sc),\n            offset: so\n          },\n          e: {\n            path: dom.makeOffsetPath(editable, ec),\n            offset: eo\n          }\n        };\n      };\n\n      /**\n       * create offsetPath bookmark base on paragraph\n       *\n       * @param {Node[]} paras\n       */\n      this.paraBookmark = function (paras) {\n        return {\n          s: {\n            path: list.tail(dom.makeOffsetPath(list.head(paras), sc)),\n            offset: so\n          },\n          e: {\n            path: list.tail(dom.makeOffsetPath(list.last(paras), ec)),\n            offset: eo\n          }\n        };\n      };\n\n      /**\n       * getClientRects\n       * @return {Rect[]}\n       */\n      this.getClientRects = function () {\n        var nativeRng = nativeRange();\n        return nativeRng.getClientRects();\n      };\n    };\n\n  /**\n   * @class core.range\n   *\n   * Data structure\n   *  * BoundaryPoint: a point of dom tree\n   *  * BoundaryPoints: two boundaryPoints corresponding to the start and the end of the Range\n   *\n   * See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\n   *\n   * @singleton\n   * @alternateClassName range\n   */\n    return {\n      /**\n       * create Range Object From arguments or Browser Selection\n       *\n       * @param {Node} sc - start container\n       * @param {Number} so - start offset\n       * @param {Node} ec - end container\n       * @param {Number} eo - end offset\n       * @return {WrappedRange}\n       */\n      create: function (sc, so, ec, eo) {\n        if (arguments.length === 4) {\n          return new WrappedRange(sc, so, ec, eo);\n        } else if (arguments.length === 2) { //collapsed\n          ec = sc;\n          eo = so;\n          return new WrappedRange(sc, so, ec, eo);\n        } else {\n          var wrappedRange = this.createFromSelection();\n          if (!wrappedRange && arguments.length === 1) {\n            wrappedRange = this.createFromNode(arguments[0]);\n            return wrappedRange.collapse(dom.emptyPara === arguments[0].innerHTML);\n          }\n          return wrappedRange;\n        }\n      },\n\n      createFromSelection: function () {\n        var sc, so, ec, eo;\n        if (agent.isW3CRangeSupport) {\n          var selection = document.getSelection();\n          if (!selection || selection.rangeCount === 0) {\n            return null;\n          } else if (dom.isBody(selection.anchorNode)) {\n            // Firefox: returns entire body as range on initialization.\n            // We won't never need it.\n            return null;\n          }\n\n          var nativeRng = selection.getRangeAt(0);\n          sc = nativeRng.startContainer;\n          so = nativeRng.startOffset;\n          ec = nativeRng.endContainer;\n          eo = nativeRng.endOffset;\n        } else { // IE8: TextRange\n          var textRange = document.selection.createRange();\n          var textRangeEnd = textRange.duplicate();\n          textRangeEnd.collapse(false);\n          var textRangeStart = textRange;\n          textRangeStart.collapse(true);\n\n          var startPoint = textRangeToPoint(textRangeStart, true),\n          endPoint = textRangeToPoint(textRangeEnd, false);\n\n          // same visible point case: range was collapsed.\n          if (dom.isText(startPoint.node) && dom.isLeftEdgePoint(startPoint) &&\n              dom.isTextNode(endPoint.node) && dom.isRightEdgePoint(endPoint) &&\n              endPoint.node.nextSibling === startPoint.node) {\n            startPoint = endPoint;\n          }\n\n          sc = startPoint.cont;\n          so = startPoint.offset;\n          ec = endPoint.cont;\n          eo = endPoint.offset;\n        }\n\n        return new WrappedRange(sc, so, ec, eo);\n      },\n\n      /**\n       * @method\n       *\n       * create WrappedRange from node\n       *\n       * @param {Node} node\n       * @return {WrappedRange}\n       */\n      createFromNode: function (node) {\n        var sc = node;\n        var so = 0;\n        var ec = node;\n        var eo = dom.nodeLength(ec);\n\n        // browsers can't target a picture or void node\n        if (dom.isVoid(sc)) {\n          so = dom.listPrev(sc).length - 1;\n          sc = sc.parentNode;\n        }\n        if (dom.isBR(ec)) {\n          eo = dom.listPrev(ec).length - 1;\n          ec = ec.parentNode;\n        } else if (dom.isVoid(ec)) {\n          eo = dom.listPrev(ec).length;\n          ec = ec.parentNode;\n        }\n\n        return this.create(sc, so, ec, eo);\n      },\n\n      /**\n       * create WrappedRange from node after position\n       *\n       * @param {Node} node\n       * @return {WrappedRange}\n       */\n      createFromNodeBefore: function (node) {\n        return this.createFromNode(node).collapse(true);\n      },\n\n      /**\n       * create WrappedRange from node after position\n       *\n       * @param {Node} node\n       * @return {WrappedRange}\n       */\n      createFromNodeAfter: function (node) {\n        return this.createFromNode(node).collapse();\n      },\n\n      /**\n       * @method\n       *\n       * create WrappedRange from bookmark\n       *\n       * @param {Node} editable\n       * @param {Object} bookmark\n       * @return {WrappedRange}\n       */\n      createFromBookmark: function (editable, bookmark) {\n        var sc = dom.fromOffsetPath(editable, bookmark.s.path);\n        var so = bookmark.s.offset;\n        var ec = dom.fromOffsetPath(editable, bookmark.e.path);\n        var eo = bookmark.e.offset;\n        return new WrappedRange(sc, so, ec, eo);\n      },\n\n      /**\n       * @method\n       *\n       * create WrappedRange from paraBookmark\n       *\n       * @param {Object} bookmark\n       * @param {Node[]} paras\n       * @return {WrappedRange}\n       */\n      createFromParaBookmark: function (bookmark, paras) {\n        var so = bookmark.s.offset;\n        var eo = bookmark.e.offset;\n        var sc = dom.fromOffsetPath(list.head(paras), bookmark.s.path);\n        var ec = dom.fromOffsetPath(list.last(paras), bookmark.e.path);\n\n        return new WrappedRange(sc, so, ec, eo);\n      }\n    };\n  })();\n\n  /**\n   * @class core.async\n   *\n   * Async functions which returns `Promise`\n   *\n   * @singleton\n   * @alternateClassName async\n   */\n  var async = (function () {\n    /**\n     * @method readFileAsDataURL\n     *\n     * read contents of file as representing URL\n     *\n     * @param {File} file\n     * @return {Promise} - then: dataUrl\n     */\n    var readFileAsDataURL = function (file) {\n      return $.Deferred(function (deferred) {\n        $.extend(new FileReader(), {\n          onload: function (e) {\n            var dataURL = e.target.result;\n            deferred.resolve(dataURL);\n          },\n          onerror: function () {\n            deferred.reject(this);\n          }\n        }).readAsDataURL(file);\n      }).promise();\n    };\n\n    /**\n     * @method createImage\n     *\n     * create `<image>` from url string\n     *\n     * @param {String} url\n     * @return {Promise} - then: $image\n     */\n    var createImage = function (url) {\n      return $.Deferred(function (deferred) {\n        var $img = $('<img>');\n\n        $img.one('load', function () {\n          $img.off('error abort');\n          deferred.resolve($img);\n        }).one('error abort', function () {\n          $img.off('load').detach();\n          deferred.reject($img);\n        }).css({\n          display: 'none'\n        }).appendTo(document.body).attr('src', url);\n      }).promise();\n    };\n\n    return {\n      readFileAsDataURL: readFileAsDataURL,\n      createImage: createImage\n    };\n  })();\n\n  /**\n   * @class editing.History\n   *\n   * Editor History\n   *\n   */\n  var History = function ($editable) {\n    var stack = [], stackOffset = -1;\n    var editable = $editable[0];\n\n    var makeSnapshot = function () {\n      var rng = range.create(editable);\n      var emptyBookmark = {s: {path: [], offset: 0}, e: {path: [], offset: 0}};\n\n      return {\n        contents: $editable.html(),\n        bookmark: (rng ? rng.bookmark(editable) : emptyBookmark)\n      };\n    };\n\n    var applySnapshot = function (snapshot) {\n      if (snapshot.contents !== null) {\n        $editable.html(snapshot.contents);\n      }\n      if (snapshot.bookmark !== null) {\n        range.createFromBookmark(editable, snapshot.bookmark).select();\n      }\n    };\n\n    /**\n    * @method rewind\n    * Rewinds the history stack back to the first snapshot taken.\n    * Leaves the stack intact, so that \"Redo\" can still be used.\n    */\n    this.rewind = function () {\n      // Create snap shot if not yet recorded\n      if ($editable.html() !== stack[stackOffset].contents) {\n        this.recordUndo();\n      }\n\n      // Return to the first available snapshot.\n      stackOffset = 0;\n\n      // Apply that snapshot.\n      applySnapshot(stack[stackOffset]);\n    };\n\n    /**\n    * @method reset\n    * Resets the history stack completely; reverting to an empty editor.\n    */\n    this.reset = function () {\n      // Clear the stack.\n      stack = [];\n\n      // Restore stackOffset to its original value.\n      stackOffset = -1;\n\n      // Clear the editable area.\n      $editable.html('');\n\n      // Record our first snapshot (of nothing).\n      this.recordUndo();\n    };\n\n    /**\n     * undo\n     */\n    this.undo = function () {\n      // Create snap shot if not yet recorded\n      if ($editable.html() !== stack[stackOffset].contents) {\n        this.recordUndo();\n      }\n\n      if (0 < stackOffset) {\n        stackOffset--;\n        applySnapshot(stack[stackOffset]);\n      }\n    };\n\n    /**\n     * redo\n     */\n    this.redo = function () {\n      if (stack.length - 1 > stackOffset) {\n        stackOffset++;\n        applySnapshot(stack[stackOffset]);\n      }\n    };\n\n    /**\n     * recorded undo\n     */\n    this.recordUndo = function () {\n      stackOffset++;\n\n      // Wash out stack after stackOffset\n      if (stack.length > stackOffset) {\n        stack = stack.slice(0, stackOffset);\n      }\n\n      // Create new snapshot and push it to the end\n      stack.push(makeSnapshot());\n    };\n  };\n\n  /**\n   * @class editing.Style\n   *\n   * Style\n   *\n   */\n  var Style = function () {\n    /**\n     * @method jQueryCSS\n     *\n     * [workaround] for old jQuery\n     * passing an array of style properties to .css()\n     * will result in an object of property-value pairs.\n     * (compability with version < 1.9)\n     *\n     * @private\n     * @param  {jQuery} $obj\n     * @param  {Array} propertyNames - An array of one or more CSS properties.\n     * @return {Object}\n     */\n    var jQueryCSS = function ($obj, propertyNames) {\n      if (agent.jqueryVersion < 1.9) {\n        var result = {};\n        $.each(propertyNames, function (idx, propertyName) {\n          result[propertyName] = $obj.css(propertyName);\n        });\n        return result;\n      }\n      return $obj.css.call($obj, propertyNames);\n    };\n\n    /**\n     * returns style object from node\n     *\n     * @param {jQuery} $node\n     * @return {Object}\n     */\n    this.fromNode = function ($node) {\n      var properties = ['font-family', 'font-size', 'text-align', 'list-style-type', 'line-height'];\n      var styleInfo = jQueryCSS($node, properties) || {};\n      styleInfo['font-size'] = parseInt(styleInfo['font-size'], 10);\n      return styleInfo;\n    };\n\n    /**\n     * paragraph level style\n     *\n     * @param {WrappedRange} rng\n     * @param {Object} styleInfo\n     */\n    this.stylePara = function (rng, styleInfo) {\n      $.each(rng.nodes(dom.isPara, {\n        includeAncestor: true\n      }), function (idx, para) {\n        $(para).css(styleInfo);\n      });\n    };\n\n    /**\n     * insert and returns styleNodes on range.\n     *\n     * @param {WrappedRange} rng\n     * @param {Object} [options] - options for styleNodes\n     * @param {String} [options.nodeName] - default: `SPAN`\n     * @param {Boolean} [options.expandClosestSibling] - default: `false`\n     * @param {Boolean} [options.onlyPartialContains] - default: `false`\n     * @return {Node[]}\n     */\n    this.styleNodes = function (rng, options) {\n      rng = rng.splitText();\n\n      var nodeName = options && options.nodeName || 'SPAN';\n      var expandClosestSibling = !!(options && options.expandClosestSibling);\n      var onlyPartialContains = !!(options && options.onlyPartialContains);\n\n      if (rng.isCollapsed()) {\n        return [rng.insertNode(dom.create(nodeName))];\n      }\n\n      var pred = dom.makePredByNodeName(nodeName);\n      var nodes = rng.nodes(dom.isText, {\n        fullyContains: true\n      }).map(function (text) {\n        return dom.singleChildAncestor(text, pred) || dom.wrap(text, nodeName);\n      });\n\n      if (expandClosestSibling) {\n        if (onlyPartialContains) {\n          var nodesInRange = rng.nodes();\n          // compose with partial contains predication\n          pred = func.and(pred, function (node) {\n            return list.contains(nodesInRange, node);\n          });\n        }\n\n        return nodes.map(function (node) {\n          var siblings = dom.withClosestSiblings(node, pred);\n          var head = list.head(siblings);\n          var tails = list.tail(siblings);\n          $.each(tails, function (idx, elem) {\n            dom.appendChildNodes(head, elem.childNodes);\n            dom.remove(elem);\n          });\n          return list.head(siblings);\n        });\n      } else {\n        return nodes;\n      }\n    };\n\n    /**\n     * get current style on cursor\n     *\n     * @param {WrappedRange} rng\n     * @return {Object} - object contains style properties.\n     */\n    this.current = function (rng) {\n      var $cont = $(!dom.isElement(rng.sc) ? rng.sc.parentNode : rng.sc);\n      var styleInfo = this.fromNode($cont);\n\n      // document.queryCommandState for toggle state\n      // [workaround] prevent Firefox nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\n      try {\n        styleInfo = $.extend(styleInfo, {\n          'font-bold': document.queryCommandState('bold') ? 'bold' : 'normal',\n          'font-italic': document.queryCommandState('italic') ? 'italic' : 'normal',\n          'font-underline': document.queryCommandState('underline') ? 'underline' : 'normal',\n          'font-subscript': document.queryCommandState('subscript') ? 'subscript' : 'normal',\n          'font-superscript': document.queryCommandState('superscript') ? 'superscript' : 'normal',\n          'font-strikethrough': document.queryCommandState('strikethrough') ? 'strikethrough' : 'normal'\n        });\n      } catch (e) {}\n\n      // list-style-type to list-style(unordered, ordered)\n      if (!rng.isOnList()) {\n        styleInfo['list-style'] = 'none';\n      } else {\n        var orderedTypes = ['circle', 'disc', 'disc-leading-zero', 'square'];\n        var isUnordered = $.inArray(styleInfo['list-style-type'], orderedTypes) > -1;\n        styleInfo['list-style'] = isUnordered ? 'unordered' : 'ordered';\n      }\n\n      var para = dom.ancestor(rng.sc, dom.isPara);\n      if (para && para.style['line-height']) {\n        styleInfo['line-height'] = para.style.lineHeight;\n      } else {\n        var lineHeight = parseInt(styleInfo['line-height'], 10) / parseInt(styleInfo['font-size'], 10);\n        styleInfo['line-height'] = lineHeight.toFixed(1);\n      }\n\n      styleInfo.anchor = rng.isOnAnchor() && dom.ancestor(rng.sc, dom.isAnchor);\n      styleInfo.ancestors = dom.listAncestor(rng.sc, dom.isEditable);\n      styleInfo.range = rng;\n\n      return styleInfo;\n    };\n  };\n\n\n  /**\n   * @class editing.Bullet\n   *\n   * @alternateClassName Bullet\n   */\n  var Bullet = function () {\n    var self = this;\n\n    /**\n     * toggle ordered list\n     */\n    this.insertOrderedList = function (editable) {\n      this.toggleList('OL', editable);\n    };\n\n    /**\n     * toggle unordered list\n     */\n    this.insertUnorderedList = function (editable) {\n      this.toggleList('UL', editable);\n    };\n\n    /**\n     * indent\n     */\n    this.indent = function (editable) {\n      var self = this;\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        if (dom.isLi(head)) {\n          self.wrapList(paras, head.parentNode.nodeName);\n        } else {\n          $.each(paras, function (idx, para) {\n            $(para).css('marginLeft', function (idx, val) {\n              return (parseInt(val, 10) || 0) + 25;\n            });\n          });\n        }\n      });\n\n      rng.select();\n    };\n\n    /**\n     * outdent\n     */\n    this.outdent = function (editable) {\n      var self = this;\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        if (dom.isLi(head)) {\n          self.releaseList([paras]);\n        } else {\n          $.each(paras, function (idx, para) {\n            $(para).css('marginLeft', function (idx, val) {\n              val = (parseInt(val, 10) || 0);\n              return val > 25 ? val - 25 : '';\n            });\n          });\n        }\n      });\n\n      rng.select();\n    };\n\n    /**\n     * toggle list\n     *\n     * @param {String} listName - OL or UL\n     */\n    this.toggleList = function (listName, editable) {\n      var rng = range.create(editable).wrapBodyInlineWithPara();\n\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n      var bookmark = rng.paraBookmark(paras);\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\n\n      // paragraph to list\n      if (list.find(paras, dom.isPurePara)) {\n        var wrappedParas = [];\n        $.each(clustereds, function (idx, paras) {\n          wrappedParas = wrappedParas.concat(self.wrapList(paras, listName));\n        });\n        paras = wrappedParas;\n      // list to paragraph or change list style\n      } else {\n        var diffLists = rng.nodes(dom.isList, {\n          includeAncestor: true\n        }).filter(function (listNode) {\n          return !$.nodeName(listNode, listName);\n        });\n\n        if (diffLists.length) {\n          $.each(diffLists, function (idx, listNode) {\n            dom.replace(listNode, listName);\n          });\n        } else {\n          paras = this.releaseList(clustereds, true);\n        }\n      }\n\n      range.createFromParaBookmark(bookmark, paras).select();\n    };\n\n    /**\n     * @param {Node[]} paras\n     * @param {String} listName\n     * @return {Node[]}\n     */\n    this.wrapList = function (paras, listName) {\n      var head = list.head(paras);\n      var last = list.last(paras);\n\n      var prevList = dom.isList(head.previousSibling) && head.previousSibling;\n      var nextList = dom.isList(last.nextSibling) && last.nextSibling;\n\n      var listNode = prevList || dom.insertAfter(dom.create(listName || 'UL'), last);\n\n      // P to LI\n      paras = paras.map(function (para) {\n        return dom.isPurePara(para) ? dom.replace(para, 'LI') : para;\n      });\n\n      // append to list(<ul>, <ol>)\n      dom.appendChildNodes(listNode, paras);\n\n      if (nextList) {\n        dom.appendChildNodes(listNode, list.from(nextList.childNodes));\n        dom.remove(nextList);\n      }\n\n      return paras;\n    };\n\n    /**\n     * @method releaseList\n     *\n     * @param {Array[]} clustereds\n     * @param {Boolean} isEscapseToBody\n     * @return {Node[]}\n     */\n    this.releaseList = function (clustereds, isEscapseToBody) {\n      var releasedParas = [];\n\n      $.each(clustereds, function (idx, paras) {\n        var head = list.head(paras);\n        var last = list.last(paras);\n\n        var headList = isEscapseToBody ? dom.lastAncestor(head, dom.isList) :\n                                         head.parentNode;\n        var lastList = headList.childNodes.length > 1 ? dom.splitTree(headList, {\n          node: last.parentNode,\n          offset: dom.position(last) + 1\n        }, {\n          isSkipPaddingBlankHTML: true\n        }) : null;\n\n        var middleList = dom.splitTree(headList, {\n          node: head.parentNode,\n          offset: dom.position(head)\n        }, {\n          isSkipPaddingBlankHTML: true\n        });\n\n        paras = isEscapseToBody ? dom.listDescendant(middleList, dom.isLi) :\n                                  list.from(middleList.childNodes).filter(dom.isLi);\n\n        // LI to P\n        if (isEscapseToBody || !dom.isList(headList.parentNode)) {\n          paras = paras.map(function (para) {\n            return dom.replace(para, 'div');\n          });\n        }\n\n        $.each(list.from(paras).reverse(), function (idx, para) {\n          dom.insertAfter(para, headList);\n        });\n\n        // remove empty lists\n        var rootLists = list.compact([headList, middleList, lastList]);\n        $.each(rootLists, function (idx, rootList) {\n          var listNodes = [rootList].concat(dom.listDescendant(rootList, dom.isList));\n          $.each(listNodes.reverse(), function (idx, listNode) {\n            if (!dom.nodeLength(listNode)) {\n              dom.remove(listNode, true);\n            }\n          });\n        });\n\n        releasedParas = releasedParas.concat(paras);\n      });\n\n      return releasedParas;\n    };\n  };\n\n\n  /**\n   * @class editing.Typing\n   *\n   * Typing\n   *\n   */\n  var Typing = function () {\n\n    // a Bullet instance to toggle lists off\n    var bullet = new Bullet();\n\n    /**\n     * insert tab\n     *\n     * @param {WrappedRange} rng\n     * @param {Number} tabsize\n     */\n    this.insertTab = function (rng, tabsize) {\n      var tab = dom.createText(new Array(tabsize + 1).join(dom.NBSP_CHAR));\n      rng = rng.deleteContents();\n      rng.insertNode(tab, true);\n\n      rng = range.create(tab, tabsize);\n      rng.select();\n    };\n\n    /**\n     * insert paragraph\n     */\n    this.insertParagraph = function (editable) {\n      var rng = range.create(editable);\n\n      // deleteContents on range.\n      rng = rng.deleteContents();\n\n      // Wrap range if it needs to be wrapped by paragraph\n      rng = rng.wrapBodyInlineWithPara();\n\n      // finding paragraph\n      var splitRoot = dom.ancestor(rng.sc, dom.isPara);\n\n      var nextPara;\n      // on paragraph: split paragraph\n      if (splitRoot) {\n        // if it is an empty line with li\n        if (dom.isEmpty(splitRoot) && dom.isLi(splitRoot)) {\n          // toogle UL/OL and escape\n          bullet.toggleList(splitRoot.parentNode.nodeName);\n          return;\n        // if it is an empty line with para on blockquote\n        } else if (dom.isEmpty(splitRoot) && dom.isPara(splitRoot) && dom.isBlockquote(splitRoot.parentNode)) {\n          // escape blockquote\n          dom.insertAfter(splitRoot, splitRoot.parentNode);\n          nextPara = splitRoot;\n        // if new line has content (not a line break)\n        } else {\n          nextPara = dom.splitTree(splitRoot, rng.getStartPoint());\n\n          var emptyAnchors = dom.listDescendant(splitRoot, dom.isEmptyAnchor);\n          emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara, dom.isEmptyAnchor));\n\n          $.each(emptyAnchors, function (idx, anchor) {\n            dom.remove(anchor);\n          });\n\n          // replace empty heading or pre with P tag\n          if ((dom.isHeading(nextPara) || dom.isPre(nextPara)) && dom.isEmpty(nextPara)) {\n            nextPara = dom.replace(nextPara, 'div');\n          }\n        }\n      // no paragraph: insert empty paragraph\n      } else {\n        var next = rng.sc.childNodes[rng.so];\n        nextPara = $(dom.emptyPara)[0];\n        if (next) {\n          rng.sc.insertBefore(nextPara, next);\n        } else {\n          rng.sc.appendChild(nextPara);\n        }\n      }\n\n      range.create(nextPara, 0).normalize().select().scrollIntoView(editable);\n    };\n  };\n\n  /**\n   * @class editing.Table\n   *\n   * Table\n   *\n   */\n  var Table = function () {\n    /**\n     * handle tab key\n     *\n     * @param {WrappedRange} rng\n     * @param {Boolean} isShift\n     */\n    this.tab = function (rng, isShift) {\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n      var table = dom.ancestor(cell, dom.isTable);\n      var cells = dom.listDescendant(table, dom.isCell);\n\n      var nextCell = list[isShift ? 'prev' : 'next'](cells, cell);\n      if (nextCell) {\n        range.create(nextCell, 0).select();\n      }\n    };\n\n    /**\n     * create empty table element\n     *\n     * @param {Number} rowCount\n     * @param {Number} colCount\n     * @return {Node}\n     */\n    this.createTable = function (colCount, rowCount, options) {\n      var tds = [], tdHTML;\n      for (var idxCol = 0; idxCol < colCount; idxCol++) {\n        tds.push('<td>' + dom.blank + '</td>');\n      }\n      tdHTML = tds.join('');\n\n      var trs = [], trHTML;\n      for (var idxRow = 0; idxRow < rowCount; idxRow++) {\n        trs.push('<tr>' + tdHTML + '</tr>');\n      }\n      trHTML = trs.join('');\n      var $table = $('<table>' + trHTML + '</table>');\n      if (options && options.tableClassName) {\n        $table.addClass(options.tableClassName);\n      }\n\n      return $table[0];\n    };\n  };\n\n\n  var KEY_BOGUS = 'bogus';\n\n  /**\n   * @class Editor\n   */\n  var Editor = function (context) {\n    var self = this;\n\n    var $note = context.layoutInfo.note;\n    var $editor = context.layoutInfo.editor;\n    var $editable = context.layoutInfo.editable;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    var editable = $editable[0];\n    var lastRange = null;\n\n    var style = new Style();\n    var table = new Table();\n    var typing = new Typing();\n    var bullet = new Bullet();\n    var history = new History($editable);\n\n    this.initialize = function () {\n      // bind custom events\n      $editable.on('keydown', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          context.triggerEvent('enter', event);\n        }\n        context.triggerEvent('keydown', event);\n\n        if (!event.isDefaultPrevented()) {\n          if (options.shortcuts) {\n            self.handleKeyMap(event);\n          } else {\n            self.preventDefaultEditableShortCuts(event);\n          }\n        }\n      }).on('keyup', function (event) {\n        context.triggerEvent('keyup', event);\n      }).on('focus', function (event) {\n        context.triggerEvent('focus', event);\n      }).on('blur', function (event) {\n        context.triggerEvent('blur', event);\n      }).on('mousedown', function (event) {\n        context.triggerEvent('mousedown', event);\n      }).on('mouseup', function (event) {\n        context.triggerEvent('mouseup', event);\n      }).on('scroll', function (event) {\n        context.triggerEvent('scroll', event);\n      }).on('paste', function (event) {\n        context.triggerEvent('paste', event);\n      });\n\n      // init content before set event\n      $editable.html(dom.html($note) || dom.emptyPara);\n\n      // [workaround] IE doesn't have input events for contentEditable\n      // - see: https://goo.gl/4bfIvA\n      var changeEventName = agent.isMSIE ? 'DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted' : 'input';\n      $editable.on(changeEventName, func.debounce(function () {\n        context.triggerEvent('change', $editable.html());\n      }, 250));\n\n      $editor.on('focusin', function (event) {\n        context.triggerEvent('focusin', event);\n      }).on('focusout', function (event) {\n        context.triggerEvent('focusout', event);\n      });\n\n      // hack\n      $editable.on('blur', function (event) {\n        setTimeout(function() {\n          $('.note-popover, .note-control-selection').hide();\n        }, 500);\n      });\n\n      if (!options.airMode) {\n        if (options.width) {\n          $editor.outerWidth(options.width);\n        }\n        if (options.height) {\n          $editable.outerHeight(options.height);\n        }\n        if (options.maxHeight) {\n          $editable.css('max-height', options.maxHeight);\n        }\n        if (options.minHeight) {\n          $editable.css('min-height', options.minHeight);\n        }\n      }\n\n      history.recordUndo();\n    };\n\n    this.destroy = function () {\n      $editable.off();\n    };\n\n    this.handleKeyMap = function (event) {\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\n      var keys = [];\n\n      if (event.metaKey) { keys.push('CMD'); }\n      if (event.ctrlKey && !event.altKey) { keys.push('CTRL'); }\n      if (event.shiftKey) { keys.push('SHIFT'); }\n\n      var keyName = key.nameFromCode[event.keyCode];\n      if (keyName) {\n        keys.push(keyName);\n      }\n\n      var eventName = keyMap[keys.join('+')];\n      if (eventName) {\n        event.preventDefault();\n        context.invoke(eventName);\n      } else if (key.isEdit(event.keyCode)) {\n        this.afterCommand();\n      }\n    };\n\n    this.preventDefaultEditableShortCuts = function (event) {\n      // B(Bold, 66) / I(Italic, 73) / U(Underline, 85)\n      if ((event.ctrlKey || event.metaKey) &&\n        list.contains([66, 73, 85], event.keyCode)) {\n        event.preventDefault();\n      }\n    };\n\n    /**\n     * create range\n     * @return {WrappedRange}\n     */\n    this.createRange = function () {\n      this.focus();\n      return range.create(editable);\n    };\n\n    /**\n     * saveRange\n     *\n     * save current range\n     *\n     * @param {Boolean} [thenCollapse=false]\n     */\n    this.saveRange = function (thenCollapse) {\n      lastRange = this.createRange();\n      if (thenCollapse) {\n        lastRange.collapse().select();\n      }\n    };\n\n    /**\n     * restoreRange\n     *\n     * restore lately range\n     */\n    this.restoreRange = function () {\n      if (lastRange) {\n        lastRange.select();\n        this.focus();\n      }\n    };\n\n    this.saveTarget = function (node) {\n      $editable.data('target', node);\n    };\n\n    this.clearTarget = function () {\n      $editable.removeData('target');\n    };\n\n    this.restoreTarget = function () {\n      return $editable.data('target');\n    };\n\n    /**\n     * currentStyle\n     *\n     * current style\n     * @return {Object|Boolean} unfocus\n     */\n    this.currentStyle = function () {\n      var rng = range.create();\n      if (rng) {\n        rng = rng.normalize();\n      }\n      return rng ? style.current(rng) : style.fromNode($editable);\n    };\n\n    /**\n     * style from node\n     *\n     * @param {jQuery} $node\n     * @return {Object}\n     */\n    this.styleFromNode = function ($node) {\n      return style.fromNode($node);\n    };\n\n    /**\n     * undo\n     */\n    this.undo = function () {\n      context.triggerEvent('before.command', $editable.html());\n      history.undo();\n      context.triggerEvent('change', $editable.html());\n    };\n    context.memo('help.undo', lang.help.undo);\n\n    /**\n     * redo\n     */\n    this.redo = function () {\n      context.triggerEvent('before.command', $editable.html());\n      history.redo();\n      context.triggerEvent('change', $editable.html());\n    };\n    context.memo('help.redo', lang.help.redo);\n\n    /**\n     * before command\n     */\n    var beforeCommand = this.beforeCommand = function () {\n      context.triggerEvent('before.command', $editable.html());\n      // keep focus on editable before command execution\n      self.focus();\n    };\n\n    /**\n     * after command\n     * @param {Boolean} isPreventTrigger\n     */\n    var afterCommand = this.afterCommand = function (isPreventTrigger) {\n      history.recordUndo();\n      if (!isPreventTrigger) {\n        context.triggerEvent('change', $editable.html());\n      }\n    };\n\n    /* jshint ignore:start */\n    // native commands(with execCommand), generate function for execCommand\n    var commands = ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript',\n                    'justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull',\n                    'formatBlock', 'removeFormat',\n                    'backColor', 'foreColor', 'fontName'];\n\n    for (var idx = 0, len = commands.length; idx < len; idx ++) {\n      this[commands[idx]] = (function (sCmd) {\n        return function (value) {\n          beforeCommand();\n          document.execCommand(sCmd, false, value);\n          afterCommand(true);\n        };\n      })(commands[idx]);\n      context.memo('help.' + commands[idx], lang.help[commands[idx]]);\n    }\n    /* jshint ignore:end */\n\n    /**\n     * handle tab key\n     */\n    this.tab = function () {\n      var rng = this.createRange();\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        table.tab(rng);\n      } else {\n        beforeCommand();\n        typing.insertTab(rng, options.tabSize);\n        afterCommand();\n      }\n    };\n    context.memo('help.tab', lang.help.tab);\n\n    /**\n     * handle shift+tab key\n     */\n    this.untab = function () {\n      var rng = this.createRange();\n      if (rng.isCollapsed() && rng.isOnCell()) {\n        table.tab(rng, true);\n      }\n    };\n    context.memo('help.untab', lang.help.untab);\n\n    /**\n     * run given function between beforeCommand and afterCommand\n     */\n    this.wrapCommand = function (fn) {\n      return function () {\n        beforeCommand();\n        fn.apply(self, arguments);\n        afterCommand();\n      };\n    };\n\n    /**\n     * insert paragraph\n     */\n    this.insertParagraph = this.wrapCommand(function () {\n      typing.insertParagraph(editable);\n    });\n    context.memo('help.insertParagraph', lang.help.insertParagraph);\n\n    this.insertOrderedList = this.wrapCommand(function () {\n      bullet.insertOrderedList(editable);\n    });\n    context.memo('help.insertOrderedList', lang.help.insertOrderedList);\n\n    this.insertUnorderedList = this.wrapCommand(function () {\n      bullet.insertUnorderedList(editable);\n    });\n    context.memo('help.insertUnorderedList', lang.help.insertUnorderedList);\n\n    this.indent = this.wrapCommand(function () {\n      bullet.indent(editable);\n    });\n    context.memo('help.indent', lang.help.indent);\n\n    this.outdent = this.wrapCommand(function () {\n      bullet.outdent(editable);\n    });\n    context.memo('help.outdent', lang.help.outdent);\n\n    /**\n     * insert image\n     *\n     * @param {String} src\n     * @param {String|Function} param\n     * @return {Promise}\n     */\n    this.insertImage = function (src, param) {\n      return async.createImage(src, param).then(function ($image) {\n        beforeCommand();\n\n        if (typeof param === 'function') {\n          param($image);\n        } else {\n          if (typeof param === 'string') {\n            $image.attr('data-filename', param);\n          }\n          $image.css('width', Math.min($editable.width(), $image.width()));\n        }\n\n        $image.show();\n        range.create(editable).insertNode($image[0]);\n        range.createFromNodeAfter($image[0]).select();\n        afterCommand();\n      }).fail(function (e) {\n        context.triggerEvent('image.upload.error', e);\n      });\n    };\n\n    /**\n     * insertImages\n     * @param {File[]} files\n     */\n    this.insertImages = function (files) {\n      $.each(files, function (idx, file) {\n        var filename = file.name;\n        if (options.maximumImageFileSize && options.maximumImageFileSize < file.size) {\n          context.triggerEvent('image.upload.error', lang.image.maximumFileSizeError);\n        } else {\n          async.readFileAsDataURL(file).then(function (dataURL) {\n            return self.insertImage(dataURL, filename);\n          }).fail(function () {\n            context.triggerEvent('image.upload.error');\n          });\n        }\n      });\n    };\n\n    /**\n     * insertImagesOrCallback\n     * @param {File[]} files\n     */\n    this.insertImagesOrCallback = function (files) {\n      var callbacks = options.callbacks;\n\n      // If onImageUpload options setted\n      if (callbacks.onImageUpload) {\n        context.triggerEvent('image.upload', files);\n      // else insert Image as dataURL\n      } else {\n        this.insertImages(files);\n      }\n    };\n\n    /**\n     * insertNode\n     * insert node\n     * @param {Node} node\n     */\n    this.insertNode = this.wrapCommand(function (node) {\n      var rng = this.createRange();\n      rng.insertNode(node);\n      range.createFromNodeAfter(node).select();\n    });\n\n    /**\n     * insert text\n     * @param {String} text\n     */\n    this.insertText = this.wrapCommand(function (text) {\n      var rng = this.createRange();\n      var textNode = rng.insertNode(dom.createText(text));\n      range.create(textNode, dom.nodeLength(textNode)).select();\n    });\n\n    /**\n     * return selected plain text\n     * @return {String} text\n     */\n    this.getSelectedText = function () {\n      var rng = this.createRange();\n\n      // if range on anchor, expand range with anchor\n      if (rng.isOnAnchor()) {\n        rng = range.createFromNode(dom.ancestor(rng.sc, dom.isAnchor));\n      }\n\n      return rng.toString();\n    };\n\n    /**\n     * paste HTML\n     * @param {String} markup\n     */\n    this.pasteHTML = this.wrapCommand(function (markup) {\n      var contents = this.createRange().pasteHTML(markup);\n      range.createFromNodeAfter(list.last(contents)).select();\n    });\n\n    /**\n     * formatBlock\n     *\n     * @param {String} tagName\n     */\n    this.formatBlock = this.wrapCommand(function (tagName) {\n      // [workaround] for MSIE, IE need `<`\n      tagName = agent.isMSIE ? '<' + tagName + '>' : tagName;\n      document.execCommand('FormatBlock', false, tagName);\n    });\n\n    this.formatPara = function () {\n      this.formatBlock('P');\n    };\n    context.memo('help.formatPara', lang.help.formatPara);\n\n    /* jshint ignore:start */\n    for (var idx = 1; idx <= 6; idx ++) {\n      this['formatH' + idx] = function (idx) {\n        return function () {\n          this.formatBlock('H' + idx);\n        };\n      }(idx);\n      context.memo('help.formatH'+idx, lang.help['formatH' + idx]);\n    };\n    /* jshint ignore:end */\n\n    /**\n     * fontSize\n     *\n     * @param {String} value - px\n     */\n    this.fontSize = function (value) {\n      var rng = this.createRange();\n\n      if (rng && rng.isCollapsed()) {\n        var spans = style.styleNodes(rng);\n        var firstSpan = list.head(spans);\n\n        $(spans).css({\n          'font-size': value + 'px'\n        });\n\n        // [workaround] added styled bogus span for style\n        //  - also bogus character needed for cursor position\n        if (firstSpan && !dom.nodeLength(firstSpan)) {\n          firstSpan.innerHTML = dom.ZERO_WIDTH_NBSP_CHAR;\n          range.createFromNodeAfter(firstSpan.firstChild).select();\n          $editable.data(KEY_BOGUS, firstSpan);\n        }\n      } else {\n        beforeCommand();\n        $(style.styleNodes(rng)).css({\n          'font-size': value + 'px'\n        });\n        afterCommand();\n      }\n    };\n\n    /**\n     * insert horizontal rule\n     */\n    this.insertHorizontalRule = this.wrapCommand(function () {\n      var hrNode = this.createRange().insertNode(dom.create('HR'));\n      if (hrNode.nextSibling) {\n        range.create(hrNode.nextSibling, 0).normalize().select();\n      }\n    });\n    context.memo('help.insertHorizontalRule', lang.help.insertHorizontalRule);\n\n    /**\n     * remove bogus node and character\n     */\n    this.removeBogus = function () {\n      var bogusNode = $editable.data(KEY_BOGUS);\n      if (!bogusNode) {\n        return;\n      }\n\n      var textNode = list.find(list.from(bogusNode.childNodes), dom.isText);\n\n      var bogusCharIdx = textNode.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);\n      if (bogusCharIdx !== -1) {\n        textNode.deleteData(bogusCharIdx, 1);\n      }\n\n      if (dom.isEmpty(bogusNode)) {\n        dom.remove(bogusNode);\n      }\n\n      $editable.removeData(KEY_BOGUS);\n    };\n\n    /**\n     * lineHeight\n     * @param {String} value\n     */\n    this.lineHeight = this.wrapCommand(function (value) {\n      style.stylePara(this.createRange(), {\n        lineHeight: value\n      });\n    });\n\n    /**\n     * unlink\n     *\n     * @type command\n     */\n    this.unlink = function () {\n      var rng = this.createRange();\n      if (rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n        rng = range.createFromNode(anchor);\n        rng.select();\n\n        beforeCommand();\n        document.execCommand('unlink');\n        afterCommand();\n      }\n    };\n\n    /**\n     * create link (command)\n     *\n     * @param {Object} linkInfo\n     */\n    this.createLink = this.wrapCommand(function (linkInfo) {\n      var linkUrl = linkInfo.url;\n      var linkText = linkInfo.text;\n      var isNewWindow = linkInfo.isNewWindow;\n      var rng = linkInfo.range || this.createRange();\n      var isTextChanged = rng.toString() !== linkText;\n\n      // handle spaced urls from input\n      if (typeof linkUrl === 'string') {\n        linkUrl = linkUrl.trim();\n      }\n\n      if (options.onCreateLink) {\n        linkUrl = options.onCreateLink(linkUrl);\n      }\n\n      var anchors = [];\n      if (isTextChanged) {\n        rng = rng.deleteContents();\n        var anchor = rng.insertNode($('<A>' + linkText + '</A>')[0]);\n        anchors.push(anchor);\n      } else {\n        anchors = style.styleNodes(rng, {\n          nodeName: 'A',\n          expandClosestSibling: true,\n          onlyPartialContains: true\n        });\n      }\n\n      $.each(anchors, function (idx, anchor) {\n        // if url doesn't match an URL schema, set http:// as default\n        linkUrl = /^[A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?/.test(linkUrl) ?\n          linkUrl : 'http://' + linkUrl;\n\n        $(anchor).attr('href', linkUrl);\n        if (isNewWindow) {\n          $(anchor).attr('target', '_blank');\n        } else {\n          $(anchor).removeAttr('target');\n        }\n      });\n\n      var startRange = range.createFromNodeBefore(list.head(anchors));\n      var startPoint = startRange.getStartPoint();\n      var endRange = range.createFromNodeAfter(list.last(anchors));\n      var endPoint = endRange.getEndPoint();\n\n      range.create(\n        startPoint.node,\n        startPoint.offset,\n        endPoint.node,\n        endPoint.offset\n      ).select();\n    });\n\n    /**\n     * returns link info\n     *\n     * @return {Object}\n     * @return {WrappedRange} return.range\n     * @return {String} return.text\n     * @return {Boolean} [return.isNewWindow=true]\n     * @return {String} [return.url=\"\"]\n     */\n    this.getLinkInfo = function () {\n      var rng = this.createRange().expand(dom.isAnchor);\n\n      // Get the first anchor on range(for edit).\n      var $anchor = $(list.head(rng.nodes(dom.isAnchor)));\n\n      return {\n        range: rng,\n        text: rng.toString(),\n        isNewWindow: $anchor.length ? $anchor.attr('target') === '_blank' : false,\n        url: $anchor.length ? $anchor.attr('href') : ''\n      };\n    };\n\n    /**\n     * setting color\n     *\n     * @param {Object} sObjColor  color code\n     * @param {String} sObjColor.foreColor foreground color\n     * @param {String} sObjColor.backColor background color\n     */\n    this.color = this.wrapCommand(function (colorInfo) {\n      var foreColor = colorInfo.foreColor;\n      var backColor = colorInfo.backColor;\n\n      if (foreColor) { document.execCommand('foreColor', false, foreColor); }\n      if (backColor) { document.execCommand('backColor', false, backColor); }\n    });\n\n    /**\n     * insert Table\n     *\n     * @param {String} dimension of table (ex : \"5x5\")\n     */\n    this.insertTable = this.wrapCommand(function (dim) {\n      var dimension = dim.split('x');\n\n      var rng = this.createRange().deleteContents();\n      rng.insertNode(table.createTable(dimension[0], dimension[1], options));\n    });\n\n    /**\n     * float me\n     *\n     * @param {String} value\n     */\n    this.floatMe = this.wrapCommand(function (value) {\n      var $target = $(this.restoreTarget());\n      $target.css('float', value);\n    });\n\n    /**\n     * resize overlay element\n     * @param {String} value\n     */\n    this.resize = this.wrapCommand(function (value) {\n      var $target = $(this.restoreTarget());\n      $target.css({\n        width: value * 100 + '%',\n        height: ''\n      });\n    });\n\n    /**\n     * @param {Position} pos\n     * @param {jQuery} $target - target element\n     * @param {Boolean} [bKeepRatio] - keep ratio\n     */\n    this.resizeTo = function (pos, $target, bKeepRatio) {\n      var imageSize;\n      if (bKeepRatio) {\n        var newRatio = pos.y / pos.x;\n        var ratio = $target.data('ratio');\n        imageSize = {\n          width: ratio > newRatio ? pos.x : pos.y / ratio,\n          height: ratio > newRatio ? pos.x * ratio : pos.y\n        };\n      } else {\n        imageSize = {\n          width: pos.x,\n          height: pos.y\n        };\n      }\n\n      $target.css(imageSize);\n    };\n\n    /**\n     * remove media object\n     */\n    this.removeMedia = this.wrapCommand(function () {\n      var $target = $(this.restoreTarget()).detach();\n      context.triggerEvent('media.delete', $target, $editable);\n    });\n\n    /**\n     * returns whether editable area has focus or not.\n     */\n    this.hasFocus = function () {\n      return $editable.is(':focus');\n    };\n\n    /**\n     * set focus\n     */\n    this.focus = function () {\n      // [workaround] Screen will move when page is scolled in IE.\n      //  - do focus when not focused\n      if (!this.hasFocus()) {\n        $editable.focus();\n      }\n    };\n\n    /**\n     * returns whether contents is empty or not.\n     * @return {Boolean}\n     */\n    this.isEmpty = function () {\n      return dom.isEmpty($editable[0]) || dom.emptyPara === $editable.html();\n    };\n\n    /**\n     * Removes all contents and restores the editable instance to an _emptyPara_.\n     */\n    this.empty = function () {\n      context.invoke('code', dom.emptyPara);\n    };\n  };\n\n  var Clipboard = function (context) {\n    var self = this;\n\n    var $editable = context.layoutInfo.editable;\n\n    this.events = {\n      'summernote.keydown': function (we, e) {\n        if (self.needKeydownHook()) {\n          if ((e.ctrlKey || e.metaKey) && e.keyCode === key.code.V) {\n            context.invoke('editor.saveRange');\n            self.$paste.focus();\n\n            setTimeout(function () {\n              self.pasteByHook();\n            }, 0);\n          }\n        }\n      }\n    };\n\n    this.needKeydownHook = function () {\n      return (agent.isMSIE && agent.browserVersion > 10) || agent.isFF;\n    };\n\n    this.initialize = function () {\n      // [workaround] getting image from clipboard\n      //  - IE11 and Firefox: CTRL+v hook\n      //  - Webkit: event.clipboardData\n      if (this.needKeydownHook()) {\n        this.$paste = $('<div tabindex=\"-1\" />').attr('contenteditable', true).css({\n          position: 'absolute',\n          left: -100000,\n          opacity: 0\n        });\n        $editable.before(this.$paste);\n\n        this.$paste.on('paste', function (event) {\n          context.triggerEvent('paste', event);\n        });\n      } else {\n        $editable.on('paste', this.pasteByEvent);\n      }\n    };\n\n    this.destroy = function () {\n      if (this.needKeydownHook()) {\n        this.$paste.remove();\n        this.$paste = null;\n      }\n    };\n\n    this.pasteByHook = function () {\n      var node = this.$paste[0].firstChild;\n\n      if (dom.isImg(node)) {\n        var dataURI = node.src;\n        var decodedData = atob(dataURI.split(',')[1]);\n        var array = new Uint8Array(decodedData.length);\n        for (var i = 0; i < decodedData.length; i++) {\n          array[i] = decodedData.charCodeAt(i);\n        }\n\n        var blob = new Blob([array], { type: 'image/png' });\n        blob.name = 'clipboard.png';\n\n        context.invoke('editor.restoreRange');\n        context.invoke('editor.focus');\n        context.invoke('editor.insertImagesOrCallback', [blob]);\n      } else {\n        var pasteContent = $('<div />').html(this.$paste.html()).html();\n        context.invoke('editor.restoreRange');\n        context.invoke('editor.focus');\n\n        if (pasteContent) {\n          context.invoke('editor.pasteHTML', pasteContent);\n        }\n      }\n\n      this.$paste.empty();\n    };\n\n    /**\n     * paste by clipboard event\n     *\n     * @param {Event} event\n     */\n    this.pasteByEvent = function (event) {\n      var clipboardData = event.originalEvent.clipboardData;\n      if (clipboardData && clipboardData.items && clipboardData.items.length) {\n        var item = list.head(clipboardData.items);\n        if (item.kind === 'file' && item.type.indexOf('image/') !== -1) {\n          context.invoke('editor.insertImagesOrCallback', [item.getAsFile()]);\n        }\n        context.invoke('editor.afterCommand');\n      }\n    };\n  };\n\n  var Dropzone = function (context) {\n    var $document = $(document);\n    var $editor = context.layoutInfo.editor;\n    var $editable = context.layoutInfo.editable;\n    var options = context.options;\n    var lang = options.langInfo;\n    var documentEventHandlers = {};\n\n    var $dropzone = $([\n      '<div class=\"note-dropzone\">',\n      '  <div class=\"note-dropzone-message\"/>',\n      '</div>'\n    ].join('')).prependTo($editor);\n\n    var detachDocumentEvent = function () {\n      Object.keys(documentEventHandlers).forEach(function (key) {\n        $document.off(key.substr(2).toLowerCase(), documentEventHandlers[key]);\n      });\n      documentEventHandlers = {};\n    };\n\n    /**\n     * attach Drag and Drop Events\n     */\n    this.initialize = function () {\n      if (options.disableDragAndDrop) {\n        // prevent default drop event\n        documentEventHandlers.onDrop = function (e) {\n          e.preventDefault();\n        };\n        $document.on('drop', documentEventHandlers.onDrop);\n      } else {\n        this.attachDragAndDropEvent();\n      }\n    };\n\n    /**\n     * attach Drag and Drop Events\n     */\n    this.attachDragAndDropEvent = function () {\n      var collection = $(),\n          $dropzoneMessage = $dropzone.find('.note-dropzone-message');\n\n      documentEventHandlers.onDragenter = function (e) {\n        var isCodeview = context.invoke('codeview.isActivated');\n        var hasEditorSize = $editor.width() > 0 && $editor.height() > 0;\n        if (!isCodeview && !collection.length && hasEditorSize) {\n          $editor.addClass('dragover');\n          $dropzone.width($editor.width());\n          $dropzone.height($editor.height());\n          $dropzoneMessage.text(lang.image.dragImageHere);\n        }\n        collection = collection.add(e.target);\n      };\n\n      documentEventHandlers.onDragleave = function (e) {\n        collection = collection.not(e.target);\n        if (!collection.length) {\n          $editor.removeClass('dragover');\n        }\n      };\n\n      documentEventHandlers.onDrop = function () {\n        collection = $();\n        $editor.removeClass('dragover');\n      };\n\n      // show dropzone on dragenter when dragging a object to document\n      // -but only if the editor is visible, i.e. has a positive width and height\n      $document.on('dragenter', documentEventHandlers.onDragenter)\n        .on('dragleave', documentEventHandlers.onDragleave)\n        .on('drop', documentEventHandlers.onDrop);\n\n      // change dropzone's message on hover.\n      $dropzone.on('dragenter', function () {\n        $dropzone.addClass('hover');\n        $dropzoneMessage.text(lang.image.dropImage);\n      }).on('dragleave', function () {\n        $dropzone.removeClass('hover');\n        $dropzoneMessage.text(lang.image.dragImageHere);\n      });\n\n      // attach dropImage\n      $dropzone.on('drop', function (event) {\n        var dataTransfer = event.originalEvent.dataTransfer;\n\n        if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n          event.preventDefault();\n          $editable.focus();\n          context.invoke('editor.insertImagesOrCallback', dataTransfer.files);\n        } else {\n          $.each(dataTransfer.types, function (idx, type) {\n            var content = dataTransfer.getData(type);\n\n            if (type.toLowerCase().indexOf('text') > -1) {\n              context.invoke('editor.pasteHTML', content);\n            } else {\n              $(content).each(function () {\n                context.invoke('editor.insertNode', this);\n              });\n            }\n          });\n        }\n      }).on('dragover', false); // prevent default dragover event\n    };\n\n    this.destroy = function () {\n      detachDocumentEvent();\n    };\n  };\n\n\n  var CodeMirror;\n  if (agent.hasCodeMirror) {\n    if (agent.isSupportAmd) {\n      require(['codemirror'], function (cm) {\n        CodeMirror = cm;\n      });\n    } else {\n      CodeMirror = window.CodeMirror;\n    }\n  }\n\n  /**\n   * @class Codeview\n   */\n  var Codeview = function (context) {\n    var $editor = context.layoutInfo.editor;\n    var $editable = context.layoutInfo.editable;\n    var $codable = context.layoutInfo.codable;\n    var options = context.options;\n\n    this.sync = function () {\n      var isCodeview = this.isActivated();\n      if (isCodeview && agent.hasCodeMirror) {\n        $codable.data('cmEditor').save();\n      }\n    };\n\n    /**\n     * @return {Boolean}\n     */\n    this.isActivated = function () {\n      return $editor.hasClass('codeview');\n    };\n\n    /**\n     * toggle codeview\n     */\n    this.toggle = function () {\n      if (this.isActivated()) {\n        this.deactivate();\n      } else {\n        this.activate();\n      }\n      context.triggerEvent('codeview.toggled');\n    };\n\n    /**\n     * activate code view\n     */\n    this.activate = function () {\n      $codable.val(dom.html($editable, options.prettifyHtml));\n      $codable.height($editable.height());\n\n      context.invoke('toolbar.updateCodeview', true);\n      $editor.addClass('codeview');\n      $codable.focus();\n\n      $codable.on('keyup', function () {\n        var value = $codable.val();\n        var isChange = $editable.html() !== value;\n\n        if (isChange) {\n          context.triggerEvent('change', value, $editable);\n        }\n      });\n\n      // activate CodeMirror as codable\n      if (agent.hasCodeMirror) {\n        var cmEditor = CodeMirror.fromTextArea($codable[0], options.codemirror);\n\n        // CodeMirror TernServer\n        if (options.codemirror.tern) {\n          var server = new CodeMirror.TernServer(options.codemirror.tern);\n          cmEditor.ternServer = server;\n          cmEditor.on('cursorActivity', function (cm) {\n            server.updateArgHints(cm);\n          });\n        }\n\n        // CodeMirror hasn't Padding.\n        cmEditor.setSize(null, $editable.outerHeight());\n        $codable.data('cmEditor', cmEditor);\n      }\n    };\n\n    /**\n     * deactivate code view\n     */\n    this.deactivate = function () {\n      // deactivate CodeMirror as codable\n      if (agent.hasCodeMirror) {\n        var cmEditor = $codable.data('cmEditor');\n        $codable.val(cmEditor.getValue());\n        cmEditor.toTextArea();\n      }\n\n      var value = dom.value($codable, options.prettifyHtml) || dom.emptyPara;\n      var isChange = $editable.html() !== value;\n\n      $editable.html(value);\n      $editable.height(options.height ? $codable.height() : 'auto');\n      $editor.removeClass('codeview');\n\n      if (isChange) {\n        context.triggerEvent('change', $editable.html(), $editable);\n      }\n\n      $editable.focus();\n\n      context.invoke('toolbar.updateCodeview', false);\n    };\n\n    this.destroy = function () {\n      if (this.isActivated()) {\n        this.deactivate();\n      }\n    };\n  };\n\n  var EDITABLE_PADDING = 24;\n\n  var Statusbar = function (context) {\n    var $document = $(document);\n    var $statusbar = context.layoutInfo.statusbar;\n    var $editable = context.layoutInfo.editable;\n    var options = context.options;\n\n    this.initialize = function () {\n      if (options.airMode || options.disableResizeEditor) {\n        return;\n      }\n\n      $statusbar.on('mousedown', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        var editableTop = $editable.offset().top - $document.scrollTop();\n\n        $document.on('mousemove', function (event) {\n          var height = event.clientY - (editableTop + EDITABLE_PADDING);\n\n          height = (options.minheight > 0) ? Math.max(height, options.minheight) : height;\n          height = (options.maxHeight > 0) ? Math.min(height, options.maxHeight) : height;\n\n          $editable.height(height);\n        }).one('mouseup', function () {\n          $document.off('mousemove');\n        });\n      });\n    };\n\n    this.destroy = function () {\n      $statusbar.off();\n      $statusbar.remove();\n    };\n  };\n\n  var Fullscreen = function (context) {\n    var $editor = context.layoutInfo.editor;\n    var $toolbar = context.layoutInfo.toolbar;\n    var $editable = context.layoutInfo.editable;\n    var $codable = context.layoutInfo.codable;\n\n    var $window = $(window);\n    var $scrollbar = $('html, body');\n\n    /**\n     * toggle fullscreen\n     */\n    this.toggle = function () {\n      var resize = function (size) {\n        $editable.css('height', size.h);\n        $codable.css('height', size.h);\n        if ($codable.data('cmeditor')) {\n          $codable.data('cmeditor').setsize(null, size.h);\n        }\n      };\n\n      $editor.toggleClass('fullscreen');\n      if (this.isFullscreen()) {\n        $editable.data('orgHeight', $editable.css('height'));\n\n        $window.on('resize', function () {\n          resize({\n            h: $window.height() - $toolbar.outerHeight()\n          });\n        }).trigger('resize');\n\n        $scrollbar.css('overflow', 'hidden');\n      } else {\n        $window.off('resize');\n        resize({\n          h: $editable.data('orgHeight')\n        });\n        $scrollbar.css('overflow', 'visible');\n      }\n\n      context.invoke('toolbar.updateFullscreen', this.isFullscreen());\n    };\n\n    this.isFullscreen = function () {\n      return $editor.hasClass('fullscreen');\n    };\n  };\n\n  var Handle = function (context) {\n    var self = this;\n\n    var $document = $(document);\n    var $editingArea = context.layoutInfo.editingArea;\n    var options = context.options;\n\n    this.events = {\n      'summernote.mousedown': function (we, e) {\n        if (self.update(e.target)) {\n          e.preventDefault();\n        }\n      },\n      'summernote.keyup summernote.scroll summernote.change summernote.dialog.shown': function () {\n        self.update();\n      }\n    };\n\n    this.initialize = function () {\n      this.$handle = $([\n        '<div class=\"note-handle\">',\n        '<div class=\"note-control-selection\">',\n        '<div class=\"note-control-selection-bg\"></div>',\n        '<div class=\"note-control-holder note-control-nw\"></div>',\n        '<div class=\"note-control-holder note-control-ne\"></div>',\n        '<div class=\"note-control-holder note-control-sw\"></div>',\n        '<div class=\"',\n        (options.disableResizeImage ? 'note-control-holder' : 'note-control-sizing'),\n        ' note-control-se\"></div>',\n        (options.disableResizeImage ? '' : '<div class=\"note-control-selection-info\"></div>'),\n        '</div>',\n        '</div>'\n      ].join('')).prependTo($editingArea);\n\n      this.$handle.on('mousedown', function (event) {\n        if (dom.isControlSizing(event.target)) {\n          event.preventDefault();\n          event.stopPropagation();\n\n          var $target = self.$handle.find('.note-control-selection').data('target'),\n              posStart = $target.offset(),\n              scrollTop = $document.scrollTop();\n\n          $document.on('mousemove', function (event) {\n            context.invoke('editor.resizeTo', {\n              x: event.clientX - posStart.left,\n              y: event.clientY - (posStart.top - scrollTop)\n            }, $target, !event.shiftKey);\n\n            self.update($target[0]);\n          }).one('mouseup', function (e) {\n            e.preventDefault();\n            $document.off('mousemove');\n            context.invoke('editor.afterCommand');\n          });\n\n          if (!$target.data('ratio')) { // original ratio.\n            $target.data('ratio', $target.height() / $target.width());\n          }\n        }\n      });\n    };\n\n    this.destroy = function () {\n      this.$handle.remove();\n    };\n\n    this.update = function (target) {\n      var isImage = dom.isImg(target);\n      var $selection = this.$handle.find('.note-control-selection');\n\n      context.invoke('imagePopover.update', target);\n\n      if (isImage) {\n        var $image = $(target);\n        var pos = $image.position();\n\n        // include margin\n        var imageSize = {\n          w: $image.outerWidth(true),\n          h: $image.outerHeight(true)\n        };\n\n        $selection.css({\n          display: 'block',\n          left: pos.left,\n          top: pos.top,\n          width: imageSize.w,\n          height: imageSize.h\n        }).data('target', $image); // save current image element.\n\n        var sizingText = imageSize.w + 'x' + imageSize.h;\n        $selection.find('.note-control-selection-info').text(sizingText);\n        context.invoke('editor.saveTarget', target);\n      } else {\n        this.hide();\n      }\n\n      return isImage;\n    };\n\n    /**\n     * hide\n     *\n     * @param {jQuery} $handle\n     */\n    this.hide = function () {\n      context.invoke('editor.clearTarget');\n      this.$handle.children().hide();\n    };\n  };\n\n  var AutoLink = function (context) {\n    var self = this;\n    var defaultScheme = 'http://';\n    var linkPattern = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i;\n\n    this.events = {\n      'summernote.keyup': function (we, e) {\n        if (!e.isDefaultPrevented()) {\n          self.handleKeyup(e);\n        }\n      },\n      'summernote.keydown': function (we, e) {\n        self.handleKeydown(e);\n      }\n    };\n\n    this.initialize = function () {\n      this.lastWordRange = null;\n    };\n\n    this.destroy = function () {\n      this.lastWordRange = null;\n    };\n\n    this.replace = function () {\n      if (!this.lastWordRange) {\n        return;\n      }\n\n      var keyword = this.lastWordRange.toString();\n      var match = keyword.match(linkPattern);\n\n      if (match && (match[1] || match[2])) {\n        var link = match[1] ? keyword : defaultScheme + keyword;\n        var node = $('<a />').html(keyword).attr('href', link)[0];\n\n        this.lastWordRange.insertNode(node);\n        this.lastWordRange = null;\n        context.invoke('editor.focus');\n      }\n\n    };\n\n    this.handleKeydown = function (e) {\n      if (list.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\n        var wordRange = context.invoke('editor.createRange').getWordRange();\n        this.lastWordRange = wordRange;\n      }\n    };\n\n    this.handleKeyup = function (e) {\n      if (list.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\n        this.replace();\n      }\n    };\n  };\n\n  /**\n   * textarea auto sync.\n   */\n  var AutoSync = function (context) {\n    var $note = context.layoutInfo.note;\n\n    this.events = {\n      'summernote.change': function () {\n        $note.val(context.invoke('code'));\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return dom.isTextarea($note[0]);\n    };\n  };\n\n  var Placeholder = function (context) {\n    var self = this;\n    var $editingArea = context.layoutInfo.editingArea;\n    var options = context.options;\n\n    this.events = {\n      'summernote.init summernote.change': function () {\n        self.update();\n      },\n      'summernote.codeview.toggled': function () {\n        self.update();\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return !!options.placeholder;\n    };\n\n    this.initialize = function () {\n      this.$placeholder = $('<div class=\"note-placeholder\">');\n      this.$placeholder.on('click', function () {\n        context.invoke('focus');\n      }).text(options.placeholder).prependTo($editingArea);\n    };\n\n    this.destroy = function () {\n      this.$placeholder.remove();\n    };\n\n    this.update = function () {\n      var isShow = !context.invoke('codeview.isActivated') && context.invoke('editor.isEmpty');\n      this.$placeholder.toggle(isShow);\n    };\n  };\n\n  var Buttons = function (context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $toolbar = context.layoutInfo.toolbar;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    var invertedKeyMap = func.invertObject(options.keyMap[agent.isMac ? 'mac' : 'pc']);\n\n    var representShortcut = this.representShortcut = function (editorMethod) {\n      var shortcut = invertedKeyMap[editorMethod];\n      if (!options.shortcuts || !shortcut) {\n        return '';\n      }\n\n      if (agent.isMac) {\n        shortcut = shortcut.replace('CMD', '⌘').replace('SHIFT', '⇧');\n      }\n\n      shortcut = shortcut.replace('BACKSLASH', '\\\\')\n                         .replace('SLASH', '/')\n                         .replace('LEFTBRACKET', '[')\n                         .replace('RIGHTBRACKET', ']');\n\n      return ' (' + shortcut + ')';\n    };\n\n    this.initialize = function () {\n      this.addToolbarButtons();\n      this.addImagePopoverButtons();\n      this.addLinkPopoverButtons();\n      this.fontInstalledMap = {};\n    };\n\n    this.destroy = function () {\n      delete this.fontInstalledMap;\n    };\n\n    this.isFontInstalled = function (name) {\n      if (!self.fontInstalledMap.hasOwnProperty(name)) {\n        self.fontInstalledMap[name] = agent.isFontInstalled(name) ||\n          list.contains(options.fontNamesIgnoreCheck, name);\n      }\n\n      return self.fontInstalledMap[name];\n    };\n\n    this.addToolbarButtons = function () {\n      context.memo('button.style', function () {\n        return ui.buttonGroup([\n          ui.button({\n            className: 'dropdown-toggle',\n            contents: ui.icon(options.icons.magic) + ' ' + ui.icon(options.icons.caret, 'span'),\n            tooltip: lang.style.style,\n            data: {\n              toggle: 'dropdown'\n            }\n          }),\n          ui.dropdown({\n            className: 'dropdown-style',\n            items: context.options.styleTags,\n            template: function (item) {\n\n              if (typeof item === 'string') {\n                item = { tag: item, title: (lang.style.hasOwnProperty(item) ? lang.style[item] : item) };\n              }\n\n              var tag = item.tag;\n              var title = item.title;\n              var style = item.style ? ' style=\"' + item.style + '\" ' : '';\n              var className = item.className ? ' class=\"' + item.className + '\"' : '';\n\n              return '<' + tag + style + className + '>' + title + '</' + tag +  '>';\n            },\n            click: context.createInvokeHandler('editor.formatBlock')\n          })\n        ]).render();\n      });\n\n      context.memo('button.bold', function () {\n        return ui.button({\n          className: 'note-btn-bold',\n          contents: ui.icon(options.icons.bold),\n          tooltip: lang.font.bold + representShortcut('bold'),\n          click: context.createInvokeHandler('editor.bold')\n        }).render();\n      });\n\n      context.memo('button.italic', function () {\n        return ui.button({\n          className: 'note-btn-italic',\n          contents: ui.icon(options.icons.italic),\n          tooltip: lang.font.italic + representShortcut('italic'),\n          click: context.createInvokeHandler('editor.italic')\n        }).render();\n      });\n\n      context.memo('button.underline', function () {\n        return ui.button({\n          className: 'note-btn-underline',\n          contents: ui.icon(options.icons.underline),\n          tooltip: lang.font.underline + representShortcut('underline'),\n          click: context.createInvokeHandler('editor.underline')\n        }).render();\n      });\n\n      context.memo('button.clear', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.eraser),\n          tooltip: lang.font.clear + representShortcut('removeFormat'),\n          click: context.createInvokeHandler('editor.removeFormat')\n        }).render();\n      });\n\n      context.memo('button.strikethrough', function () {\n        return ui.button({\n          className: 'note-btn-strikethrough',\n          contents: ui.icon(options.icons.strikethrough),\n          tooltip: lang.font.strikethrough + representShortcut('strikethrough'),\n          click: context.createInvokeHandler('editor.strikethrough')\n        }).render();\n      });\n\n      context.memo('button.superscript', function () {\n        return ui.button({\n          className: 'note-btn-superscript',\n          contents: ui.icon(options.icons.superscript),\n          tooltip: lang.font.superscript,\n          click: context.createInvokeHandler('editor.superscript')\n        }).render();\n      });\n\n      context.memo('button.subscript', function () {\n        return ui.button({\n          className: 'note-btn-subscript',\n          contents: ui.icon(options.icons.subscript),\n          tooltip: lang.font.subscript,\n          click: context.createInvokeHandler('editor.subscript')\n        }).render();\n      });\n\n      context.memo('button.fontname', function () {\n        return ui.buttonGroup([\n          ui.button({\n            className: 'dropdown-toggle',\n            contents: '<span class=\"note-current-fontname\"/> ' + ui.icon(options.icons.caret, 'span'),\n            tooltip: lang.font.name,\n            data: {\n              toggle: 'dropdown'\n            }\n          }),\n          ui.dropdownCheck({\n            className: 'dropdown-fontname',\n            checkClassName: options.icons.menuCheck,\n            items: options.fontNames.filter(self.isFontInstalled),\n            template: function (item) {\n              return '<span style=\"font-family:' + item + '\">' + item + '</span>';\n            },\n            click: context.createInvokeHandler('editor.fontName')\n          })\n        ]).render();\n      });\n\n      context.memo('button.fontsize', function () {\n        return ui.buttonGroup([\n          ui.button({\n            className: 'dropdown-toggle',\n            contents: '<span class=\"note-current-fontsize\"/>' + ui.icon(options.icons.caret, 'span'),\n            tooltip: lang.font.size,\n            data: {\n              toggle: 'dropdown'\n            }\n          }),\n          ui.dropdownCheck({\n            className: 'dropdown-fontsize',\n            checkClassName: options.icons.menuCheck,\n            items: options.fontSizes,\n            click: context.createInvokeHandler('editor.fontSize')\n          })\n        ]).render();\n      });\n\n      context.memo('button.color', function () {\n        return ui.buttonGroup({\n          className: 'note-color',\n          children: [\n            ui.button({\n              className: 'note-current-color-button',\n              contents: ui.icon(options.icons.font + ' note-recent-color'),\n              tooltip: lang.color.recent,\n              click: function (e) {\n                var $button = $(e.currentTarget);\n                context.invoke('editor.color', {\n                  backColor: $button.attr('data-backColor'),\n                  foreColor: $button.attr('data-foreColor')\n                });\n              },\n              callback: function ($button) {\n                var $recentColor = $button.find('.note-recent-color');\n                $recentColor.css('background-color', '#FFFF00');\n                $button.attr('data-backColor', '#FFFF00');\n              }\n            }),\n            ui.button({\n              className: 'dropdown-toggle',\n              contents: ui.icon(options.icons.caret, 'span'),\n              tooltip: lang.color.more,\n              data: {\n                toggle: 'dropdown'\n              }\n            }),\n            ui.dropdown({\n              items: [\n                '<li>',\n                '<div class=\"btn-group\">',\n                '  <div class=\"note-palette-title\">' + lang.color.background + '</div>',\n                '  <div>',\n                '    <button type=\"button\" class=\"note-color-reset btn btn-default\" data-event=\"backColor\" data-value=\"inherit\">',\n                lang.color.transparent,\n                '    </button>',\n                '  </div>',\n                '  <div class=\"note-holder\" data-event=\"backColor\"/>',\n                '</div>',\n                '<div class=\"btn-group\">',\n                '  <div class=\"note-palette-title\">' + lang.color.foreground + '</div>',\n                '  <div>',\n                '    <button type=\"button\" class=\"note-color-reset btn btn-default\" data-event=\"removeFormat\" data-value=\"foreColor\">',\n                lang.color.resetToDefault,\n                '    </button>',\n                '  </div>',\n                '  <div class=\"note-holder\" data-event=\"foreColor\"/>',\n                '</div>',\n                '</li>'\n              ].join(''),\n              callback: function ($dropdown) {\n                $dropdown.find('.note-holder').each(function () {\n                  var $holder = $(this);\n                  $holder.append(ui.palette({\n                    colors: options.colors,\n                    eventName: $holder.data('event')\n                  }).render());\n                });\n              },\n              click: function (event) {\n                var $button = $(event.target);\n                var eventName = $button.data('event');\n                var value = $button.data('value');\n\n                if (eventName && value) {\n                  var key = eventName === 'backColor' ? 'background-color' : 'color';\n                  var $color = $button.closest('.note-color').find('.note-recent-color');\n                  var $currentButton = $button.closest('.note-color').find('.note-current-color-button');\n\n                  $color.css(key, value);\n                  $currentButton.attr('data-' + eventName, value);\n                  context.invoke('editor.' + eventName, value);\n                }\n              }\n            })\n          ]\n        }).render();\n      });\n\n      context.memo('button.ul',  function () {\n        return ui.button({\n          contents: ui.icon(options.icons.unorderedlist),\n          tooltip: lang.lists.unordered + representShortcut('insertUnorderedList'),\n          click: context.createInvokeHandler('editor.insertUnorderedList')\n        }).render();\n      });\n\n      context.memo('button.ol', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.orderedlist),\n          tooltip: lang.lists.ordered + representShortcut('insertOrderedList'),\n          click:  context.createInvokeHandler('editor.insertOrderedList')\n        }).render();\n      });\n\n      var justifyLeft = ui.button({\n        contents: ui.icon(options.icons.alignLeft),\n        tooltip: lang.paragraph.left + representShortcut('justifyLeft'),\n        click: context.createInvokeHandler('editor.justifyLeft')\n      });\n\n      var justifyCenter = ui.button({\n        contents: ui.icon(options.icons.alignCenter),\n        tooltip: lang.paragraph.center + representShortcut('justifyCenter'),\n        click: context.createInvokeHandler('editor.justifyCenter')\n      });\n\n      var justifyRight = ui.button({\n        contents: ui.icon(options.icons.alignRight),\n        tooltip: lang.paragraph.right + representShortcut('justifyRight'),\n        click: context.createInvokeHandler('editor.justifyRight')\n      });\n\n      var justifyFull = ui.button({\n        contents: ui.icon(options.icons.alignJustify),\n        tooltip: lang.paragraph.justify + representShortcut('justifyFull'),\n        click: context.createInvokeHandler('editor.justifyFull')\n      });\n\n      var outdent = ui.button({\n        contents: ui.icon(options.icons.outdent),\n        tooltip: lang.paragraph.outdent + representShortcut('outdent'),\n        click: context.createInvokeHandler('editor.outdent')\n      });\n\n      var indent = ui.button({\n        contents: ui.icon(options.icons.indent),\n        tooltip: lang.paragraph.indent + representShortcut('indent'),\n        click: context.createInvokeHandler('editor.indent')\n      });\n\n      context.memo('button.justifyLeft', func.invoke(justifyLeft, 'render'));\n      context.memo('button.justifyCenter', func.invoke(justifyCenter, 'render'));\n      context.memo('button.justifyRight', func.invoke(justifyRight, 'render'));\n      context.memo('button.justifyFull', func.invoke(justifyFull, 'render'));\n      context.memo('button.outdent', func.invoke(outdent, 'render'));\n      context.memo('button.indent', func.invoke(indent, 'render'));\n\n      context.memo('button.paragraph', function () {\n        return ui.buttonGroup([\n          ui.button({\n            className: 'dropdown-toggle',\n            contents: ui.icon(options.icons.alignLeft) + ' ' + ui.icon(options.icons.caret, 'span'),\n            tooltip: lang.paragraph.paragraph,\n            data: {\n              toggle: 'dropdown'\n            }\n          }),\n          ui.dropdown([\n            ui.buttonGroup({\n              className: 'note-align',\n              children: [justifyLeft, justifyCenter, justifyRight, justifyFull]\n            }),\n            ui.buttonGroup({\n              className: 'note-list',\n              children: [outdent, indent]\n            })\n          ])\n        ]).render();\n      });\n\n      context.memo('button.height', function () {\n        return ui.buttonGroup([\n          ui.button({\n            className: 'dropdown-toggle',\n            contents: ui.icon(options.icons.textHeight) + ' ' + ui.icon(options.icons.caret, 'span'),\n            tooltip: lang.font.height,\n            data: {\n              toggle: 'dropdown'\n            }\n          }),\n          ui.dropdownCheck({\n            items: options.lineHeights,\n            checkClassName: options.icons.menuCheck,\n            className: 'dropdown-line-height',\n            click: context.createInvokeHandler('editor.lineHeight')\n          })\n        ]).render();\n      });\n\n      context.memo('button.table', function () {\n        return ui.buttonGroup([\n          ui.button({\n            className: 'dropdown-toggle',\n            contents: ui.icon(options.icons.table) + ' ' + ui.icon(options.icons.caret, 'span'),\n            tooltip: lang.table.table,\n            data: {\n              toggle: 'dropdown'\n            }\n          }),\n          ui.dropdown({\n            className: 'note-table',\n            items: [\n              '<div class=\"note-dimension-picker\">',\n              '  <div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"/>',\n              '  <div class=\"note-dimension-picker-highlighted\"/>',\n              '  <div class=\"note-dimension-picker-unhighlighted\"/>',\n              '</div>',\n              '<div class=\"note-dimension-display\">1 x 1</div>'\n            ].join('')\n          })\n        ], {\n          callback: function ($node) {\n            var $catcher = $node.find('.note-dimension-picker-mousecatcher');\n            $catcher.css({\n              width: options.insertTableMaxSize.col + 'em',\n              height: options.insertTableMaxSize.row + 'em'\n            }).mousedown(context.createInvokeHandler('editor.insertTable'))\n              .on('mousemove', self.tableMoveHandler);\n          }\n        }).render();\n      });\n\n      context.memo('button.link', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.link),\n          tooltip: lang.link.link + representShortcut('linkDialog.show'),\n          click: context.createInvokeHandler('linkDialog.show')\n        }).render();\n      });\n\n      context.memo('button.picture', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.picture),\n          tooltip: lang.image.image,\n        }).render();\n      });\n\n      context.memo('button.video', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.video),\n          tooltip: lang.video.video,\n          click: context.createInvokeHandler('videoDialog.show')\n        }).render();\n      });\n\n      context.memo('button.hr', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.minus),\n          tooltip: lang.hr.insert + representShortcut('insertHorizontalRule'),\n          click: context.createInvokeHandler('editor.insertHorizontalRule')\n        }).render();\n      });\n\n      context.memo('button.fullscreen', function () {\n        return ui.button({\n          className: 'btn-fullscreen',\n          contents: ui.icon(options.icons.arrowsAlt),\n          tooltip: lang.options.fullscreen,\n          click: context.createInvokeHandler('fullscreen.toggle')\n        }).render();\n      });\n\n      context.memo('button.codeview', function () {\n        return ui.button({\n          className: 'btn-codeview',\n          contents: ui.icon(options.icons.code),\n          tooltip: lang.options.codeview,\n          click: context.createInvokeHandler('codeview.toggle')\n        }).render();\n      });\n\n      context.memo('button.redo', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.redo),\n          tooltip: lang.history.redo + representShortcut('redo'),\n          click: context.createInvokeHandler('editor.redo')\n        }).render();\n      });\n\n      context.memo('button.undo', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.undo),\n          tooltip: lang.history.undo + representShortcut('undo'),\n          click: context.createInvokeHandler('editor.undo')\n        }).render();\n      });\n\n      context.memo('button.help', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.question),\n          tooltip: lang.options.help,\n          click: context.createInvokeHandler('helpDialog.show')\n        }).render();\n      });\n    };\n\n    /**\n     * image : [\n     *   ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\n     *   ['float', ['floatLeft', 'floatRight', 'floatNone' ]],\n     *   ['remove', ['removeMedia']]\n     * ],\n     */\n    this.addImagePopoverButtons = function () {\n      // Image Size Buttons\n      context.memo('button.imageSize100', function () {\n        return ui.button({\n          contents: '<span class=\"note-fontsize-10\">100%</span>',\n          tooltip: lang.image.resizeFull,\n          click: context.createInvokeHandler('editor.resize', '1')\n        }).render();\n      });\n      context.memo('button.imageSize50', function () {\n        return  ui.button({\n          contents: '<span class=\"note-fontsize-10\">50%</span>',\n          tooltip: lang.image.resizeHalf,\n          click: context.createInvokeHandler('editor.resize', '0.5')\n        }).render();\n      });\n      context.memo('button.imageSize25', function () {\n        return ui.button({\n          contents: '<span class=\"note-fontsize-10\">25%</span>',\n          tooltip: lang.image.resizeQuarter,\n          click: context.createInvokeHandler('editor.resize', '0.25')\n        }).render();\n      });\n\n      // Float Buttons\n      context.memo('button.floatLeft', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.alignLeft),\n          tooltip: lang.image.floatLeft,\n          click: context.createInvokeHandler('editor.floatMe', 'left')\n        }).render();\n      });\n\n      context.memo('button.floatRight', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.alignRight),\n          tooltip: lang.image.floatRight,\n          click: context.createInvokeHandler('editor.floatMe', 'right')\n        }).render();\n      });\n\n      context.memo('button.floatNone', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.alignJustify),\n          tooltip: lang.image.floatNone,\n          click: context.createInvokeHandler('editor.floatMe', 'none')\n        }).render();\n      });\n\n      // Remove Buttons\n      context.memo('button.removeMedia', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.trash),\n          tooltip: lang.image.remove,\n          click: context.createInvokeHandler('editor.removeMedia')\n        }).render();\n      });\n    };\n\n    this.addLinkPopoverButtons = function () {\n      context.memo('button.linkDialogShow', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.link),\n          tooltip: lang.link.edit,\n          click: context.createInvokeHandler('linkDialog.show')\n        }).render();\n      });\n\n      context.memo('button.unlink', function () {\n        return ui.button({\n          contents: ui.icon(options.icons.unlink),\n          tooltip: lang.link.unlink,\n          click: context.createInvokeHandler('editor.unlink')\n        }).render();\n      });\n    };\n\n    this.build = function ($container, groups) {\n      for (var groupIdx = 0, groupLen = groups.length; groupIdx < groupLen; groupIdx++) {\n        var group = groups[groupIdx];\n        var groupName = group[0];\n        var buttons = group[1];\n\n        var $group = ui.buttonGroup({\n          className: 'note-' + groupName\n        }).render();\n\n        for (var idx = 0, len = buttons.length; idx < len; idx++) {\n          var button = context.memo('button.' + buttons[idx]);\n          if (button) {\n            $group.append(typeof button === 'function' ? button(context) : button);\n          }\n        }\n        $group.appendTo($container);\n      }\n    };\n\n    this.updateCurrentStyle = function () {\n      var styleInfo = context.invoke('editor.currentStyle');\n      this.updateBtnStates({\n        '.note-btn-bold': function () {\n          return styleInfo['font-bold'] === 'bold';\n        },\n        '.note-btn-italic': function () {\n          return styleInfo['font-italic'] === 'italic';\n        },\n        '.note-btn-underline': function () {\n          return styleInfo['font-underline'] === 'underline';\n        },\n        '.note-btn-subscript': function () {\n          return styleInfo['font-subscript'] === 'subscript';\n        },\n        '.note-btn-superscript': function () {\n          return styleInfo['font-superscript'] === 'superscript';\n        },\n        '.note-btn-strikethrough': function () {\n          return styleInfo['font-strikethrough'] === 'strikethrough';\n        }\n      });\n\n      if (styleInfo['font-family']) {\n        var fontNames = styleInfo['font-family'].split(',').map(function (name) {\n          return name.replace(/[\\'\\\"]/g, '')\n            .replace(/\\s+$/, '')\n            .replace(/^\\s+/, '');\n        });\n        var fontName = list.find(fontNames, self.isFontInstalled);\n\n        $toolbar.find('.dropdown-fontname li a').each(function () {\n          // always compare string to avoid creating another func.\n          var isChecked = ($(this).data('value') + '') === (fontName + '');\n          this.className = isChecked ? 'checked' : '';\n        });\n        $toolbar.find('.note-current-fontname').text(fontName);\n      }\n\n      if (styleInfo['font-size']) {\n        var fontSize = styleInfo['font-size'];\n        $toolbar.find('.dropdown-fontsize li a').each(function () {\n          // always compare with string to avoid creating another func.\n          var isChecked = ($(this).data('value') + '') === (fontSize + '');\n          this.className = isChecked ? 'checked' : '';\n        });\n        $toolbar.find('.note-current-fontsize').text(fontSize);\n      }\n\n      if (styleInfo['line-height']) {\n        var lineHeight = styleInfo['line-height'];\n        $toolbar.find('.dropdown-line-height li a').each(function () {\n          // always compare with string to avoid creating another func.\n          var isChecked = ($(this).data('value') + '') === (lineHeight + '');\n          this.className = isChecked ? 'checked' : '';\n        });\n      }\n    };\n\n    this.updateBtnStates = function (infos) {\n      $.each(infos, function (selector, pred) {\n        ui.toggleBtnActive($toolbar.find(selector), pred());\n      });\n    };\n\n    this.tableMoveHandler = function (event) {\n      var PX_PER_EM = 18;\n      var $picker = $(event.target.parentNode); // target is mousecatcher\n      var $dimensionDisplay = $picker.next();\n      var $catcher = $picker.find('.note-dimension-picker-mousecatcher');\n      var $highlighted = $picker.find('.note-dimension-picker-highlighted');\n      var $unhighlighted = $picker.find('.note-dimension-picker-unhighlighted');\n\n      var posOffset;\n      // HTML5 with jQuery - e.offsetX is undefined in Firefox\n      if (event.offsetX === undefined) {\n        var posCatcher = $(event.target).offset();\n        posOffset = {\n          x: event.pageX - posCatcher.left,\n          y: event.pageY - posCatcher.top\n        };\n      } else {\n        posOffset = {\n          x: event.offsetX,\n          y: event.offsetY\n        };\n      }\n\n      var dim = {\n        c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n        r: Math.ceil(posOffset.y / PX_PER_EM) || 1\n      };\n\n      $highlighted.css({ width: dim.c + 'em', height: dim.r + 'em' });\n      $catcher.data('value', dim.c + 'x' + dim.r);\n\n      if (3 < dim.c && dim.c < options.insertTableMaxSize.col) {\n        $unhighlighted.css({ width: dim.c + 1 + 'em'});\n      }\n\n      if (3 < dim.r && dim.r < options.insertTableMaxSize.row) {\n        $unhighlighted.css({ height: dim.r + 1 + 'em'});\n      }\n\n      $dimensionDisplay.html(dim.c + ' x ' + dim.r);\n    };\n  };\n\n  var Toolbar = function (context) {\n    var ui = $.summernote.ui;\n\n    var $note = context.layoutInfo.note;\n    var $toolbar = context.layoutInfo.toolbar;\n    var options = context.options;\n\n    this.shouldInitialize = function () {\n      return !options.airMode;\n    };\n\n    this.initialize = function () {\n      options.toolbar = options.toolbar || [];\n\n      if (!options.toolbar.length) {\n        $toolbar.hide();\n      } else {\n        context.invoke('buttons.build', $toolbar, options.toolbar);\n      }\n\n      if (options.toolbarContainer) {\n        $toolbar.appendTo(options.toolbarContainer);\n      }\n\n      $note.on('summernote.keyup summernote.mouseup summernote.change', function () {\n        context.invoke('buttons.updateCurrentStyle');\n      });\n\n      context.invoke('buttons.updateCurrentStyle');\n    };\n\n    this.destroy = function () {\n      $toolbar.children().remove();\n    };\n\n    this.updateFullscreen = function (isFullscreen) {\n      ui.toggleBtnActive($toolbar.find('.btn-fullscreen'), isFullscreen);\n    };\n\n    this.updateCodeview = function (isCodeview) {\n      ui.toggleBtnActive($toolbar.find('.btn-codeview'), isCodeview);\n      if (isCodeview) {\n        this.deactivate();\n      } else {\n        this.activate();\n      }\n    };\n\n    this.activate = function (isIncludeCodeview) {\n      var $btn = $toolbar.find('button');\n      if (!isIncludeCodeview) {\n        $btn = $btn.not('.btn-codeview');\n      }\n      ui.toggleBtn($btn, true);\n    };\n\n    this.deactivate = function (isIncludeCodeview) {\n      var $btn = $toolbar.find('button');\n      if (!isIncludeCodeview) {\n        $btn = $btn.not('.btn-codeview');\n      }\n      ui.toggleBtn($btn, false);\n    };\n  };\n\n  var LinkDialog = function (context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $editor = context.layoutInfo.editor;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    this.initialize = function () {\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\n\n      var body = '<div class=\"form-group\">' +\n                   '<span>' + lang.link.textToDisplay + '</span>' +\n                   '<input class=\"note-link-text form-control\" type=\"text\" />' +\n                 '</div>' +\n                 '<div class=\"form-group\">' +\n                   '<span>' + lang.link.url + '</span>' +\n                   '<input class=\"note-link-url form-control\" type=\"text\" value=\"http://\" />' +\n                 '</div>' +\n                 (!options.disableLinkTarget ?\n                   '<div class=\"checkbox\">' +\n                     '<label>' + '<input type=\"checkbox\" checked> ' + lang.link.openInNewWindow + '</label>' +\n                   '</div>' : ''\n                 );\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-link-btn disabled\" disabled>' + lang.link.insert + '</button>';\n\n      this.$dialog = ui.dialog({\n        className: 'link-dialog',\n        title: lang.link.link,\n        action: lang.link.insert,\n        button_class: 'note-link-btn',\n        fade: options.dialogsFade,\n        body: body,\n      }).render().appendTo($container);\n    };\n\n    this.destroy = function () {\n      ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n    };\n\n    this.bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    /**\n     * toggle update button\n     */\n    this.toggleLinkBtn = function ($linkBtn, $linkText, $linkUrl) {\n      ui.toggleBtn($linkBtn, $linkText.val() && $linkUrl.val());\n    };\n\n    /**\n     * Show link dialog and set event handlers on dialog controls.\n     *\n     * @param {Object} linkInfo\n     * @return {Promise}\n     */\n    this.showLinkDialog = function (linkInfo) {\n      return $.Deferred(function (deferred) {\n        var $linkText = self.$dialog.find('.note-link-text'),\n        $linkUrl = self.$dialog.find('.note-link-url'),\n        $linkBtn = self.$dialog.find('.note-link-btn'),\n        $openInNewWindow = self.$dialog.find('input[type=checkbox]');\n\n        ui.onDialogShown(self.$dialog, function () {\n          context.triggerEvent('dialog.shown');\n\n          // if no url was given, copy text to url\n          if (!linkInfo.url) {\n            linkInfo.url = linkInfo.text;\n          }\n\n          $linkText.val(linkInfo.text);\n\n          var handleLinkTextUpdate = function () {\n            self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n            // if linktext was modified by keyup,\n            // stop cloning text from linkUrl\n            linkInfo.text = $linkText.val();\n          };\n\n          $linkText.on('input', handleLinkTextUpdate).on('paste', function () {\n            setTimeout(handleLinkTextUpdate, 0);\n          });\n\n          var handleLinkUrlUpdate = function () {\n            self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n            // display same link on `Text to display` input\n            // when create a new link\n            if (!linkInfo.text) {\n              $linkText.val($linkUrl.val());\n            }\n          };\n\n          $linkUrl.on('input', handleLinkUrlUpdate).on('paste', function () {\n            setTimeout(handleLinkUrlUpdate, 0);\n          }).val(linkInfo.url).trigger('focus');\n\n          self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n          self.bindEnterKey($linkUrl, $linkBtn);\n          self.bindEnterKey($linkText, $linkBtn);\n\n          $openInNewWindow.prop('checked', linkInfo.isNewWindow);\n\n          $linkBtn.one('click', function (event) {\n            event.preventDefault();\n\n            deferred.resolve({\n              range: linkInfo.range,\n              url: $linkUrl.val(),\n              text: $linkText.val(),\n              isNewWindow: $openInNewWindow.is(':checked')\n            });\n            self.$dialog.modal('hide');\n          });\n        });\n\n        ui.onDialogHidden(self.$dialog, function () {\n          // detach events\n          $linkText.off('input paste keypress');\n          $linkUrl.off('input paste keypress');\n          $linkBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        });\n\n        ui.showDialog(self.$dialog);\n      }).promise();\n    };\n\n    /**\n     * @param {Object} layoutInfo\n     */\n    this.show = function () {\n      var linkInfo = context.invoke('editor.getLinkInfo');\n\n      context.invoke('editor.saveRange');\n      this.showLinkDialog(linkInfo).then(function (linkInfo) {\n        context.invoke('editor.restoreRange');\n        context.invoke('editor.createLink', linkInfo);\n      }).fail(function () {\n        context.invoke('editor.restoreRange');\n      });\n    };\n    context.memo('help.linkDialog.show', options.langInfo.help['linkDialog.show']);\n  };\n\n  var LinkPopover = function (context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var options = context.options;\n\n    this.events = {\n      'summernote.keyup summernote.mouseup summernote.change summernote.scroll': function () {\n        self.update();\n      },\n      'summernote.dialog.shown': function () {\n        self.hide();\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return !list.isEmpty(options.popover.link);\n    };\n\n    this.initialize = function () {\n      this.$popover = ui.popover({\n        className: 'note-link-popover',\n        callback: function ($node) {\n          var $content = $node.find('.popover-content');\n          $content.prepend('<span><a target=\"_blank\"></a>&nbsp;</span>');\n        }\n      }).render().appendTo('body');\n      var $content = this.$popover.find('.popover-content');\n\n      context.invoke('buttons.build', $content, options.popover.link);\n    };\n\n    this.destroy = function () {\n      this.$popover.remove();\n    };\n\n    this.update = function () {\n      // Prevent focusing on editable when invoke('code') is executed\n      if (!context.invoke('editor.hasFocus')) {\n        this.hide();\n        return;\n      }\n\n      var rng = context.invoke('editor.createRange');\n      if (rng.isCollapsed() && rng.isOnAnchor()) {\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n        var href = $(anchor).attr('href');\n        this.$popover.find('a').attr('href', href).html(href);\n\n        var pos = dom.posFromPlaceholder(anchor);\n        this.$popover.css({\n          display: 'block',\n          left: pos.left,\n          top: pos.top\n        });\n      } else {\n        this.hide();\n      }\n    };\n\n    this.hide = function () {\n      this.$popover.hide();\n    };\n  };\n\n  var ImageDialog = function (context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $editor = context.layoutInfo.editor;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    this.initialize = function () {\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\n\n      var imageLimitation = '';\n      if (options.maximumImageFileSize) {\n        var unit = Math.floor(Math.log(options.maximumImageFileSize) / Math.log(1024));\n        var readableSize = (options.maximumImageFileSize / Math.pow(1024, unit)).toFixed(2) * 1 +\n                           ' ' + ' KMGTP'[unit] + 'B';\n        imageLimitation = '<small>' + lang.image.maximumFileSize + ' : ' + readableSize + '</small>';\n      }\n\n      var body = '<div class=\"form-group note-group-select-from-files\">' +\n                   '<label>' + lang.image.selectFromFiles + '</label>' +\n                   '<input class=\"note-image-input form-control\" type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\" />' +\n                   imageLimitation +\n                 '</div>' +\n                 '<div class=\"form-group note-group-image-url\" style=\"overflow:auto;\">' +\n                   '<label>' + lang.image.url + '</label>' +\n                   '<input class=\"note-image-url form-control col-md-12\" type=\"text\" />' +\n                 '</div>';\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-image-btn disabled\" disabled>' + lang.image.insert + '</button>';\n\n      this.$dialog = ui.dialog({\n        title: lang.image.image,\n        action: lang.image.insert,\n        button_class: 'note-image-btn',\n        fade: options.dialogsFade,\n        body: body,\n      }).render().appendTo($container);\n    };\n\n    this.destroy = function () {\n      ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n    };\n\n    this.bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    this.show = function () {\n      context.invoke('editor.saveRange');\n      this.showImageDialog().then(function (data) {\n        // [workaround] hide dialog before restore range for IE range focus\n        ui.hideDialog(self.$dialog);\n        context.invoke('editor.restoreRange');\n\n        if (typeof data === 'string') { // image url\n          context.invoke('editor.insertImage', data);\n        } else { // array of files\n          context.invoke('editor.insertImagesOrCallback', data);\n        }\n      }).fail(function () {\n        context.invoke('editor.restoreRange');\n      });\n    };\n\n    /**\n     * show image dialog\n     *\n     * @param {jQuery} $dialog\n     * @return {Promise}\n     */\n    this.showImageDialog = function () {\n      return $.Deferred(function (deferred) {\n        var $imageInput = self.$dialog.find('.note-image-input'),\n            $imageUrl = self.$dialog.find('.note-image-url'),\n            $imageBtn = self.$dialog.find('.note-image-btn');\n\n        ui.onDialogShown(self.$dialog, function () {\n          context.triggerEvent('dialog.shown');\n\n          // Cloning imageInput to clear element.\n          $imageInput.replaceWith($imageInput.clone()\n            .on('change', function () {\n              deferred.resolve(this.files || this.value);\n            })\n            .val('')\n          );\n\n          $imageBtn.click(function (event) {\n            event.preventDefault();\n\n            deferred.resolve($imageUrl.val());\n          });\n\n          $imageUrl.on('keyup paste', function () {\n            var url = $imageUrl.val();\n            ui.toggleBtn($imageBtn, url);\n          }).val('').trigger('focus');\n          self.bindEnterKey($imageUrl, $imageBtn);\n        });\n\n        ui.onDialogHidden(self.$dialog, function () {\n          $imageInput.off('change');\n          $imageUrl.off('keyup paste keypress');\n          $imageBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        });\n\n        ui.showDialog(self.$dialog);\n      });\n    };\n  };\n\n  var ImagePopover = function (context) {\n    var ui = $.summernote.ui;\n\n    var options = context.options;\n\n    this.shouldInitialize = function () {\n      return !list.isEmpty(options.popover.image);\n    };\n\n    this.initialize = function () {\n      this.$popover = ui.popover({\n        className: 'note-image-popover'\n      }).render().appendTo('body');\n      var $content = this.$popover.find('.popover-content');\n\n      context.invoke('buttons.build', $content, options.popover.image);\n    };\n\n    this.destroy = function () {\n      this.$popover.remove();\n    };\n\n    this.update = function (target) {\n      if (dom.isImg(target)) {\n        var pos = dom.posFromPlaceholder(target);\n        this.$popover.css({\n          display: 'block',\n          left: pos.left,\n          top: pos.top\n        });\n      } else {\n        this.hide();\n      }\n    };\n\n    this.hide = function () {\n      this.$popover.hide();\n    };\n  };\n\n  var VideoDialog = function (context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $editor = context.layoutInfo.editor;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    this.initialize = function () {\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\n\n      var body = '<div class=\"form-group row-fluid\">' +\n          '<span>' + lang.video.url + ' <small class=\"text-muted\">' + lang.video.providers + '</small></span>' +\n          '<input class=\"note-video-url form-control span12\" type=\"text\" />' +\n          '</div>';\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-video-btn disabled\" disabled>' + lang.video.insert + '</button>';\n\n      this.$dialog = ui.dialog({\n        title: lang.video.video,\n        action: lang.video.insert,\n        button_class: 'note-video-btn',\n        fade: options.dialogsFade,\n        body: body,\n      }).render().appendTo($container);\n    };\n\n    this.destroy = function () {\n      ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n    };\n\n    this.bindEnterKey = function ($input, $btn) {\n      $input.on('keypress', function (event) {\n        if (event.keyCode === key.code.ENTER) {\n          $btn.trigger('click');\n        }\n      });\n    };\n\n    this.createVideoNode = function (url) {\n      // video url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4, ogg, webm)\n      var ytRegExp = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n      var ytMatch = url.match(ytRegExp);\n\n      var igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\n      var igMatch = url.match(igRegExp);\n\n      var vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\n      var vMatch = url.match(vRegExp);\n\n      var vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*([0-9]{6,11})[?]?.*/;\n      var vimMatch = url.match(vimRegExp);\n\n      var dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\n      var dmMatch = url.match(dmRegExp);\n\n      var youkuRegExp = /\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/;\n      var youkuMatch = url.match(youkuRegExp);\n\n      var mp4RegExp = /^.+.(mp4|m4v)$/;\n      var mp4Match = url.match(mp4RegExp);\n\n      var oggRegExp = /^.+.(ogg|ogv)$/;\n      var oggMatch = url.match(oggRegExp);\n\n      var webmRegExp = /^.+.(webm)$/;\n      var webmMatch = url.match(webmRegExp);\n\n      var $video;\n      if (ytMatch && ytMatch[1].length === 11) {\n        var youtubeId = ytMatch[1];\n        $video = $('<iframe>')\n            .attr('frameborder', 0)\n            .attr('src', '//www.youtube.com/embed/' + youtubeId)\n            .attr('width', '640').attr('height', '360');\n      } else if (igMatch && igMatch[0].length) {\n        $video = $('<iframe>')\n            .attr('frameborder', 0)\n            .attr('src', 'https://instagram.com/p/' + igMatch[1] + '/embed/')\n            .attr('width', '612').attr('height', '710')\n            .attr('scrolling', 'no')\n            .attr('allowtransparency', 'true');\n      } else if (vMatch && vMatch[0].length) {\n        $video = $('<iframe>')\n            .attr('frameborder', 0)\n            .attr('src', vMatch[0] + '/embed/simple')\n            .attr('width', '600').attr('height', '600')\n            .attr('class', 'vine-embed');\n      } else if (vimMatch && vimMatch[3].length) {\n        $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n            .attr('frameborder', 0)\n            .attr('src', '//player.vimeo.com/video/' + vimMatch[3])\n            .attr('width', '640').attr('height', '360');\n      } else if (dmMatch && dmMatch[2].length) {\n        $video = $('<iframe>')\n            .attr('frameborder', 0)\n            .attr('src', '//www.dailymotion.com/embed/video/' + dmMatch[2])\n            .attr('width', '640').attr('height', '360');\n      } else if (youkuMatch && youkuMatch[1].length) {\n        $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n            .attr('frameborder', 0)\n            .attr('height', '498')\n            .attr('width', '510')\n            .attr('src', '//player.youku.com/embed/' + youkuMatch[1]);\n      } else if (mp4Match || oggMatch || webmMatch) {\n        $video = $('<video controls>')\n            .attr('src', url)\n            .attr('width', '640').attr('height', '360');\n      } else {\n        // this is not a known video link. Now what, Cat? Now what?\n        return false;\n      }\n\n      $video.addClass('note-video-clip');\n\n      return $video[0];\n    };\n\n    this.show = function () {\n      var text = context.invoke('editor.getSelectedText');\n      context.invoke('editor.saveRange');\n      this.showVideoDialog(text).then(function (url) {\n        // [workaround] hide dialog before restore range for IE range focus\n        ui.hideDialog(self.$dialog);\n        context.invoke('editor.restoreRange');\n\n        // build node\n        var $node = self.createVideoNode(url);\n\n        if ($node) {\n          // insert video node\n          context.invoke('editor.insertNode', $node);\n        }\n      }).fail(function () {\n        context.invoke('editor.restoreRange');\n      });\n    };\n\n    /**\n     * show image dialog\n     *\n     * @param {jQuery} $dialog\n     * @return {Promise}\n     */\n    this.showVideoDialog = function (text) {\n      return $.Deferred(function (deferred) {\n        var $videoUrl = self.$dialog.find('.note-video-url'),\n            $videoBtn = self.$dialog.find('.note-video-btn');\n\n        ui.onDialogShown(self.$dialog, function () {\n          context.triggerEvent('dialog.shown');\n\n          $videoUrl.val(text).on('input', function () {\n            ui.toggleBtn($videoBtn, $videoUrl.val());\n          }).trigger('focus');\n\n          $videoBtn.click(function (event) {\n            event.preventDefault();\n\n            deferred.resolve($videoUrl.val());\n          });\n\n          self.bindEnterKey($videoUrl, $videoBtn);\n        });\n\n        ui.onDialogHidden(self.$dialog, function () {\n          $videoUrl.off('input');\n          $videoBtn.off('click');\n\n          if (deferred.state() === 'pending') {\n            deferred.reject();\n          }\n        });\n\n        ui.showDialog(self.$dialog);\n      });\n    };\n  };\n\n  var HelpDialog = function (context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var $editor = context.layoutInfo.editor;\n    var options = context.options;\n    var lang = options.langInfo;\n\n    this.createShortCutList = function () {\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\n      return Object.keys(keyMap).map(function (key) {\n        var command = keyMap[key];\n        var $row = $('<div><div class=\"help-list-item\"/></div>');\n        $row.append($('<label><kbd>' + key + '</kdb></label>').css({\n          'width': 180,\n          'margin-right': 10\n        })).append($('<span/>').html(context.memo('help.' + command) || command));\n        return $row.html();\n      }).join('');\n    };\n\n    this.initialize = function () {\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\n\n      var body = [\n        '<p class=\"text-center\">',\n        '<a href=\"http://summernote.org/\" target=\"_blank\">Summernote 0.8.2</a> · ',\n        '<a href=\"https://github.com/summernote/summernote\" target=\"_blank\">Project</a> · ',\n        '<a href=\"https://github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>',\n        '</p>'\n      ].join('');\n\n      this.$dialog = ui.dialog({\n        title: lang.options.help,\n        fade: options.dialogsFade,\n        body: this.createShortCutList(),\n        footer: body,\n        callback: function ($node) {\n          $node.find('.modal-body').css({\n            'max-height': 300,\n            'overflow': 'scroll'\n          });\n        }\n      }).render().appendTo($container);\n    };\n\n    this.destroy = function () {\n      ui.hideDialog(this.$dialog);\n      this.$dialog.remove();\n    };\n\n    /**\n     * show help dialog\n     *\n     * @return {Promise}\n     */\n    this.showHelpDialog = function () {\n      return $.Deferred(function (deferred) {\n        ui.onDialogShown(self.$dialog, function () {\n          context.triggerEvent('dialog.shown');\n          deferred.resolve();\n        });\n        ui.showDialog(self.$dialog);\n      }).promise();\n    };\n\n    this.show = function () {\n      context.invoke('editor.saveRange');\n      this.showHelpDialog().then(function () {\n        context.invoke('editor.restoreRange');\n      });\n    };\n  };\n\n  var AirPopover = function (context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var options = context.options;\n\n    var AIR_MODE_POPOVER_X_OFFSET = 20;\n\n    this.events = {\n      'summernote.keyup summernote.mouseup summernote.scroll': function () {\n        self.update();\n      },\n      'summernote.change summernote.dialog.shown': function () {\n        self.hide();\n      },\n      'summernote.focusout': function (we, e) {\n        // [workaround] Firefox doesn't support relatedTarget on focusout\n        //  - Ignore hide action on focus out in FF.\n        if (agent.isFF) {\n          return;\n        }\n\n        if (!e.relatedTarget || !dom.ancestor(e.relatedTarget, func.eq(self.$popover[0]))) {\n          self.hide();\n        }\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return options.airMode && !list.isEmpty(options.popover.air);\n    };\n\n    this.initialize = function () {\n      this.$popover = ui.popover({\n        className: 'note-air-popover'\n      }).render().appendTo('body');\n      var $content = this.$popover.find('.popover-content');\n\n      context.invoke('buttons.build', $content, options.popover.air);\n    };\n\n    this.destroy = function () {\n      this.$popover.remove();\n    };\n\n    this.update = function () {\n      var styleInfo = context.invoke('editor.currentStyle');\n      if (styleInfo.range && !styleInfo.range.isCollapsed()) {\n        var rect = list.last(styleInfo.range.getClientRects());\n        if (rect) {\n          var bnd = func.rect2bnd(rect);\n          this.$popover.css({\n            display: 'block',\n            left: Math.max(bnd.left + bnd.width / 2, 0) - AIR_MODE_POPOVER_X_OFFSET,\n            top: bnd.top + bnd.height\n          });\n        }\n      } else {\n        this.hide();\n      }\n    };\n\n    this.hide = function () {\n      this.$popover.hide();\n    };\n  };\n\n  var HintPopover = function (context) {\n    var self = this;\n    var ui = $.summernote.ui;\n\n    var POPOVER_DIST = 5;\n    var hint = context.options.hint || [];\n    var direction = context.options.hintDirection || 'bottom';\n    var hints = $.isArray(hint) ? hint : [hint];\n\n    this.events = {\n      'summernote.keyup': function (we, e) {\n        if (!e.isDefaultPrevented()) {\n          self.handleKeyup(e);\n        }\n      },\n      'summernote.keydown': function (we, e) {\n        self.handleKeydown(e);\n      },\n      'summernote.dialog.shown': function () {\n        self.hide();\n      }\n    };\n\n    this.shouldInitialize = function () {\n      return hints.length > 0;\n    };\n\n    this.initialize = function () {\n      this.lastWordRange = null;\n      this.$popover = ui.popover({\n        className: 'note-hint-popover',\n        hideArrow: true,\n        direction: ''\n      }).render().appendTo('body');\n\n      this.$popover.hide();\n\n      this.$content = this.$popover.find('.popover-content');\n\n      this.$content.on('click', '.note-hint-item', function () {\n        self.$content.find('.active').removeClass('active');\n        $(this).addClass('active');\n        self.replace();\n      });\n    };\n\n    this.destroy = function () {\n      this.$popover.remove();\n    };\n\n    this.selectItem = function ($item) {\n      this.$content.find('.active').removeClass('active');\n      $item.addClass('active');\n\n      this.$content[0].scrollTop = $item[0].offsetTop - (this.$content.innerHeight() / 2);\n    };\n\n    this.moveDown = function () {\n      var $current = this.$content.find('.note-hint-item.active');\n      var $next = $current.next();\n\n      if ($next.length) {\n        this.selectItem($next);\n      } else {\n        var $nextGroup = $current.parent().next();\n\n        if (!$nextGroup.length) {\n          $nextGroup = this.$content.find('.note-hint-group').first();\n        }\n\n        this.selectItem($nextGroup.find('.note-hint-item').first());\n      }\n    };\n\n    this.moveUp = function () {\n      var $current = this.$content.find('.note-hint-item.active');\n      var $prev = $current.prev();\n\n      if ($prev.length) {\n        this.selectItem($prev);\n      } else {\n        var $prevGroup = $current.parent().prev();\n\n        if (!$prevGroup.length) {\n          $prevGroup = this.$content.find('.note-hint-group').last();\n        }\n\n        this.selectItem($prevGroup.find('.note-hint-item').last());\n      }\n    };\n\n    this.replace = function () {\n      var $item = this.$content.find('.note-hint-item.active');\n\n      if ($item.length) {\n        var node = this.nodeFromItem($item);\n        this.lastWordRange.insertNode(node);\n        range.createFromNode(node).collapse().select();\n\n        this.lastWordRange = null;\n        this.hide();\n        context.invoke('editor.focus');\n      }\n\n    };\n\n    this.nodeFromItem = function ($item) {\n      var hint = hints[$item.data('index')];\n      var item = $item.data('item');\n      var node = hint.content ? hint.content(item) : item;\n      if (typeof node === 'string') {\n        node = dom.createText(node);\n      }\n      return node;\n    };\n\n    this.createItemTemplates = function (hintIdx, items) {\n      var hint = hints[hintIdx];\n      return items.map(function (item, idx) {\n        var $item = $('<div class=\"note-hint-item\"/>');\n        $item.append(hint.template ? hint.template(item) : item + '');\n        $item.data({\n          'index': hintIdx,\n          'item': item\n        });\n\n        if (hintIdx === 0 && idx === 0) {\n          $item.addClass('active');\n        }\n        return $item;\n      });\n    };\n\n    this.handleKeydown = function (e) {\n      if (!this.$popover.is(':visible')) {\n        return;\n      }\n\n      if (e.keyCode === key.code.ENTER) {\n        e.preventDefault();\n        this.replace();\n      } else if (e.keyCode === key.code.UP) {\n        e.preventDefault();\n        this.moveUp();\n      } else if (e.keyCode === key.code.DOWN) {\n        e.preventDefault();\n        this.moveDown();\n      }\n    };\n\n    this.searchKeyword = function (index, keyword, callback) {\n      var hint = hints[index];\n      if (hint && hint.match.test(keyword) && hint.search) {\n        var matches = hint.match.exec(keyword);\n        hint.search(matches[1], callback);\n      } else {\n        callback();\n      }\n    };\n\n    this.createGroup = function (idx, keyword) {\n      var $group = $('<div class=\"note-hint-group note-hint-group-' + idx + '\"/>');\n      this.searchKeyword(idx, keyword, function (items) {\n        items = items || [];\n        if (items.length) {\n          $group.html(self.createItemTemplates(idx, items));\n          self.show();\n        }\n      });\n\n      return $group;\n    };\n\n    this.handleKeyup = function (e) {\n      if (list.contains([key.code.ENTER, key.code.UP, key.code.DOWN], e.keyCode)) {\n        if (e.keyCode === key.code.ENTER) {\n          if (this.$popover.is(':visible')) {\n            return;\n          }\n        }\n      } else {\n        var wordRange = context.invoke('editor.createRange').getWordRange();\n        var keyword = wordRange.toString();\n        if (hints.length && keyword) {\n          this.$content.empty();\n\n          var bnd = func.rect2bnd(list.last(wordRange.getClientRects()));\n          if (bnd) {\n\n            this.$popover.hide();\n\n            this.lastWordRange = wordRange;\n\n            hints.forEach(function (hint, idx) {\n              if (hint.match.test(keyword)) {\n                self.createGroup(idx, keyword).appendTo(self.$content);\n              }\n            });\n\n            // set position for popover after group is created\n            if (direction === 'top') {\n              this.$popover.css({\n                left: bnd.left,\n                top: bnd.top - this.$popover.outerHeight() - POPOVER_DIST\n              });\n            } else {\n              this.$popover.css({\n                left: bnd.left,\n                top: bnd.top + bnd.height + POPOVER_DIST\n              });\n            }\n\n          }\n        } else {\n          this.hide();\n        }\n      }\n    };\n\n    this.show = function () {\n      this.$popover.show();\n    };\n\n    this.hide = function () {\n      this.$popover.hide();\n    };\n  };\n\n\n  $.summernote = $.extend($.summernote, {\n    version: '0.8.2',\n    ui: ui,\n    dom: dom,\n\n    plugins: {},\n\n    options: {\n      modules: {\n        'editor': Editor,\n        'clipboard': Clipboard,\n        'dropzone': Dropzone,\n        'codeview': Codeview,\n        'statusbar': Statusbar,\n        'fullscreen': Fullscreen,\n        'handle': Handle,\n        // FIXME: HintPopover must be front of autolink\n        //  - Script error about range when Enter key is pressed on hint popover\n        'hintPopover': HintPopover,\n        'autoLink': AutoLink,\n        'autoSync': AutoSync,\n        'placeholder': Placeholder,\n        'buttons': Buttons,\n        'toolbar': Toolbar,\n        'linkDialog': LinkDialog,\n        'linkPopover': LinkPopover,\n        'imageDialog': ImageDialog,\n        'imagePopover': ImagePopover,\n        'videoDialog': VideoDialog,\n        'helpDialog': HelpDialog,\n        'airPopover': AirPopover\n      },\n\n      buttons: {},\n\n      lang: 'en-US',\n\n      // toolbar\n      toolbar: [\n        ['style', ['style']],\n        ['font', ['bold', 'underline', 'clear']],\n        ['fontname', ['fontname']],\n        ['color', ['color']],\n        ['para', ['ul', 'ol', 'paragraph']],\n        ['table', ['table']],\n        ['insert', ['link', 'picture', 'video']],\n        ['view', ['fullscreen', 'codeview', 'help']]\n      ],\n\n      // popover\n      popover: {\n        image: [\n          ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\n          ['float', ['floatLeft', 'floatRight', 'floatNone']],\n          ['remove', ['removeMedia']]\n        ],\n        link: [\n          ['link', ['linkDialogShow', 'unlink']]\n        ],\n        air: [\n          ['color', ['color']],\n          ['font', ['bold', 'underline', 'clear']],\n          ['para', ['ul', 'paragraph']],\n          ['table', ['table']],\n          ['insert', ['link', 'picture']]\n        ]\n      },\n\n      // air mode: inline editor\n      airMode: false,\n\n      width: null,\n      height: null,\n\n      focus: false,\n      tabSize: 4,\n      styleWithSpan: true,\n      shortcuts: true,\n      textareaAutoSync: true,\n      direction: null,\n\n      styleTags: ['p', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n      fontNames: [\n        'Arial', 'Arial Black', 'Comic Sans MS', 'Courier New',\n        'Helvetica Neue', 'Helvetica', 'Impact', 'Lucida Grande',\n        'Tahoma', 'Times New Roman', 'Verdana'\n      ],\n\n      fontSizes: ['8', '9', '10', '11', '12', '14', '18', '24', '36'],\n\n      // pallete colors(n x n)\n      colors: [\n        ['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF', '#F7F7F7', '#FFFFFF'],\n        ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF', '#0000FF', '#9C00FF', '#FF00FF'],\n        ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6', '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'],\n        ['#E79C9C', '#FFC69C', '#FFE79C', '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'],\n        ['#E76363', '#F7AD6B', '#FFD663', '#94BD7B', '#73A5AD', '#6BADDE', '#8C7BC6', '#C67BA5'],\n        ['#CE0000', '#E79439', '#EFC631', '#6BA54A', '#4A7B8C', '#3984C6', '#634AA5', '#A54A7B'],\n        ['#9C0000', '#B56308', '#BD9400', '#397B21', '#104A5A', '#085294', '#311873', '#731842'],\n        ['#630000', '#7B3900', '#846300', '#295218', '#083139', '#003163', '#21104A', '#4A1031']\n      ],\n\n      lineHeights: ['1.0', '1.2', '1.4', '1.5', '1.6', '1.8', '2.0', '3.0'],\n\n      tableClassName: 'table table-bordered',\n\n      insertTableMaxSize: {\n        col: 10,\n        row: 10\n      },\n\n      dialogsInBody: false,\n      dialogsFade: false,\n\n      maximumImageFileSize: null,\n\n      callbacks: {\n        onInit: null,\n        onFocus: null,\n        onBlur: null,\n        onEnter: null,\n        onKeyup: null,\n        onKeydown: null,\n        onImageUpload: null,\n        onImageUploadError: null\n      },\n\n      codemirror: {\n        mode: 'text/html',\n        htmlMode: true,\n        lineNumbers: true\n      },\n\n      keyMap: {\n        pc: {\n          'ENTER': 'insertParagraph',\n          'CTRL+Z': 'undo',\n          'CTRL+Y': 'redo',\n          'TAB': 'tab',\n          'SHIFT+TAB': 'untab',\n          'CTRL+B': 'bold',\n          'CTRL+I': 'italic',\n          'CTRL+U': 'underline',\n          'CTRL+SHIFT+S': 'strikethrough',\n          'CTRL+BACKSLASH': 'removeFormat',\n          'CTRL+SHIFT+L': 'justifyLeft',\n          'CTRL+SHIFT+E': 'justifyCenter',\n          'CTRL+SHIFT+R': 'justifyRight',\n          'CTRL+SHIFT+J': 'justifyFull',\n          'CTRL+SHIFT+NUM7': 'insertUnorderedList',\n          'CTRL+SHIFT+NUM8': 'insertOrderedList',\n          'CTRL+LEFTBRACKET': 'outdent',\n          'CTRL+RIGHTBRACKET': 'indent',\n          'CTRL+NUM0': 'formatPara',\n          'CTRL+NUM1': 'formatH1',\n          'CTRL+NUM2': 'formatH2',\n          'CTRL+NUM3': 'formatH3',\n          'CTRL+NUM4': 'formatH4',\n          'CTRL+NUM5': 'formatH5',\n          'CTRL+NUM6': 'formatH6',\n          'CTRL+ENTER': 'insertHorizontalRule',\n          'CTRL+K': 'linkDialog.show'\n        },\n\n        mac: {\n          'ENTER': 'insertParagraph',\n          'CMD+Z': 'undo',\n          'CMD+SHIFT+Z': 'redo',\n          'TAB': 'tab',\n          'SHIFT+TAB': 'untab',\n          'CMD+B': 'bold',\n          'CMD+I': 'italic',\n          'CMD+U': 'underline',\n          'CMD+SHIFT+S': 'strikethrough',\n          'CMD+BACKSLASH': 'removeFormat',\n          'CMD+SHIFT+L': 'justifyLeft',\n          'CMD+SHIFT+E': 'justifyCenter',\n          'CMD+SHIFT+R': 'justifyRight',\n          'CMD+SHIFT+J': 'justifyFull',\n          'CMD+SHIFT+NUM7': 'insertUnorderedList',\n          'CMD+SHIFT+NUM8': 'insertOrderedList',\n          'CMD+LEFTBRACKET': 'outdent',\n          'CMD+RIGHTBRACKET': 'indent',\n          'CMD+NUM0': 'formatPara',\n          'CMD+NUM1': 'formatH1',\n          'CMD+NUM2': 'formatH2',\n          'CMD+NUM3': 'formatH3',\n          'CMD+NUM4': 'formatH4',\n          'CMD+NUM5': 'formatH5',\n          'CMD+NUM6': 'formatH6',\n          'CMD+ENTER': 'insertHorizontalRule',\n          'CMD+K': 'linkDialog.show'\n        }\n      },\n      icons: {\n        'align': 'note-icon-align',\n        'alignCenter': 'note-icon-align-center',\n        'alignJustify': 'note-icon-align-justify',\n        'alignLeft': 'note-icon-align-left',\n        'alignRight': 'note-icon-align-right',\n        'indent': 'note-icon-align-indent',\n        'outdent': 'note-icon-align-outdent',\n        'arrowsAlt': 'note-icon-arrows-alt',\n        'bold': 'note-icon-bold',\n        'caret': 'note-icon-caret',\n        'circle': 'note-icon-circle',\n        'close': 'note-icon-close',\n        'code': 'note-icon-code',\n        'eraser': 'note-icon-eraser',\n        'font': 'note-icon-font',\n        'frame': 'note-icon-frame',\n        'italic': 'note-icon-italic',\n        'link': 'note-icon-link',\n        'unlink': 'note-icon-chain-broken',\n        'magic': 'note-icon-magic',\n        'menuCheck': 'note-icon-check',\n        'minus': 'note-icon-minus',\n        'orderedlist': 'note-icon-orderedlist',\n        'pencil': 'note-icon-pencil',\n        'picture': 'note-icon-picture',\n        'question': 'note-icon-question',\n        'redo': 'note-icon-redo',\n        'square': 'note-icon-square',\n        'strikethrough': 'note-icon-strikethrough',\n        'subscript': 'note-icon-subscript',\n        'superscript': 'note-icon-superscript',\n        'table': 'note-icon-table',\n        'textHeight': 'note-icon-text-height',\n        'trash': 'note-icon-trash',\n        'underline': 'note-icon-underline',\n        'undo': 'note-icon-undo',\n        'unorderedlist': 'note-icon-unorderedlist',\n        'video': 'note-icon-video'\n      }\n    }\n  });\n\n}));\n","!function(t,e,s){!function(){var i,a,n,h=\"2.2.3\",o=\"datepicker\",r=\".datepicker-here\",c=!1,d='<div class=\"datepicker\"><i class=\"datepicker--pointer\"></i><nav class=\"datepicker--nav\"></nav><div class=\"datepicker--content\"></div></div>',l={classes:\"\",inline:!1,language:\"ru\",startDate:new Date,firstDay:\"\",weekends:[6,0],dateFormat:\"\",altField:\"\",altFieldDateFormat:\"@\",toggleSelected:!0,keyboardNav:!0,position:\"bottom left\",offset:12,view:\"days\",minView:\"days\",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:\"\",maxDate:\"\",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:\",\",range:!1,todayButton:!1,clearButton:!1,showEvent:\"focus\",autoClose:!1,monthsField:\"monthsShort\",prevHtml:'<svg><path d=\"M 17,12 l -5,5 l 5,5\"></path></svg>',nextHtml:'<svg><path d=\"M 14,12 l 5,5 l -5,5\"></path></svg>',navTitles:{days:\"MM, <i>yyyy</i>\",months:\"yyyy\",years:\"yyyy1 - yyyy2\"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:\" \",timeFormat:\"\",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,minSeconds:0,maxSeconds:59,hoursStep:1,minutesStep:1,secondsStep:1,onSelect:\"\",onShow:\"\",onHide:\"\",onChangeMonth:\"\",onChangeYear:\"\",onChangeDecade:\"\",onChangeView:\"\",onRenderCell:\"\"},u={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]},m=function(t,a){this.el=t,this.$el=e(t),this.opts=e.extend(!0,{},l,a,this.$el.data()),i==s&&(i=e(\"body\")),this.opts.startDate||(this.opts.startDate=new Date),\"INPUT\"==this.el.nodeName&&(this.elIsInput=!0),this.opts.altField&&(this.$altField=\"string\"==typeof this.opts.altField?e(this.opts.altField):this.opts.altField),this.inited=!1,this.visible=!1,this.silent=!1,this.currentDate=this.opts.startDate,this.currentView=this.opts.view,this._createShortCuts(),this.selectedDates=[],this.views={},this.keys=[],this.minRange=\"\",this.maxRange=\"\",this._prevOnSelectValue=\"\",this.init()};n=m,n.prototype={VERSION:h,viewIndexes:[\"days\",\"months\",\"years\"],init:function(){c||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer(),this._buildBaseHtml(),this._defineLocale(this.opts.language),this._syncWithMinMaxDates(),this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.opts.keyboardNav&&!this.opts.onlyTimepicker&&this._bindKeyboardEvents(),this.$datepicker.on(\"mousedown\",this._onMouseDownDatepicker.bind(this)),this.$datepicker.on(\"mouseup\",this._onMouseUpDatepicker.bind(this))),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.timepicker&&(this.timepicker=new e.fn.datepicker.Timepicker(this,this.opts),this._bindTimepickerEvents()),this.opts.onlyTimepicker&&this.$datepicker.addClass(\"-only-timepicker-\"),this.views[this.currentView]=new e.fn.datepicker.Body(this,this.currentView,this.opts),this.views[this.currentView].show(),this.nav=new e.fn.datepicker.Navigation(this,this.opts),this.view=this.currentView,this.$el.on(\"clickCell.adp\",this._onClickCell.bind(this)),this.$datepicker.on(\"mouseenter\",\".datepicker--cell\",this._onMouseEnterCell.bind(this)),this.$datepicker.on(\"mouseleave\",\".datepicker--cell\",this._onMouseLeaveCell.bind(this)),this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate?this.opts.minDate:new Date((-86399999136e5)),this.maxDate=this.opts.maxDate?this.opts.maxDate:new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+\".adp\",this._onShowEvent.bind(this)),this.$el.on(\"mouseup.adp\",this._onMouseUpEl.bind(this)),this.$el.on(\"blur.adp\",this._onBlur.bind(this)),this.$el.on(\"keyup.adp\",this._onKeyUpGeneral.bind(this)),e(t).on(\"resize.adp\",this._onResize.bind(this)),e(\"body\").on(\"mouseup.adp\",this._onMouseUpBody.bind(this))},_bindKeyboardEvents:function(){this.$el.on(\"keydown.adp\",this._onKeyDown.bind(this)),this.$el.on(\"keyup.adp\",this._onKeyUp.bind(this)),this.$el.on(\"hotKey.adp\",this._onHotKey.bind(this))},_bindTimepickerEvents:function(){this.$el.on(\"timeChange.adp\",this._onTimeChange.bind(this))},isWeekend:function(t){return this.opts.weekends.indexOf(t)!==-1},_defineLocale:function(t){\"string\"==typeof t?(this.loc=e.fn.datepicker.language[t],this.loc||(console.warn(\"Can't find language \\\"\"+t+'\" in Datepicker.language, will use \"ru\" instead'),this.loc=e.extend(!0,{},e.fn.datepicker.language.ru)),this.loc=e.extend(!0,{},e.fn.datepicker.language.ru,e.fn.datepicker.language[t])):this.loc=e.extend(!0,{},e.fn.datepicker.language.ru,t),this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat),this.opts.timeFormat&&(this.loc.timeFormat=this.opts.timeFormat),\"\"!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay),this.opts.timepicker&&(this.loc.dateFormat=[this.loc.dateFormat,this.loc.timeFormat].join(this.opts.dateTimeSeparator)),this.opts.onlyTimepicker&&(this.loc.dateFormat=this.loc.timeFormat);var s=this._getWordBoundaryRegExp;(this.loc.timeFormat.match(s(\"aa\"))||this.loc.timeFormat.match(s(\"AA\")))&&(this.ampm=!0)},_buildDatepickersContainer:function(){c=!0,i.append('<div class=\"datepickers-container\" id=\"datepickers-container\"></div>'),a=e(\"#datepickers-container\")},_buildBaseHtml:function(){var t,s=e('<div class=\"datepicker-inline\">');t=\"INPUT\"==this.el.nodeName?this.opts.inline?s.insertAfter(this.$el):a:s.appendTo(this.$el),this.$datepicker=e(d).appendTo(t),this.$content=e(\".datepicker--content\",this.$datepicker),this.$nav=e(\".datepicker--nav\",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length){if(\"\"===this._prevOnSelectValue)return;return this._prevOnSelectValue=\"\",this.opts.onSelect(\"\",\"\",this)}var t,e=this.selectedDates,s=n.getParsedDate(e[0]),i=this,a=new Date(s.year,s.month,s.date,s.hours,s.minutes,s.seconds);t=e.map(function(t){return i.formatDate(i.loc.dateFormat,t)}).join(this.opts.multipleDatesSeparator),(this.opts.multipleDates||this.opts.range)&&(a=e.map(function(t){var e=n.getParsedDate(t);return new Date(e.year,e.month,e.date,e.hours,e.minutes,e.seconds)})),this._prevOnSelectValue=t,this.opts.onSelect(t,a,this)},next:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case\"days\":this.date=new Date(t.year,t.month+1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case\"months\":this.date=new Date(t.year+1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case\"years\":this.date=new Date(t.year+10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},prev:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case\"days\":this.date=new Date(t.year,t.month-1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case\"months\":this.date=new Date(t.year-1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case\"years\":this.date=new Date(t.year-10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},formatDate:function(t,e){e=e||this.date;var s,i=t,a=this._getWordBoundaryRegExp,h=this.loc,o=n.getLeadingZeroNum,r=n.getDecade(e),c=n.getParsedDate(e),d=c.fullHours,l=c.hours,u=t.match(a(\"aa\"))||t.match(a(\"AA\")),m=\"am\",p=this._replacer;switch(this.opts.timepicker&&this.timepicker&&u&&(s=this.timepicker._getValidHoursFromDate(e,u),d=o(s.hours),l=s.hours,m=s.dayPeriod),!0){case/@/.test(i):i=i.replace(/@/,e.getTime());case/aa/.test(i):i=p(i,a(\"aa\"),m);case/AA/.test(i):i=p(i,a(\"AA\"),m.toUpperCase());case/dd/.test(i):i=p(i,a(\"dd\"),c.fullDate);case/d/.test(i):i=p(i,a(\"d\"),c.date);case/DD/.test(i):i=p(i,a(\"DD\"),h.days[c.day]);case/D/.test(i):i=p(i,a(\"D\"),h.daysShort[c.day]);case/mm/.test(i):i=p(i,a(\"mm\"),c.fullMonth);case/m/.test(i):i=p(i,a(\"m\"),c.month+1);case/MM/.test(i):i=p(i,a(\"MM\"),this.loc.months[c.month]);case/M/.test(i):i=p(i,a(\"M\"),h.monthsShort[c.month]);case/ss/.test(i):i=p(i,a(\"ss\"),c.seconds);case/ii/.test(i):i=p(i,a(\"ii\"),c.fullMinutes);case/i/.test(i):i=p(i,a(\"i\"),c.minutes);case/hh/.test(i):i=p(i,a(\"hh\"),d);case/h/.test(i):i=p(i,a(\"h\"),l);case/yyyy/.test(i):i=p(i,a(\"yyyy\"),c.year);case/yyyy1/.test(i):i=p(i,a(\"yyyy1\"),r[0]);case/yyyy2/.test(i):i=p(i,a(\"yyyy2\"),r[1]);case/yy/.test(i):i=p(i,a(\"yy\"),c.year.toString().slice(-2))}return i},_replacer:function(t,e,s){return t.replace(e,function(t,e,i,a){return e+s+a})},_getWordBoundaryRegExp:function(t){var e=\"\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;\";return new RegExp(\"(^|>|\"+e+\")(\"+t+\")($|<|\"+e+\")\",\"g\")},selectDate:function(t){var e=this,s=e.opts,i=e.parsedDate,a=e.selectedDates,h=a.length,o=\"\";if(Array.isArray(t))return void t.forEach(function(t){e.selectDate(t)});if(t instanceof Date){if(this.lastSelectedDate=t,this.timepicker&&this.timepicker._setTime(t),e._trigger(\"selectDate\",t),this.timepicker&&(t.setHours(this.timepicker.hours),t.setMinutes(this.timepicker.minutes),t.setSeconds(this.timepicker.seconds)),\"days\"==e.view&&t.getMonth()!=i.month&&s.moveToOtherMonthsOnSelect&&(o=new Date(t.getFullYear(),t.getMonth(),1)),\"years\"==e.view&&t.getFullYear()!=i.year&&s.moveToOtherYearsOnSelect&&(o=new Date(t.getFullYear(),0,1)),o&&(e.silent=!0,e.date=o,e.silent=!1,e.nav._render()),s.multipleDates&&!s.range){if(h===s.multipleDates)return;e._isSelected(t)||e.selectedDates.push(t)}else s.range?2==h?(e.selectedDates=[t],e.minRange=t,e.maxRange=\"\"):1==h?(e.selectedDates.push(t),e.maxRange?e.minRange=t:e.maxRange=t,n.bigger(e.maxRange,e.minRange)&&(e.maxRange=e.minRange,e.minRange=t),e.selectedDates=[e.minRange,e.maxRange]):(e.selectedDates=[t],e.minRange=t):e.selectedDates=[t];e._setInputValue(),s.onSelect&&e._triggerOnChange(),s.autoClose&&!this.timepickerIsActive&&(s.multipleDates||s.range?s.range&&2==e.selectedDates.length&&e.hide():e.hide()),e.views[this.currentView]._render()}},removeDate:function(t){var e=this.selectedDates,s=this;if(t instanceof Date)return e.some(function(i,a){if(n.isSame(i,t))return e.splice(a,1),s.selectedDates.length?s.lastSelectedDate=s.selectedDates[s.selectedDates.length-1]:(s.minRange=\"\",s.maxRange=\"\",s.lastSelectedDate=\"\"),s.views[s.currentView]._render(),s._setInputValue(),s.opts.onSelect&&s._triggerOnChange(),!0})},today:function(){this.silent=!0,this.view=this.opts.minView,this.silent=!1,this.date=new Date,this.opts.todayButton instanceof Date&&this.selectDate(this.opts.todayButton)},clear:function(){this.selectedDates=[],this.minRange=\"\",this.maxRange=\"\",this.views[this.currentView]._render(),this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()},update:function(t,s){var i=arguments.length,a=this.lastSelectedDate;return 2==i?this.opts[t]=s:1==i&&\"object\"==typeof t&&(this.opts=e.extend(!0,this.opts,t)),this._createShortCuts(),this._syncWithMinMaxDates(),this._defineLocale(this.opts.language),this.nav._addButtonsIfNeed(),this.opts.onlyTimepicker||this.nav._render(),this.views[this.currentView]._render(),this.elIsInput&&!this.opts.inline&&(this._setPositionClasses(this.opts.position),this.visible&&this.setPosition(this.opts.position)),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.onlyTimepicker&&this.$datepicker.addClass(\"-only-timepicker-\"),this.opts.timepicker&&(a&&this.timepicker._handleDate(a),this.timepicker._updateRanges(),this.timepicker._updateCurrentTime(),a&&(a.setHours(this.timepicker.hours),a.setMinutes(this.timepicker.minutes),a.setSeconds(this.timepicker.seconds))),this._setInputValue(),this},_syncWithMinMaxDates:function(){var t=this.date.getTime();this.silent=!0,this.minTime>t&&(this.date=this.minDate),this.maxTime<t&&(this.date=this.maxDate),this.silent=!1},_isSelected:function(t,e){var s=!1;return this.selectedDates.some(function(i){if(n.isSame(i,t,e))return s=i,!0}),s},_setInputValue:function(){var t,e=this,s=e.opts,i=e.loc.dateFormat,a=s.altFieldDateFormat,n=e.selectedDates.map(function(t){return e.formatDate(i,t)});s.altField&&e.$altField.length&&(t=this.selectedDates.map(function(t){return e.formatDate(a,t)}),t=t.join(this.opts.multipleDatesSeparator),this.$altField.val(t)),n=n.join(this.opts.multipleDatesSeparator),this.$el.val(n)},_isInRange:function(t,e){var s=t.getTime(),i=n.getParsedDate(t),a=n.getParsedDate(this.minDate),h=n.getParsedDate(this.maxDate),o=new Date(i.year,i.month,a.date).getTime(),r=new Date(i.year,i.month,h.date).getTime(),c={day:s>=this.minTime&&s<=this.maxTime,month:o>=this.minTime&&r<=this.maxTime,year:i.year>=a.year&&i.year<=h.year};return e?c[e]:c.day},_getDimensions:function(t){var e=t.offset();return{width:t.outerWidth(),height:t.outerHeight(),left:e.left,top:e.top}},_getDateFromCell:function(t){var e=this.parsedDate,i=t.data(\"year\")||e.year,a=t.data(\"month\")==s?e.month:t.data(\"month\"),n=t.data(\"date\")||1;return new Date(i,a,n)},_setPositionClasses:function(t){t=t.split(\" \");var e=t[0],s=t[1],i=\"datepicker -\"+e+\"-\"+s+\"- -from-\"+e+\"-\";this.visible&&(i+=\" active\"),this.$datepicker.removeAttr(\"class\").addClass(i)},setPosition:function(t){t=t||this.opts.position;var e,s,i=this._getDimensions(this.$el),a=this._getDimensions(this.$datepicker),n=t.split(\" \"),h=this.opts.offset,o=n[0],r=n[1];switch(o){case\"top\":e=i.top-a.height-h;break;case\"right\":s=i.left+i.width+h;break;case\"bottom\":e=i.top+i.height+h;break;case\"left\":s=i.left-a.width-h}switch(r){case\"top\":e=i.top;break;case\"right\":s=i.left+i.width-a.width;break;case\"bottom\":e=i.top+i.height-a.height;break;case\"left\":s=i.left;break;case\"center\":/left|right/.test(o)?e=i.top+i.height/2-a.height/2:s=i.left+i.width/2-a.width/2}this.$datepicker.css({left:s,top:e})},show:function(){var t=this.opts.onShow;this.setPosition(this.opts.position),this.$datepicker.addClass(\"active\"),this.visible=!0,t&&this._bindVisionEvents(t)},hide:function(){var t=this.opts.onHide;this.$datepicker.removeClass(\"active\").css({left:\"-100000px\"}),this.focused=\"\",this.keys=[],this.inFocus=!1,this.visible=!1,this.$el.blur(),t&&this._bindVisionEvents(t)},down:function(t){this._changeView(t,\"down\")},up:function(t){this._changeView(t,\"up\")},_bindVisionEvents:function(t){this.$datepicker.off(\"transitionend.dp\"),t(this,!1),this.$datepicker.one(\"transitionend.dp\",t.bind(this,this,!0))},_changeView:function(t,e){t=t||this.focused||this.date;var s=\"up\"==e?this.viewIndex+1:this.viewIndex-1;s>2&&(s=2),s<0&&(s=0),this.silent=!0,this.date=new Date(t.getFullYear(),t.getMonth(),1),this.silent=!1,this.view=this.viewIndexes[s]},_handleHotKey:function(t){var e,s,i,a=n.getParsedDate(this._getFocusedDate()),h=this.opts,o=!1,r=!1,c=!1,d=a.year,l=a.month,u=a.date;switch(t){case\"ctrlRight\":case\"ctrlUp\":l+=1,o=!0;break;case\"ctrlLeft\":case\"ctrlDown\":l-=1,o=!0;break;case\"shiftRight\":case\"shiftUp\":r=!0,d+=1;break;case\"shiftLeft\":case\"shiftDown\":r=!0,d-=1;break;case\"altRight\":case\"altUp\":c=!0,d+=10;break;case\"altLeft\":case\"altDown\":c=!0,d-=10;break;case\"ctrlShiftUp\":this.up()}i=n.getDaysCount(new Date(d,l)),s=new Date(d,l,u),i<u&&(u=i),s.getTime()<this.minTime?s=this.minDate:s.getTime()>this.maxTime&&(s=this.maxDate),this.focused=s,e=n.getParsedDate(s),o&&h.onChangeMonth&&h.onChangeMonth(e.month,e.year),r&&h.onChangeYear&&h.onChangeYear(e.year),c&&h.onChangeDecade&&h.onChangeDecade(this.curDecade)},_registerKey:function(t){var e=this.keys.some(function(e){return e==t});e||this.keys.push(t)},_unRegisterKey:function(t){var e=this.keys.indexOf(t);this.keys.splice(e,1)},_isHotKeyPressed:function(){var t,e=!1,s=this,i=this.keys.sort();for(var a in u)t=u[a],i.length==t.length&&t.every(function(t,e){return t==i[e]})&&(s._trigger(\"hotKey\",a),e=!0);return e},_trigger:function(t,e){this.$el.trigger(t,e)},_focusNextCell:function(t,e){e=e||this.cellType;var s=n.getParsedDate(this._getFocusedDate()),i=s.year,a=s.month,h=s.date;if(!this._isHotKeyPressed()){switch(t){case 37:\"day\"==e?h-=1:\"\",\"month\"==e?a-=1:\"\",\"year\"==e?i-=1:\"\";break;case 38:\"day\"==e?h-=7:\"\",\"month\"==e?a-=3:\"\",\"year\"==e?i-=4:\"\";break;case 39:\"day\"==e?h+=1:\"\",\"month\"==e?a+=1:\"\",\"year\"==e?i+=1:\"\";break;case 40:\"day\"==e?h+=7:\"\",\"month\"==e?a+=3:\"\",\"year\"==e?i+=4:\"\"}var o=new Date(i,a,h);o.getTime()<this.minTime?o=this.minDate:o.getTime()>this.maxTime&&(o=this.maxDate),this.focused=o}},_getFocusedDate:function(){var t=this.focused||this.selectedDates[this.selectedDates.length-1],e=this.parsedDate;if(!t)switch(this.view){case\"days\":t=new Date(e.year,e.month,(new Date).getDate());break;case\"months\":t=new Date(e.year,e.month,1);break;case\"years\":t=new Date(e.year,0,1)}return t},_getCell:function(t,s){s=s||this.cellType;var i,a=n.getParsedDate(t),h='.datepicker--cell[data-year=\"'+a.year+'\"]';switch(s){case\"month\":h='[data-month=\"'+a.month+'\"]';break;case\"day\":h+='[data-month=\"'+a.month+'\"][data-date=\"'+a.date+'\"]'}return i=this.views[this.currentView].$el.find(h),i.length?i:e(\"\")},destroy:function(){var t=this;t.$el.off(\".adp\").data(\"datepicker\",\"\"),t.selectedDates=[],t.focused=\"\",t.views={},t.keys=[],t.minRange=\"\",t.maxRange=\"\",t.opts.inline||!t.elIsInput?t.$datepicker.closest(\".datepicker-inline\").remove():t.$datepicker.remove()},_handleAlreadySelectedDates:function(t,e){this.opts.range?this.opts.toggleSelected?this.removeDate(e):2!=this.selectedDates.length&&this._trigger(\"clickCell\",e):this.opts.toggleSelected&&this.removeDate(e),this.opts.toggleSelected||(this.lastSelectedDate=t,this.opts.timepicker&&(this.timepicker._setTime(t),this.timepicker.update()))},_onShowEvent:function(t){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(t){this.inFocus=!0},_onMouseUpDatepicker:function(t){this.inFocus=!1,t.originalEvent.inFocus=!0,t.originalEvent.timepickerFocus||this.$el.focus()},_onKeyUpGeneral:function(t){var e=this.$el.val();e||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(t){t.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(t){t.originalEvent.inFocus=!0,setTimeout(this._onKeyUpGeneral.bind(this),4)},_onKeyDown:function(t){var e=t.which;if(this._registerKey(e),e>=37&&e<=40&&(t.preventDefault(),this._focusNextCell(e)),13==e&&this.focused){if(this._getCell(this.focused).hasClass(\"-disabled-\"))return;if(this.view!=this.opts.minView)this.down();else{var s=this._isSelected(this.focused,this.cellType);if(!s)return this.timepicker&&(this.focused.setHours(this.timepicker.hours),this.focused.setMinutes(this.timepicker.minutes),this.focused.setSeconds(this.timepicker.seconds)),void this.selectDate(this.focused);this._handleAlreadySelectedDates(s,this.focused)}}27==e&&this.hide()},_onKeyUp:function(t){var e=t.which;this._unRegisterKey(e)},_onHotKey:function(t,e){this._handleHotKey(e)},_onMouseEnterCell:function(t){var s=e(t.target).closest(\".datepicker--cell\"),i=this._getDateFromCell(s);this.silent=!0,this.focused&&(this.focused=\"\"),s.addClass(\"-focus-\"),this.focused=i,this.silent=!1,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange=\"\",n.less(this.minRange,this.focused)&&(this.maxRange=this.minRange,this.minRange=\"\"),this.views[this.currentView]._update())},_onMouseLeaveCell:function(t){var s=e(t.target).closest(\".datepicker--cell\");s.removeClass(\"-focus-\"),this.silent=!0,this.focused=\"\",this.silent=!1},_onTimeChange:function(t,e,s,i){var a=new Date,n=this.selectedDates,h=!1;n.length&&(h=!0,a=this.lastSelectedDate),a.setHours(e),a.setMinutes(s),a.setSeconds(i),h||this._getCell(a).hasClass(\"-disabled-\")?(this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()):this.selectDate(a)},_onClickCell:function(t,e){this.timepicker&&(e.setHours(this.timepicker.hours),e.setMinutes(this.timepicker.minutes),e.setSeconds(this.timepicker.seconds)),this.selectDate(e)},set focused(t){if(!t&&this.focused){var e=this._getCell(this.focused);e.length&&e.removeClass(\"-focus-\")}this._focused=t,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange=\"\",n.less(this.minRange,this._focused)&&(this.maxRange=this.minRange,this.minRange=\"\")),this.silent||(this.date=t)},get focused(){return this._focused},get parsedDate(){return n.getParsedDate(this.date)},set date(t){if(t instanceof Date)return this.currentDate=t,this.inited&&!this.silent&&(this.views[this.view]._render(),this.nav._render(),this.visible&&this.elIsInput&&this.setPosition()),t},get date(){return this.currentDate},set view(t){if(this.viewIndex=this.viewIndexes.indexOf(t),!(this.viewIndex<0))return this.prevView=this.currentView,this.currentView=t,this.inited&&(this.views[t]?this.views[t]._render():this.views[t]=new e.fn.datepicker.Body(this,t,this.opts),this.views[this.prevView].hide(),this.views[t].show(),this.nav._render(),this.opts.onChangeView&&this.opts.onChangeView(t),this.elIsInput&&this.visible&&this.setPosition()),t},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var t=n.getParsedDate(this.minDate);return new Date(t.year,t.month,t.date).getTime()},get maxTime(){var t=n.getParsedDate(this.maxDate);return new Date(t.year,t.month,t.date).getTime()},get curDecade(){return n.getDecade(this.date)}},n.getDaysCount=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},n.getParsedDate=function(t){return{year:t.getFullYear(),month:t.getMonth(),fullMonth:t.getMonth()+1<10?\"0\"+(t.getMonth()+1):t.getMonth()+1,date:t.getDate(),fullDate:t.getDate()<10?\"0\"+t.getDate():t.getDate(),day:t.getDay(),hours:t.getHours(),fullHours:t.getHours()<10?\"0\"+t.getHours():t.getHours(),minutes:t.getMinutes(),fullMinutes:t.getMinutes()<10?\"0\"+t.getMinutes():t.getMinutes(),seconds:t.getSeconds()}},n.getDecade=function(t){var e=10*Math.floor(t.getFullYear()/10);return[e,e+9]},n.template=function(t,e){return t.replace(/#\\{([\\w]+)\\}/g,function(t,s){if(e[s]||0===e[s])return e[s]})},n.isSame=function(t,e,s){if(!t||!e)return!1;var i=n.getParsedDate(t),a=n.getParsedDate(e),h=s?s:\"day\",o={day:i.date==a.date&&i.month==a.month&&i.year==a.year,month:i.month==a.month&&i.year==a.year,year:i.year==a.year};return o[h]},n.less=function(t,e,s){return!(!t||!e)&&e.getTime()<t.getTime()},n.bigger=function(t,e,s){return!(!t||!e)&&e.getTime()>t.getTime()},n.getLeadingZeroNum=function(t){return parseInt(t)<10?\"0\"+t:t},n.resetTime=function(t){if(\"object\"==typeof t)return t=n.getParsedDate(t),new Date(t.year,t.month,t.date)},e.fn.datepicker=function(t){return this.each(function(){if(e.data(this,o)){var s=e.data(this,o);s.opts=e.extend(!0,s.opts,t),s.update()}else e.data(this,o,new m(this,t))})},e.fn.datepicker.Constructor=m,e.fn.datepicker.language={ru:{days:[\"Воскресенье\",\"Понедельник\",\"Вторник\",\"Среда\",\"Четверг\",\"Пятница\",\"Суббота\"],daysShort:[\"Вос\",\"Пон\",\"Вто\",\"Сре\",\"Чет\",\"Пят\",\"Суб\"],daysMin:[\"Вс\",\"Пн\",\"Вт\",\"Ср\",\"Чт\",\"Пт\",\"Сб\"],months:[\"Январь\",\"Февраль\",\"Март\",\"Апрель\",\"Май\",\"Июнь\",\"Июль\",\"Август\",\"Сентябрь\",\"Октябрь\",\"Ноябрь\",\"Декабрь\"],monthsShort:[\"Янв\",\"Фев\",\"Мар\",\"Апр\",\"Май\",\"Июн\",\"Июл\",\"Авг\",\"Сен\",\"Окт\",\"Ноя\",\"Дек\"],today:\"Сегодня\",clear:\"Очистить\",dateFormat:\"dd.mm.yyyy\",timeFormat:\"hh:ii\",firstDay:1}},e(function(){e(r).datepicker()})}(),function(){var t={days:'<div class=\"datepicker--days datepicker--body\"><div class=\"datepicker--days-names\"></div><div class=\"datepicker--cells datepicker--cells-days\"></div></div>',months:'<div class=\"datepicker--months datepicker--body\"><div class=\"datepicker--cells datepicker--cells-months\"></div></div>',years:'<div class=\"datepicker--years datepicker--body\"><div class=\"datepicker--cells datepicker--cells-years\"></div></div>'},i=e.fn.datepicker,a=i.Constructor;i.Body=function(t,s,i){this.d=t,this.type=s,this.opts=i,this.$el=e(\"\"),this.opts.onlyTimepicker||this.init()},i.Body.prototype={init:function(){this._buildBaseHtml(),this._render(),this._bindEvents()},_bindEvents:function(){this.$el.on(\"click\",\".datepicker--cell\",e.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=e(t[this.type]).appendTo(this.d.$content),this.$names=e(\".datepicker--days-names\",this.$el),this.$cells=e(\".datepicker--cells\",this.$el)},_getDayNamesHtml:function(t,e,i,a){return e=e!=s?e:t,i=i?i:\"\",a=a!=s?a:0,a>7?i:7==e?this._getDayNamesHtml(t,0,i,++a):(i+='<div class=\"datepicker--day-name'+(this.d.isWeekend(e)?\" -weekend-\":\"\")+'\">'+this.d.loc.daysMin[e]+\"</div>\",this._getDayNamesHtml(t,++e,i,++a))},_getCellContents:function(t,e){var s=\"datepicker--cell datepicker--cell-\"+e,i=new Date,n=this.d,h=a.resetTime(n.minRange),o=a.resetTime(n.maxRange),r=n.opts,c=a.getParsedDate(t),d={},l=c.date;switch(e){case\"day\":n.isWeekend(c.day)&&(s+=\" -weekend-\"),c.month!=this.d.parsedDate.month&&(s+=\" -other-month-\",r.selectOtherMonths||(s+=\" -disabled-\"),r.showOtherMonths||(l=\"\"));break;case\"month\":l=n.loc[n.opts.monthsField][c.month];break;case\"year\":var u=n.curDecade;l=c.year,(c.year<u[0]||c.year>u[1])&&(s+=\" -other-decade-\",r.selectOtherYears||(s+=\" -disabled-\"),r.showOtherYears||(l=\"\"))}return r.onRenderCell&&(d=r.onRenderCell(t,e)||{},l=d.html?d.html:l,s+=d.classes?\" \"+d.classes:\"\"),r.range&&(a.isSame(h,t,e)&&(s+=\" -range-from-\"),a.isSame(o,t,e)&&(s+=\" -range-to-\"),1==n.selectedDates.length&&n.focused?((a.bigger(h,t)&&a.less(n.focused,t)||a.less(o,t)&&a.bigger(n.focused,t))&&(s+=\" -in-range-\"),a.less(o,t)&&a.isSame(n.focused,t)&&(s+=\" -range-from-\"),a.bigger(h,t)&&a.isSame(n.focused,t)&&(s+=\" -range-to-\")):2==n.selectedDates.length&&a.bigger(h,t)&&a.less(o,t)&&(s+=\" -in-range-\")),a.isSame(i,t,e)&&(s+=\" -current-\"),n.focused&&a.isSame(t,n.focused,e)&&(s+=\" -focus-\"),n._isSelected(t,e)&&(s+=\" -selected-\"),n._isInRange(t,e)&&!d.disabled||(s+=\" -disabled-\"),{html:l,classes:s}},_getDaysHtml:function(t){var e=a.getDaysCount(t),s=new Date(t.getFullYear(),t.getMonth(),1).getDay(),i=new Date(t.getFullYear(),t.getMonth(),e).getDay(),n=s-this.d.loc.firstDay,h=6-i+this.d.loc.firstDay;n=n<0?n+7:n,h=h>6?h-7:h;for(var o,r,c=-n+1,d=\"\",l=c,u=e+h;l<=u;l++)r=t.getFullYear(),o=t.getMonth(),d+=this._getDayHtml(new Date(r,o,l));return d},_getDayHtml:function(t){var e=this._getCellContents(t,\"day\");return'<div class=\"'+e.classes+'\" data-date=\"'+t.getDate()+'\" data-month=\"'+t.getMonth()+'\" data-year=\"'+t.getFullYear()+'\">'+e.html+\"</div>\"},_getMonthsHtml:function(t){for(var e=\"\",s=a.getParsedDate(t),i=0;i<12;)e+=this._getMonthHtml(new Date(s.year,i)),i++;return e},_getMonthHtml:function(t){var e=this._getCellContents(t,\"month\");return'<div class=\"'+e.classes+'\" data-month=\"'+t.getMonth()+'\">'+e.html+\"</div>\"},_getYearsHtml:function(t){var e=(a.getParsedDate(t),a.getDecade(t)),s=e[0]-1,i=\"\",n=s;for(n;n<=e[1]+1;n++)i+=this._getYearHtml(new Date(n,0));return i},_getYearHtml:function(t){var e=this._getCellContents(t,\"year\");return'<div class=\"'+e.classes+'\" data-year=\"'+t.getFullYear()+'\">'+e.html+\"</div>\"},_renderTypes:{days:function(){var t=this._getDayNamesHtml(this.d.loc.firstDay),e=this._getDaysHtml(this.d.currentDate);this.$cells.html(e),this.$names.html(t)},months:function(){var t=this._getMonthsHtml(this.d.currentDate);this.$cells.html(t)},years:function(){var t=this._getYearsHtml(this.d.currentDate);this.$cells.html(t)}},_render:function(){this.opts.onlyTimepicker||this._renderTypes[this.type].bind(this)()},_update:function(){var t,s,i,a=e(\".datepicker--cell\",this.$cells),n=this;a.each(function(a,h){s=e(this),i=n.d._getDateFromCell(e(this)),t=n._getCellContents(i,n.d.cellType),s.attr(\"class\",t.classes)})},show:function(){this.opts.onlyTimepicker||(this.$el.addClass(\"active\"),this.acitve=!0)},hide:function(){this.$el.removeClass(\"active\"),this.active=!1},_handleClick:function(t){var e=t.data(\"date\")||1,s=t.data(\"month\")||0,i=t.data(\"year\")||this.d.parsedDate.year,a=this.d;if(a.view!=this.opts.minView)return void a.down(new Date(i,s,e));var n=new Date(i,s,e),h=this.d._isSelected(n,this.d.cellType);return h?void a._handleAlreadySelectedDates.bind(a,h,n)():void a._trigger(\"clickCell\",n)},_onClickCell:function(t){var s=e(t.target).closest(\".datepicker--cell\");s.hasClass(\"-disabled-\")||this._handleClick.bind(this)(s)}}}(),function(){var t='<div class=\"datepicker--nav-action\" data-action=\"prev\">#{prevHtml}</div><div class=\"datepicker--nav-title\">#{title}</div><div class=\"datepicker--nav-action\" data-action=\"next\">#{nextHtml}</div>',s='<div class=\"datepicker--buttons\"></div>',i='<span class=\"datepicker--button\" data-action=\"#{action}\">#{label}</span>',a=e.fn.datepicker,n=a.Constructor;a.Navigation=function(t,e){this.d=t,this.opts=e,this.$buttonsContainer=\"\",this.init()},a.Navigation.prototype={init:function(){this._buildBaseHtml(),this._bindEvents()},_bindEvents:function(){this.d.$nav.on(\"click\",\".datepicker--nav-action\",e.proxy(this._onClickNavButton,this)),this.d.$nav.on(\"click\",\".datepicker--nav-title\",e.proxy(this._onClickNavTitle,this)),this.d.$datepicker.on(\"click\",\".datepicker--button\",e.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this.opts.onlyTimepicker||this._render(),this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton(\"today\"),this.opts.clearButton&&this._addButton(\"clear\")},_render:function(){var s=this._getTitle(this.d.currentDate),i=n.template(t,e.extend({title:s},this.opts));this.d.$nav.html(i),\"years\"==this.d.view&&e(\".datepicker--nav-title\",this.d.$nav).addClass(\"-disabled-\"),this.setNavStatus()},_getTitle:function(t){return this.d.formatDate(this.opts.navTitles[this.d.view],t)},_addButton:function(t){this.$buttonsContainer.length||this._addButtonsContainer();var s={action:t,label:this.d.loc[t]},a=n.template(i,s);e(\"[data-action=\"+t+\"]\",this.$buttonsContainer).length||this.$buttonsContainer.append(a)},_addButtonsContainer:function(){this.d.$datepicker.append(s),this.$buttonsContainer=e(\".datepicker--buttons\",this.d.$datepicker)},setNavStatus:function(){if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var t=this.d.parsedDate,e=t.month,s=t.year,i=t.date;switch(this.d.view){case\"days\":this.d._isInRange(new Date(s,e-1,1),\"month\")||this._disableNav(\"prev\"),this.d._isInRange(new Date(s,e+1,1),\"month\")||this._disableNav(\"next\");break;case\"months\":this.d._isInRange(new Date(s-1,e,i),\"year\")||this._disableNav(\"prev\"),this.d._isInRange(new Date(s+1,e,i),\"year\")||this._disableNav(\"next\");break;case\"years\":var a=n.getDecade(this.d.date);this.d._isInRange(new Date(a[0]-1,0,1),\"year\")||this._disableNav(\"prev\"),this.d._isInRange(new Date(a[1]+1,0,1),\"year\")||this._disableNav(\"next\")}}},_disableNav:function(t){e('[data-action=\"'+t+'\"]',this.d.$nav).addClass(\"-disabled-\")},_activateNav:function(t){e('[data-action=\"'+t+'\"]',this.d.$nav).removeClass(\"-disabled-\")},_onClickNavButton:function(t){var s=e(t.target).closest(\"[data-action]\"),i=s.data(\"action\");this.d[i]()},_onClickNavTitle:function(t){if(!e(t.target).hasClass(\"-disabled-\"))return\"days\"==this.d.view?this.d.view=\"months\":void(this.d.view=\"years\")}}}(),function(){var t='<div class=\"datepicker--time\"><div class=\"datepicker--time-current\">   <span class=\"datepicker--time-current-hours\">#{hourVisible}</span>   <span class=\"datepicker--time-current-colon\">:</span>   <span class=\"datepicker--time-current-minutes\">#{minValue}</span>   <span class=\"datepicker--time-current-colon\">:</span>   <span class=\"datepicker--time-current-seconds\">#{secValue}</span></div><div class=\"datepicker--time-sliders\">   <div class=\"datepicker--time-row\">      <input type=\"range\" name=\"hours\" value=\"#{hourValue}\" min=\"#{hourMin}\" max=\"#{hourMax}\" step=\"#{hourStep}\"/>   </div>   <div class=\"datepicker--time-row\">      <input type=\"range\" name=\"minutes\" value=\"#{minValue}\" min=\"#{minMin}\" max=\"#{minMax}\" step=\"#{minStep}\"/>   </div>   <div class=\"datepicker--time-row\">      <input type=\"range\" name=\"seconds\" value=\"#{secValue}\" min=\"#{secMin}\" max=\"#{secMax}\" step=\"#{secStep}\"/>   </div></div></div>',s=e.fn.datepicker,i=s.Constructor;s.Timepicker=function(t,e){this.d=t,this.opts=e,this.init()},s.Timepicker.prototype={init:function(){var t=\"input\";this._setTime(this.d.date),this._buildHTML(),navigator.userAgent.match(/trident/gi)&&(t=\"change\"),this.d.$el.on(\"selectDate\",this._onSelectDate.bind(this)),this.$ranges.on(t,this._onChangeRange.bind(this)),this.$ranges.on(\"mouseup\",this._onMouseUpRange.bind(this)),\nthis.$ranges.on(\"mousemove focus \",this._onMouseEnterRange.bind(this)),this.$ranges.on(\"mouseout blur\",this._onMouseOutRange.bind(this))},_setTime:function(t){var e=i.getParsedDate(t);this._handleDate(t),this.hours=e.hours<this.minHours?this.minHours:e.hours,this.minutes=e.minutes<this.minMinutes?this.minMinutes:e.minutes,this.seconds=e.seconds<this.minSeconds?this.minSeconds:e.seconds},_setMinTimeFromDate:function(t){this.minHours=t.getHours(),this.minMinutes=t.getMinutes(),this.minSeconds=t.getSeconds(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()>t.getHours()&&(this.minMinutes=this.opts.minMinutes)},_setMaxTimeFromDate:function(t){this.maxHours=t.getHours(),this.maxMinutes=t.getMinutes(),this.maxSeconds=t.getSeconds(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()<t.getHours()&&(this.maxMinutes=this.opts.maxMinutes)},_setDefaultMinMaxTime:function(){var t=23,e=59,s=59,i=this.opts;this.minHours=i.minHours<0||i.minHours>t?0:i.minHours,this.minMinutes=i.minMinutes<0||i.minMinutes>e?0:i.minMinutes,this.maxHours=i.maxHours<0||i.maxHours>t?t:i.maxHours,this.maxMinutes=i.maxMinutes<0||i.maxMinutes>e?e:i.maxMinutes,this.minSeconds=i.minSeconds<0||i.minSeconds>s?0:i.minSeconds,this.maxSeconds=i.maxSeconds<0||i.maxSeconds>s?s:i.maxSeconds},_validateHoursMinutes:function(t){this.hours<this.minHours?this.hours=this.minHours:this.hours>this.maxHours&&(this.hours=this.maxHours),this.minutes<this.minMinutes?this.minutes=this.minMinutes:this.minutes>this.maxMinutes&&(this.minutes=this.maxMinutes),this.seconds<this.minSeconds?this.seconds=this.minSeconds:this.seconds>this.maxSeconds&&(this.seconds=this.maxSeconds)},_buildHTML:function(){var s=i.getLeadingZeroNum,a={hourMin:this.minHours,hourMax:s(this.maxHours),hourStep:this.opts.hoursStep,hourValue:this.hours,hourVisible:s(this.displayHours),minMin:this.minMinutes,minMax:s(this.maxMinutes),minStep:this.opts.minutesStep,minValue:s(this.minutes),secMin:this.minSeconds,secMax:s(this.maxSeconds),secStep:this.opts.secondsStep,secValue:s(this.seconds)},n=i.template(t,a);this.$timepicker=e(n).appendTo(this.d.$datepicker),this.$ranges=e('[type=\"range\"]',this.$timepicker),this.$hours=e('[name=\"hours\"]',this.$timepicker),this.$minutes=e('[name=\"minutes\"]',this.$timepicker),this.$seconds=e('[name=\"seconds\"]',this.$timepicker),this.$hoursText=e(\".datepicker--time-current-hours\",this.$timepicker),this.$minutesText=e(\".datepicker--time-current-minutes\",this.$timepicker),this.$secondsText=e(\".datepicker--time-current-seconds\",this.$timepicker),this.d.ampm&&(this.$ampm=e('<span class=\"datepicker--time-current-ampm\">').appendTo(e(\".datepicker--time-current\",this.$timepicker)).html(this.dayPeriod),this.$timepicker.addClass(\"-am-pm-\"))},_updateCurrentTime:function(){var t=i.getLeadingZeroNum(this.displayHours),e=i.getLeadingZeroNum(this.minutes),s=i.getLeadingZeroNum(this.seconds);this.$hoursText.html(t),this.$minutesText.html(e),this.$secondsText.html(s),this.d.ampm&&this.$ampm.html(this.dayPeriod)},_updateRanges:function(){this.$hours.attr({min:this.minHours,max:this.maxHours}).val(this.hours),this.$minutes.attr({min:this.minMinutes,max:this.maxMinutes}).val(this.minutes),this.$seconds.attr({min:this.minSeconds,max:this.maxSeconds}).val(this.seconds)},_handleDate:function(t){this._setDefaultMinMaxTime(),t&&(i.isSame(t,this.d.opts.minDate)?this._setMinTimeFromDate(this.d.opts.minDate):i.isSame(t,this.d.opts.maxDate)&&this._setMaxTimeFromDate(this.d.opts.maxDate)),this._validateHoursMinutes(t)},update:function(){this._updateRanges(),this._updateCurrentTime()},_getValidHoursFromDate:function(t,e){var s=t,a=t;t instanceof Date&&(s=i.getParsedDate(t),a=s.hours);var n=e||this.d.ampm,h=\"am\";if(n)switch(!0){case 0==a:a=12;break;case 12==a:h=\"pm\";break;case a>11:a-=12,h=\"pm\"}return{hours:a,dayPeriod:h}},set hours(t){this._hours=t;var e=this._getValidHoursFromDate(t);this.displayHours=e.hours,this.dayPeriod=e.dayPeriod},get hours(){return this._hours},_onChangeRange:function(t){var s=e(t.target),i=s.attr(\"name\");this.d.timepickerIsActive=!0,this[i]=s.val(),this._updateCurrentTime(),this.d._trigger(\"timeChange\",[this.hours,this.minutes,this.seconds]),this._handleDate(this.d.lastSelectedDate),this.update()},_onSelectDate:function(t,e){this._handleDate(e),this.update()},_onMouseEnterRange:function(t){var s=e(t.target).attr(\"name\");e(\".datepicker--time-current-\"+s,this.$timepicker).addClass(\"-focus-\")},_onMouseOutRange:function(t){var s=e(t.target).attr(\"name\");this.d.inFocus||e(\".datepicker--time-current-\"+s,this.$timepicker).removeClass(\"-focus-\")},_onMouseUpRange:function(t){this.d.timepickerIsActive=!1}}}()}(window,jQuery);",";(function ($) { $.fn.datepicker.language['en'] = {\n    days: [__('Sunday'), __('Monday'), __('Tuesday'), __('Wednesday'), __('Thursday'), __('Friday'), __('Saturday')],\n    daysShort: [__('Sun'), __('Mon'), __('Tue'), __('Wed'), __('Thu'), __('Fri'), __('Sat')],\n    daysMin: [__('Su'), __('Mo'), __('Tu'), __('We'), __('Th'), __('Fr'), __('Sa')],\n    months: [__('January'),__('February'),__('March'),__('April'),__('May'),__('June'), __('July'),__('August'),__('September'),__('October'),__('November'),__('December')],\n    monthsShort: [__('Jan'), __('Feb'), __('Mar'), __('Apr'), __('May'), __('Jun'), __('Jul'), __('Aug'), __('Sep'), __('Oct'), __('Nov'), __('Dec')],\n    today: __('Today'),\n    clear: __('Clear'),\n    dateFormat: 'mm/dd/yyyy',\n    timeFormat: 'hh:ii aa',\n    firstDay: 0\n}; })(jQuery);"],"names":["module","hookCallback","some","hooks","apply","arguments","isArray","input","Array","Object","prototype","toString","call","isObject","isUndefined","isNumber","isDate","Date","map","arr","fn","i","res","length","push","hasOwnProp","a","b","hasOwnProperty","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","getParsingFlags","m","_pf","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","isValid","_isValid","flags","parsedParts","isNowValid","isNaN","_d","getTime","invalidWeekday","_strict","undefined","bigHour","isFrozen","createInvalid","NaN","fun","t","this","len","momentProperties","copyConfig","to","from","prop","val","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","updateInProgress","Moment","config","updateOffset","isMoment","obj","absFloor","number","Math","ceil","floor","toInt","argumentForCoercion","coercedNumber","value","isFinite","compareArrays","array1","array2","dontConvert","min","lengthDiff","abs","diffs","warn","msg","suppressDeprecationWarnings","console","deprecate","firstTime","deprecationHandler","arg","args","key","slice","join","Error","stack","keys","deprecations","deprecateSimple","name","isFunction","Function","mergeConfigs","parentConfig","childConfig","Locale","set","aliases","addUnitAlias","unit","shorthand","lowerCase","toLowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","priorities","addUnitPriority","priority","zeroFill","targetLength","forceSign","absNumber","zerosToFill","sign","pow","max","substr","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","token","padded","ordinal","callback","func","localeData","formatMoment","expandFormat","array","match","replace","mom","output","makeFormatFunction","invalidDate","replaceLongDateFormatTokens","longDateFormat","lastIndex","test","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchWord","regexes","addRegexToken","regex","strictRegex","isStrict","getParseRegexForToken","RegExp","regexEscape","matched","p1","p2","p3","p4","s","tokens","addParseToken","addWeekParseToken","_w","addTimeToArrayFromToken","_a","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","daysInYear","year","isLeapYear","y","parseTwoDigitYear","parseInt","indexOf","getSetYear","makeGetSet","keepTime","set$1","get","month","date","daysInMonth","x","modMonth","o","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","MONTHS_IN_FORMAT","defaultLocaleMonths","split","defaultLocaleMonthsShort","setMonth","dayOfMonth","getSetMonth","defaultMonthsShortRegex","defaultMonthsRegex","computeMonthsParse","cmpLenRev","shortPieces","longPieces","mixedPieces","sort","_monthsRegex","_monthsShortRegex","_monthsStrictRegex","_monthsShortStrictRegex","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","fwdlw","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","localWeekday","weekOffset","dayOfYear","weekOfYear","resWeek","weeksInYear","weekOffsetNext","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","weekdaysParse","d","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","computeWeekdaysParse","minp","shortp","longp","minPieces","day","_weekdaysRegex","_weekdaysShortRegex","_weekdaysMinRegex","_weekdaysStrictRegex","_weekdaysShortStrictRegex","_weekdaysMinStrictRegex","hFormat","hours","lowercase","minutes","matchMeridiem","_meridiemParse","seconds","kInput","_isPm","isPM","_meridiem","pos","pos1","pos2","globalLocale","getSetHour","baseConfig","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","LTS","LT","L","LL","LLL","LLLL","dayOfMonthOrdinalParse","relativeTime","future","past","ss","mm","h","hh","dd","M","MM","yy","meridiemParse","locales","localeFamilies","normalizeLocale","loadLocale","oldLocale","exports","_abbr","aliasedRequire","require","getSetGlobalLocale","e","values","data","getLocale","defineLocale","abbr","_config","parentLocale","forEach","names","j","next","chooseLocale","checkOverflow","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","defaults","c","configFromArray","currentDate","expectedWeekday","yearToUse","nowValue","now","_useUTC","getUTCMonth","getUTCDate","getFullYear","getMonth","getDate","currentDateArray","w","weekYear","temp","weekdayOverflow","GG","W","E","createLocal","_week","curWeek","gg","_dayOfYear","dayOfYearFromWeekInfo","_nextDay","ms","setFullYear","getDay","setUTCMinutes","getUTCMinutes","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","configFromISO","l","allowTime","dateFormat","timeFormat","tzFormat","string","exec","configFromStringAndFormat","extractFromRFC2822Strings","yearStr","monthStr","dayStr","hourStr","minuteStr","secondStr","result","untruncateYear","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromRFC2822","trim","parsedArray","weekdayStr","parsedInput","weekdayProvided","weekdayActual","checkWeekday","obsOffset","militaryOffset","numOffset","hm","calculateOffset","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","hour","meridiemHour","isPm","prepareConfig","preparse","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromStringAndArray","createFromInputFallback","configFromString","minute","second","millisecond","configFromObject","configFromInput","isUTC","getOwnPropertyNames","k","isObjectEmpty","add","prototypeMin","other","prototypeMax","pickBy","moments","ordering","Duration","duration","years","quarters","quarter","weeks","days","milliseconds","unitHasDecimal","parseFloat","isDurationValid","_milliseconds","_days","_months","_data","_bubble","isDuration","absRound","round","offset","separator","utcOffset","offsetFromString","chunkOffset","matcher","matches","chunk","parts","cloneWithOffset","model","diff","clone","setTime","local","getDateOffset","getTimezoneOffset","isUtc","aspNetRegex","isoRegex","createDuration","ret","diffRes","base","parseIso","isBefore","positiveMomentsDifference","inp","isAfter","createAdder","direction","period","tmp","addSubtract","isAdding","invalid","subtract","monthDiff","anchor2","adjust","wholeMonthDiff","anchor","newLocaleData","defaultFormat","defaultFormatUtc","lang","addWeekYearFormatToken","getter","getSetWeekYearHelper","weeksTarget","dayOfYearData","isoWeekYear","_dayOfMonthOrdinalParse","_ordinalParse","_dayOfMonthOrdinalParseLenient","getSetDayOfMonth","getSetMinute","getSetSecond","parseMs","getSetMillisecond","proto","preParsePostFormat","time","formats","sod","startOf","calendarFormat","asFloat","that","zoneDelta","endOf","inputString","postformat","withoutSuffix","humanize","fromNow","toNow","invalidAt","localInput","isBetween","inclusivity","isSame","inputMs","isSameOrAfter","isSameOrBefore","parsingFlags","prioritized","unitsObj","u","getPrioritizedUnits","isoWeekday","toArray","toObject","toDate","toISOString","keepOffset","inspect","zone","isLocal","prefix","suffix","toJSON","unix","creationData","isoWeek","isoWeeks","weekInfo","isoWeeksInYear","parseWeekday","parseIsoWeekday","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","parseZone","tZone","hasAlignedHourOffset","isDST","isUtcOffset","zoneAbbr","zoneName","dates","isDSTShifted","_isDSTShifted","proto$1","get$1","index","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","shift","_calendar","_longDateFormat","formatUpper","toUpperCase","_invalidDate","_ordinal","isFuture","_relativeTime","pastFuture","source","isFormat","_monthsShort","monthName","_monthsParseExact","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","firstDayOfYear","firstDayOfWeek","_weekdays","_weekdaysMin","_weekdaysShort","weekdayName","_weekdaysParseExact","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","_fullWeekdaysParse","charAt","isLower","langData","mathAbs","addSubtract$1","absCeil","daysToMonths","monthsToDays","makeAs","alias","as","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","makeGetter","thresholds","abs$1","toISOString$1","Y","D","toFixed","total","totalSign","ymSign","daysSign","hmsSign","proto$2","monthsFromDays","withSuffix","posNegDuration","relativeTime$1","toIsoString","version","updateLocale","tmpLocale","relativeTimeRounding","roundingFunction","relativeTimeThreshold","threshold","limit","myMoment","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","TIME","TIME_SECONDS","TIME_MS","factory","frappe","ready","file_reading","form_dirty","$","web_form_settings","moment","moment_date_format","tooltip","$form","web_form_name","on","$input","attr","reader","FileReader","files","file","onload","filedata","__file_attachment","filename","dataurl","max_attachment_size","msgprint","__","readAsDataURL","set_mandatory_class","parent","toggleClass","maxlength","each","save","addClass","find","removeClass","idx","is_read_only","show_slide","focus","fieldname","grid","new_row","appendTo","setup_date_picker","parents","remove","get_data","mandatory_missing_in_last_doc","doc","get_data_for_doctype","web_form_doctype","doctype","doc_name","mandatory_missing","hasClass","has_value","concat","input_type","no_attachment","__no_attachment","html","for_payment","window","saving","text","last_section","allow_incomplete","type","method","web_form","freeze","btn","permanent","exc","message","login_required","scroll","success_link","setTimeout","is_new","location","href","pathname","always","bold","r","reload","ele","$dates","$date_times","datepicker","language","autoClose","datepicker_format","onSelect","date_str","$el","trigger","timepicker","summernotes","summernote","minHeight","toolbar","icons","summer_note_icons","align","alignCenter","alignJustify","alignLeft","alignRight","indent","outdent","arrowsAlt","caret","circle","close","code","eraser","font","frame","italic","link","unlink","magic","menuCheck","minus","orderedlist","pencil","picture","question","redo","square","strikethrough","subscript","superscript","table","textHeight","trash","underline","undo","unorderedlist","video","idCounter","eq","itemA","itemB","eq2","peq2","propName","ok","fail","self","not","f","and","fA","fB","item","invoke","uniqueId","id","rect2bnd","rect","$document","document","top","scrollTop","left","scrollLeft","width","right","height","bottom","invertObject","inverted","namespaceToCamel","namespace","substring","debounce","wait","immediate","timeout","context","callNow","clearTimeout","list","head","last","tail","inArray","contains","initial","prev","pred","all","sum","reduce","memo","v","collection","isEmpty","clusterBy","aLast","compact","aResult","unique","results","isSupportAmd","isFontInstalled","fontName","testFontName","$tester","css","position","fontSize","body","originalWidth","userAgent","navigator","isMSIE","browserVersion","isEdge","hasCodeMirror","CodeMirror","resolve","eval","specified","agent","isMac","appVersion","isFF","isPhantom","isWebkit","isChrome","isSafari","jqueryVersion","jquery","isW3CRangeSupport","createRange","NBSP_CHAR","String","fromCharCode","ZERO_WIDTH_NBSP_CHAR","dom","isEditable","node","makePredByNodeName","nodeName","isText","nodeType","isVoid","isPara","isPre","isLi","isTable","isData","isInline","isBodyContainer","isList","isHr","isBlockquote","isCell","isAnchor","isBody","blankHTML","nodeLength","nodeValue","childNodes","innerHTML","paddingBlankHTML","ancestor","parentNode","listAncestor","ancestors","el","listNext","nodes","nextSibling","insertAfter","preceding","insertBefore","appendChild","appendChildNodes","aChild","child","isLeftEdgePoint","point","isRightEdgePoint","isEdgePoint","isLeftEdgeOf","isRightEdgeOf","previousSibling","hasChildren","prevPoint","isSkipInnerOffset","nextPoint","isSamePoint","pointA","pointB","splitNode","options","isSkipPaddingBlankHTML","isNotSplitEdgePoint","splitText","childNode","cloneNode","splitTree","root","create","createElement","isRemoveChild","removeNode","removeChild","isTextarea","$node","stripLinebreaks","blank","emptyPara","isControlSizing","isElement","isPurePara","isHeading","isBlock","isBodyInline","isParaInline","isDiv","isBR","isSpan","isB","isU","isS","isI","isImg","isEmptyAnchor","isClosestSibling","nodeA","nodeB","withClosestSiblings","siblings","isLeftEdgePointOf","isRightEdgePointOf","isVisiblePoint","leftNode","rightNode","prevPointUntil","nextPointUntil","isCharPoint","ch","walkPoint","startPoint","endPoint","handler","isSkipOffset","singleChildAncestor","lastAncestor","filter","listPrev","listDescendant","descendants","fnWalk","current","commonAncestor","n","wrap","wrapperName","wrapper","makeOffsetPath","reverse","fromOffsetPath","offsets","splitPoint","splitRoot","container","topAncestor","pivot","createText","createTextNode","removeWhile","newNode","style","cssText","isNewlineOnBlock","markup","endSlash","isEndOfInlineContainer","isBlockNode","posFromPlaceholder","placeholder","$placeholder","outerHeight","attachEvents","events","detachEvents","off","Context","$note","ui","memos","modules","layoutInfo","initialize","createLayout","_initialize","hide","destroy","_destroy","removeData","removeLayout","reset","disabled","isDisabled","disable","buttons","plugins","initializeModule","removeModule","removeMemo","isActivated","codable","editable","triggerEvent","enable","callbacks","shouldInitialize","ModuleClass","withoutIntialize","createInvokeHandler","event","preventDefault","target","closest","splits","hasSeparator","moduleName","methodName","isExternalAPICalled","langInfo","note","first","Renderer","children","render","$parent","contents","className","click","$container","append","renderer","editor","editingArea","statusbar","airEditor","airEditable","buttonGroup","button","title","placement","dropdown","items","template","dropdownCheck","content","icon","checkClassName","palette","row","rowSize","colors","eventName","col","colSize","color","dialog","fade","action","button_class","footer","popover","hideArrow","iconClassName","tagName","toggleBtn","$btn","isEnable","toggleBtnActive","isActive","onDialogShown","$dialog","one","onDialogHidden","showDialog","modal","hideDialog","$editor","airMode","show","en-US","clear","size","image","insert","resizeFull","resizeHalf","resizeQuarter","floatLeft","floatRight","floatNone","shapeRounded","shapeCircle","shapeThumbnail","shapeNone","dragImageHere","dropImage","selectFromFiles","maximumFileSize","maximumFileSizeError","url","videoLink","providers","edit","textToDisplay","openInNewWindow","hr","normal","blockquote","pre","h1","h2","h3","h4","h5","h6","lists","unordered","ordered","help","fullscreen","codeview","paragraph","center","justify","recent","more","background","foreground","transparent","setTransparent","resetToDefault","shortcut","shortcuts","textFormatting","paragraphFormatting","documentStyle","extraKeys","insertParagraph","tab","untab","removeFormat","justifyLeft","justifyCenter","justifyRight","justifyFull","insertUnorderedList","insertOrderedList","formatPara","formatH1","formatH2","formatH3","formatH4","formatH5","formatH6","insertHorizontalRule","linkDialog.show","history","specialChar","select","keyMap","BACKSPACE","TAB","ENTER","SPACE","LEFT","UP","RIGHT","DOWN","NUM0","NUM1","NUM2","NUM3","NUM4","NUM5","NUM6","NUM7","NUM8","B","I","J","K","R","S","U","V","Z","SLASH","LEFTBRACKET","BACKSLASH","RIGHTBRACKET","isEdit","keyCode","isMove","nameFromCode","range","textRangeToPoint","textRange","isStart","prevContainer","parentElement","tester","createTextRange","moveToElementText","compareEndPoints","textRangeStart","curTextNode","collapse","firstChild","pointTester","duplicate","setEndPoint","textCount","cont","pointToTextRange","textRangeInfo","isCollapseToStart","prevTextNodes","collapseToStart","info","moveStart","WrappedRange","sc","so","ec","eo","nativeRange","w3cRange","setStart","setEnd","getPoints","getStartPoint","getEndPoint","nativeRng","selection","getSelection","rangeCount","removeAllRanges","addRange","scrollIntoView","offsetTop","normalize","getVisiblePoint","isLeftToRight","block","isCollapsed","includeAncestor","fullyContains","leftEdgeNodes","expand","startAncestor","endAncestor","boundaryPoints","isSameContainer","deleteContents","rng","emptyParents","makeIsOn","isOnEditable","isOnList","isOnAnchor","isOnCell","isOnData","wrapBodyInlineWithPara","inlineSiblings","para","insertNode","pasteHTML","contentsContainer","getWordRange","findAfter","bookmark","path","paraBookmark","paras","getClientRects","wrappedRange","createFromSelection","createFromNode","anchorNode","getRangeAt","startContainer","startOffset","endContainer","endOffset","textRangeEnd","isTextNode","createFromNodeBefore","createFromNodeAfter","createFromBookmark","createFromParaBookmark","async","readFileAsDataURL","Deferred","deferred","dataURL","onerror","reject","promise","createImage","$img","detach","display","History","$editable","stackOffset","applySnapshot","snapshot","rewind","recordUndo","Style","fromNode","styleInfo","$obj","propertyNames","propertyName","jQueryCSS","stylePara","styleNodes","expandClosestSibling","onlyPartialContains","nodesInRange","tails","elem","$cont","font-bold","queryCommandState","font-italic","font-underline","font-subscript","font-superscript","font-strikethrough","isUnordered","lineHeight","Bullet","toggleList","clustereds","wrapList","releaseList","listName","wrappedParas","diffLists","listNode","prevList","nextList","isEscapseToBody","releasedParas","headList","lastList","middleList","rootLists","rootList","listNodes","Typing","bullet","insertTab","tabsize","nextPara","emptyAnchors","Table","isShift","cell","cells","nextCell","createTable","colCount","rowCount","tdHTML","tds","idxCol","trHTML","trs","idxRow","$table","tableClassName","KEY_BOGUS","Editor","lastRange","typing","isDefaultPrevented","handleKeyMap","preventDefaultEditableShortCuts","changeEventName","outerWidth","maxHeight","metaKey","ctrlKey","altKey","shiftKey","keyName","afterCommand","saveRange","thenCollapse","restoreRange","saveTarget","clearTarget","restoreTarget","currentStyle","styleFromNode","beforeCommand","isPreventTrigger","commands","sCmd","execCommand","tabSize","wrapCommand","insertImage","src","param","then","$image","insertImages","maximumImageFileSize","insertImagesOrCallback","onImageUpload","insertText","textNode","getSelectedText","formatBlock","spans","firstSpan","font-size","hrNode","removeBogus","bogusNode","bogusCharIdx","deleteData","createLink","linkInfo","linkUrl","linkText","isNewWindow","isTextChanged","onCreateLink","anchors","removeAttr","getLinkInfo","$anchor","colorInfo","foreColor","backColor","insertTable","dim","dimension","floatMe","resize","resizeTo","$target","bKeepRatio","imageSize","newRatio","ratio","removeMedia","hasFocus","is","Clipboard","summernote.keydown","we","needKeydownHook","$paste","pasteByHook","opacity","before","pasteByEvent","dataURI","decodedData","atob","Uint8Array","charCodeAt","blob","Blob","pasteContent","clipboardData","originalEvent","kind","getAsFile","Dropzone","documentEventHandlers","$dropzone","prependTo","disableDragAndDrop","onDrop","attachDragAndDropEvent","$dropzoneMessage","onDragenter","isCodeview","hasEditorSize","onDragleave","dataTransfer","types","getData","cm","Codeview","$codable","sync","toggle","deactivate","activate","prettifyHtml","cmEditor","fromTextArea","codemirror","tern","server","TernServer","ternServer","updateArgHints","setSize","getValue","toTextArea","isChange","EDITABLE_PADDING","Statusbar","$statusbar","disableResizeEditor","stopPropagation","editableTop","clientY","minheight","Fullscreen","$toolbar","$window","$scrollbar","setsize","isFullscreen","Handle","$editingArea","summernote.mousedown","update","summernote.keyup summernote.scroll summernote.change summernote.dialog.shown","$handle","disableResizeImage","posStart","clientX","isImage","$selection","sizingText","AutoLink","linkPattern","summernote.keyup","handleKeyup","handleKeydown","lastWordRange","keyword","wordRange","AutoSync","summernote.change","Placeholder","summernote.init summernote.change","summernote.codeview.toggled","isShow","Buttons","invertedKeyMap","representShortcut","editorMethod","addToolbarButtons","addImagePopoverButtons","addLinkPopoverButtons","fontInstalledMap","fontNamesIgnoreCheck","styleTags","tag","fontNames","fontSizes","$button","currentTarget","$dropdown","$holder","$color","$currentButton","lineHeights","insertTableMaxSize","mousedown","tableMoveHandler","build","groups","groupIdx","groupLen","group","groupName","$group","updateCurrentStyle","updateBtnStates",".note-btn-bold",".note-btn-italic",".note-btn-underline",".note-btn-subscript",".note-btn-superscript",".note-btn-strikethrough","isChecked","infos","selector","posOffset","$picker","$dimensionDisplay","$catcher","$highlighted","$unhighlighted","offsetX","posCatcher","pageX","pageY","offsetY","Toolbar","toolbarContainer","updateFullscreen","updateCodeview","isIncludeCodeview","LinkDialog","dialogsInBody","disableLinkTarget","dialogsFade","bindEnterKey","toggleLinkBtn","$linkBtn","$linkText","$linkUrl","showLinkDialog","$openInNewWindow","handleLinkTextUpdate","handleLinkUrlUpdate","state","LinkPopover","summernote.keyup summernote.mouseup summernote.change summernote.scroll","summernote.dialog.shown","$popover","prepend","$content","ImageDialog","imageLimitation","log","readableSize","showImageDialog","$imageInput","$imageUrl","$imageBtn","replaceWith","ImagePopover","VideoDialog","createVideoNode","$video","ytMatch","igMatch","vMatch","vimMatch","dmMatch","youkuMatch","mp4Match","oggMatch","webmMatch","youtubeId","showVideoDialog","$videoUrl","$videoBtn","HelpDialog","createShortCutList","command","$row","margin-right","max-height","showHelpDialog","AirPopover","summernote.keyup summernote.mouseup summernote.scroll","summernote.change summernote.dialog.shown","summernote.focusout","relatedTarget","air","bnd","HintPopover","hint","hintDirection","hints","selectItem","$item","innerHeight","moveDown","$current","$next","$nextGroup","moveUp","$prev","$prevGroup","nodeFromItem","createItemTemplates","hintIdx","searchKeyword","search","createGroup","clipboard","dropzone","handle","hintPopover","autoLink","autoSync","linkDialog","linkPopover","imageDialog","imagePopover","videoDialog","helpDialog","airPopover","styleWithSpan","textareaAutoSync","onInit","onFocus","onBlur","onEnter","onKeyup","onKeydown","onImageUploadError","mode","htmlMode","lineNumbers","pc","CTRL+Z","CTRL+Y","SHIFT+TAB","CTRL+B","CTRL+I","CTRL+U","CTRL+SHIFT+S","CTRL+BACKSLASH","CTRL+SHIFT+L","CTRL+SHIFT+E","CTRL+SHIFT+R","CTRL+SHIFT+J","CTRL+SHIFT+NUM7","CTRL+SHIFT+NUM8","CTRL+LEFTBRACKET","CTRL+RIGHTBRACKET","CTRL+NUM0","CTRL+NUM1","CTRL+NUM2","CTRL+NUM3","CTRL+NUM4","CTRL+NUM5","CTRL+NUM6","CTRL+ENTER","CTRL+K","mac","CMD+Z","CMD+SHIFT+Z","CMD+B","CMD+I","CMD+U","CMD+SHIFT+S","CMD+BACKSLASH","CMD+SHIFT+L","CMD+SHIFT+E","CMD+SHIFT+R","CMD+SHIFT+J","CMD+SHIFT+NUM7","CMD+SHIFT+NUM8","CMD+LEFTBRACKET","CMD+RIGHTBRACKET","CMD+NUM0","CMD+NUM1","CMD+NUM2","CMD+NUM3","CMD+NUM4","CMD+NUM5","CMD+NUM6","CMD+ENTER","CMD+K","require$$0","jQuery","classes","inline","startDate","firstDay","weekends","altField","altFieldDateFormat","toggleSelected","keyboardNav","view","minView","showOtherMonths","selectOtherMonths","moveToOtherMonthsOnSelect","showOtherYears","selectOtherYears","moveToOtherYearsOnSelect","minDate","maxDate","disableNavWhenOutOfRange","multipleDates","multipleDatesSeparator","todayButton","clearButton","showEvent","monthsField","prevHtml","nextHtml","navTitles","onlyTimepicker","dateTimeSeparator","minHours","maxHours","minMinutes","maxMinutes","minSeconds","maxSeconds","hoursStep","minutesStep","secondsStep","onShow","onHide","onChangeMonth","onChangeYear","onChangeDecade","onChangeView","onRenderCell","ctrlRight","ctrlUp","ctrlLeft","ctrlDown","shiftRight","shiftUp","shiftLeft","shiftDown","altUp","altRight","altLeft","altDown","ctrlShiftUp","opts","elIsInput","$altField","inited","visible","silent","currentView","_createShortCuts","selectedDates","views","minRange","maxRange","_prevOnSelectValue","init","VERSION","viewIndexes","_buildDatepickersContainer","_buildBaseHtml","_defineLocale","_syncWithMinMaxDates","_setPositionClasses","_bindEvents","_bindKeyboardEvents","$datepicker","_onMouseDownDatepicker","bind","_onMouseUpDatepicker","Timepicker","_bindTimepickerEvents","Body","nav","Navigation","_onClickCell","_onMouseEnterCell","_onMouseLeaveCell","_onShowEvent","_onMouseUpEl","_onBlur","_onKeyUpGeneral","_onResize","_onMouseUpBody","_onKeyDown","_onKeyUp","_onHotKey","_onTimeChange","isWeekend","loc","ru","_getWordBoundaryRegExp","ampm","$nav","_triggerOnChange","getParsedDate","formatDate","parsedDate","curDecade","getLeadingZeroNum","getDecade","fullHours","p","_replacer","_getValidHoursFromDate","dayPeriod","fullDate","daysShort","fullMonth","fullMinutes","selectDate","lastSelectedDate","_setTime","_trigger","setHours","setMinutes","setSeconds","_render","_isSelected","bigger","_setInputValue","timepickerIsActive","removeDate","splice","today","_addButtonsIfNeed","setPosition","_handleDate","_updateRanges","_updateCurrentTime","minTime","maxTime","_isInRange","_getDimensions","_getDateFromCell","_bindVisionEvents","focused","inFocus","blur","down","_changeView","up","viewIndex","_handleHotKey","_getFocusedDate","getDaysCount","_registerKey","_unRegisterKey","_isHotKeyPressed","every","_focusNextCell","cellType","_getCell","_handleAlreadySelectedDates","timepickerFocus","which","less","_update","_focused","prevView","getHours","getMinutes","getSeconds","resetTime","Constructor","daysMin","proxy","$names","$cells","_getDayNamesHtml","_getCellContents","_getDaysHtml","_getDayHtml","_getMonthsHtml","_getMonthHtml","_getYearsHtml","_getYearHtml","_renderTypes","acitve","active","_handleClick","$buttonsContainer","_onClickNavButton","_onClickNavTitle","_addButton","_getTitle","setNavStatus","_addButtonsContainer","label","_disableNav","_activateNav","_buildHTML","_onSelectDate","$ranges","_onChangeRange","_onMouseUpRange","_onMouseEnterRange","_onMouseOutRange","_setMinTimeFromDate","_setMaxTimeFromDate","_setDefaultMinMaxTime","_validateHoursMinutes","hourMin","hourMax","hourStep","hourValue","hourVisible","displayHours","minMin","minMax","minStep","minValue","secMin","secMax","secStep","secValue","$timepicker","$hours","$minutes","$seconds","$hoursText","$minutesText","$secondsText","$ampm","_hours"],"mappings":"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"}